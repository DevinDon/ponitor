#!/usr/bin/env node
!function(e){var t={};function r(n){if(t[n])return t[n].exports;var s=t[n]={i:n,l:!1,exports:{}};return e[n].call(s.exports,s,s.exports,r),s.l=!0,s.exports}r.m=e,r.c=t,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var s in e)r.d(n,s,function(t){return e[t]}.bind(null,s));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s=8)}([function(e,t){e.exports=require("child_process")},function(e,t,r){"use strict";const n=r(3),s=r(2),i=r(0).spawn,o=r(0).exec,a=r(0).execSync,l=r(12);let c=process.platform;const p="linux"===c,u="darwin"===c,d="win32"===c,m="freebsd"===c,f="openbsd"===c,g="netbsd"===c;let h=0,y="",v="";const x={windowsHide:!0,maxBuffer:2048e4,encoding:"UTF-8",env:l._extend({},process.env,{LANG:"en_US.UTF-8"})};function w(e,t,r,n){r=r||":",t=t.toLowerCase(),n=n||!1;for(let s=0;s<e.length;s++){let i=e[s].toLowerCase().replace(/\t/g,"");if(n&&(i=i.trim()),i.startsWith(t)){const t=e[s].split(r);return t.length>=2?(t.shift(),t.join(r).trim()):""}}return""}function S(){if("Windows_NT"===n.type()&&!y&&(y=process.env.WINDIR+"\\system32\\wbem\\wmic.exe",!s.existsSync(y)))try{const e=a("WHERE WMIC").toString().split("\r\n");y=e&&e.length?e[0]:"wmic"}catch(e){y="wmic"}return y}t.toInt=function(e){let t=parseInt(e,10);return isNaN(t)&&(t=0),t},t.execOptsWin=x,t.getCodepage=function(){if(d){if(!v)try{const e=a("chcp"),t=e.toString().split("\r\n")[0].split(":");v=t.length>1?t[1].replace(".",""):""}catch(e){v="437"}return v}if(p||u||m||f||g){if(!v)try{const e=a("echo $LANG"),t=e.toString().split("\r\n")[0].split(".");v=t.length>1?t[1].trim():"",v||(v="UTF-8")}catch(e){v="UTF-8"}return v}},t.execWin=function(e,t,r){r||(r=t,t=x),o("chcp 65001 > nul && cmd /C "+e+" && chcp "+v+" > nul",t,(function(e,t){r(e,t)}))},t.isFunction=function(e){return e&&"[object Function]"==={}.toString.call(e)},t.unique=function(e){let t=[],r={};for(let n=0;n<e.length;n++){let s=Object.keys(e[n]);s.sort((function(e,t){return e-t}));let i="";for(let t=0;t<s.length;t++)i+=JSON.stringify(s[t]),i+=JSON.stringify(e[n][s[t]]);({}).hasOwnProperty.call(r,i)||(t.push(e[n]),r[i]=!0)}return t},t.sortByKey=function(e,t){return e.sort((function(e,r){let n="",s="";return t.forEach((function(t){n+=e[t],s+=r[t]})),n<s?-1:n>s?1:0}))},t.cores=function(){return 0===h&&(h=n.cpus().length),h},t.getValue=w,t.decodeEscapeSequence=function(e,t){return t=t||16,e.replace(/\\x([0-9A-Fa-f]{2})/g,(function(){return String.fromCharCode(parseInt(arguments[1],t))}))},t.parseDateTime=function(e,t){const r={date:"",time:""};let n=((t=t||{}).dateFormat||"").toLowerCase(),s=t.pmDesignator||"";const i=e.split(" ");if(i[0]){if(i[0].indexOf("/")>=0){const t=i[0].split("/");if(3===t.length)if(4===t[0].length)r.date=t[0]+"-"+("0"+t[1]).substr(-2)+"-"+("0"+t[2]).substr(-2);else if(2===t[2].length)n.indexOf("/d/")>-1||n.indexOf("/dd/"),r.date="20"+t[2]+"-"+("0"+t[1]).substr(-2)+"-"+("0"+t[0]).substr(-2);else{(e.toLowerCase().indexOf("pm")>-1||e.toLowerCase().indexOf("p.m.")>-1||e.toLowerCase().indexOf("p. m.")>-1||e.toLowerCase().indexOf("am")>-1||e.toLowerCase().indexOf("a.m.")>-1||e.toLowerCase().indexOf("a. m.")>-1||n.indexOf("/d/")>-1||n.indexOf("/dd/")>-1)&&0!==n.indexOf("dd/")?r.date=t[2]+"-"+("0"+t[0]).substr(-2)+"-"+("0"+t[1]).substr(-2):r.date=t[2]+"-"+("0"+t[1]).substr(-2)+"-"+("0"+t[0]).substr(-2)}}if(i[0].indexOf(".")>=0){const e=i[0].split(".");3===e.length&&(n.indexOf(".d.")>-1||n.indexOf(".dd.")>-1?r.date=e[2]+"-"+("0"+e[0]).substr(-2)+"-"+("0"+e[1]).substr(-2):r.date=e[2]+"-"+("0"+e[1]).substr(-2)+"-"+("0"+e[0]).substr(-2))}if(i[0].indexOf("-")>=0){const e=i[0].split("-");3===e.length&&(r.date=e[0]+"-"+("0"+e[1]).substr(-2)+"-"+("0"+e[2]).substr(-2))}}if(i[1]){i.shift();let e=i.join(" ");r.time=function(e,t){t=t||"";let r=0,n=0,s=function(e){let t="",r=0;return e.split("").forEach(e=>{e>="0"&&e<="9"?1===r&&r++:(0===r&&r++,1===r&&(t+=e))}),t}(e=e.toUpperCase()),i=e.split(s);if(i.length>=2){i[2]&&(i[1]+=i[2]);let e=i[1]&&i[1].toLowerCase().indexOf("pm")>-1||i[1].toLowerCase().indexOf("p.m.")>-1||i[1].toLowerCase().indexOf("p. m.")>-1||i[1].toLowerCase().indexOf("n")>-1||i[1].toLowerCase().indexOf("ch")>-1||i[1].toLowerCase().indexOf("Ã¶s")>-1||t&&i[1].toLowerCase().indexOf(t)>-1;return r=parseInt(i[0],10),n=parseInt(i[1],10),r=e&&r<12?r+12:r,("0"+r).substr(-2)+":"+("0"+n).substr(-2)}}(e,s)}return r},t.parseHead=function(e,t){let r=t>0,n=1,s=0,i=0,o=[];for(let a=0;a<e.length;a++)n<=t?(/\s/.test(e[a])&&!r&&(i=a-1,o.push({from:s,to:i+1,cap:e.substring(s,i+1)}),s=i+2,n++),r=" "===e[a]):(!/\s/.test(e[a])&&r&&(i=a-1,s<i&&o.push({from:s,to:i,cap:e.substring(s,i)}),s=i+1,n++),r=" "===e[a]);i=1e3,o.push({from:s,to:i,cap:e.substring(s,i)});let a=o.length;for(var l=0;l<a;l++)0===o[l].cap.replace(/\s/g,"").length&&l+1<a&&(o[l].to=o[l+1].to,o[l].cap=o[l].cap+o[l+1].cap,o.splice(l+1,1),a-=1);return o},t.findObjectByKey=function(e,t,r){for(let n=0;n<e.length;n++)if(e[n][t]===r)return n;return-1},t.getWmic=S,t.wmic=function(e,t){return t=t||x,new Promise(r=>{process.nextTick(()=>{try{o(S()+" "+e,t,(function(e,t){r(t,e)})).stdin.end()}catch(e){r("",e)}})})},t.darwinXcodeExists=function(){const e=s.existsSync("/Library/Developer/CommandLineTools/usr/bin/"),t=s.existsSync("/Applications/Xcode.app/Contents/Developer/Tools"),r=s.existsSync("/Library/Developer/Xcode/");return e||r||t},t.getVboxmanage=function(){return d?process.env.VBOX_INSTALL_PATH||process.env.VBOX_MSI_INSTALL_PATH+'\\VBoxManage.exe" ':"vboxmanage"},t.powerShell=function(e){let t="";return new Promise(r=>{process.nextTick(()=>{try{const s=i("powershell.exe",["-NoLogo","-InputFormat","Text","-NoExit","-ExecutionPolicy","Unrestricted","-Command","-"],{stdio:"pipe"});if(s&&!s.pid&&s.on("error",(function(){r(t)})),s&&s.pid){s.stdout.on("data",(function(e){t+=e.toString("utf8")})),s.stderr.on("data",(function(){s.kill(),r(t)})),s.on("close",(function(){s.kill(),r(t)})),s.on("error",(function(){s.kill(),r(t)}));try{s.stdin.write(e+n.EOL),s.stdin.write("exit"+n.EOL),s.stdin.end()}catch(e){s.kill(),r(t)}}else r(t)}catch(e){r(t)}})})},t.nanoSeconds=function(){const e=process.hrtime();return Array.isArray(e)&&2===e.length?1e9*+e[0]+ +e[1]:0},t.countUniqueLines=function(e,t){t=t||"";const r=[];return e.forEach(e=>{e.startsWith(t)&&-1===r.indexOf(e)&&r.push(e)}),r.length},t.countLines=function(e,t){t=t||"";const r=[];return e.forEach(e=>{e.startsWith(t)&&r.push(e)}),r.length},t.noop=function(){},t.isRaspberry=function(){let e=[];try{e=s.readFileSync("/proc/cpuinfo",{encoding:"utf8"}).split("\n")}catch(e){return!1}const t=w(e,"hardware");return t&&["BCM2708","BCM2709","BCM2710","BCM2835","BCM2837B0"].indexOf(t)>-1},t.isRaspbian=function(){let e=[];try{e=s.readFileSync("/etc/os-release",{encoding:"utf8"}).split("\n")}catch(e){return!1}const t=w(e,"id");return t&&t.indexOf("raspbian")>-1},t.sanitizeShellString=function(e){let t=e;return t=t.replace(/>/g,""),t=t.replace(/</g,""),t=t.replace(/\*/g,""),t=t.replace(/\?/g,""),t=t.replace(/\[/g,""),t=t.replace(/\]/g,""),t=t.replace(/\|/g,""),t=t.replace(/\`/g,""),t=t.replace(/\$/g,""),t=t.replace(/;/g,""),t=t.replace(/&/g,""),t=t.replace(/\)/g,""),t=t.replace(/\(/g,""),t=t.replace(/\$/g,""),t=t.replace(/#/g,""),t=t.replace(/\\/g,""),t=t.replace(/\t/g,""),t=t.replace(/\n/g,""),t=t.replace(/\"/g,""),t}},function(e,t){e.exports=require("fs")},function(e,t){e.exports=require("os")},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.checkLogDir=t.logger=t.LOG_DIR=void 0;const n=r(32),s=r(2);t.LOG_DIR="/home/admin/service/ponitor/log",t.logger=new n.Logger({name:"pointor",stdout:process.stdout,stderr:process.stderr,fileout:t.LOG_DIR+"/ponitor.log",fileerr:t.LOG_DIR+"/ponitor.log"}),t.checkLogDir=function(){s.existsSync(""+t.LOG_DIR)||s.mkdirSync(""+t.LOG_DIR)}},function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),s=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||t.hasOwnProperty(r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),t.Level=void 0,s(r(33),t),function(e){e[e.ALL=0]="ALL",e[e.DEBUG=1]="DEBUG",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.OFF=5]="OFF"}(t.Level||(t.Level={}))},function(e,t,r){"use strict";const n=r(11).version,s=r(1),i=r(13),o=r(14),a=r(15),l=r(16),c=r(17),p=r(18),u=r(19),d=r(20),m=r(21),f=r(22),g=r(24),h=r(25),y=r(28),v=r(31);let x=process.platform;const w="win32"===x,S="freebsd"===x,O="openbsd"===x,_="netbsd"===x,b="sunos"===x;function I(){return n}function C(e){return new Promise(t=>{process.nextTick(()=>{let r={};r.version=I(),Promise.all([i.system(),i.bios(),i.baseboard(),i.chassis(),o.osInfo(),o.uuid(),o.versions(),a.cpu(),a.cpuFlags(),p.graphics(),d.networkInterfaces(),l.memLayout(),u.diskLayout()]).then(n=>{r.system=n[0],r.bios=n[1],r.baseboard=n[2],r.chassis=n[3],r.os=n[4],r.uuid=n[5],r.versions=n[6],r.cpu=n[7],r.cpu.flags=n[8],r.graphics=n[9],r.net=n[10],r.memLayout=n[11],r.diskLayout=n[12],e&&e(r),t(r)})})})}function L(e,t,r){return s.isFunction(t)&&(r=t,t=""),s.isFunction(e)&&(r=e,e=""),new Promise(n=>{process.nextTick(()=>{t=t||d.getDefaultNetworkInterface(),e=e||"";let s=function(){let e=15;return w&&(e=11),(S||O||_)&&(e=11),b&&(e=6),function(){0==--e&&(r&&r(i),n(i))}}(),i={};i.time=o.time(),i.node=process.versions.node,i.v8=process.versions.v8,a.cpuCurrentspeed().then(e=>{i.cpuCurrentspeed=e,s()}),g.users().then(e=>{i.users=e,s()}),w||f.processes().then(e=>{i.processes=e,s()}),a.currentLoad().then(e=>{i.currentLoad=e,s()}),b||a.cpuTemperature().then(e=>{i.temp=e,s()}),O||S||_||b||d.networkStats(t).then(e=>{i.networkStats=e,s()}),b||d.networkConnections().then(e=>{i.networkConnections=e,s()}),l.mem().then(e=>{i.mem=e,s()}),b||c().then(e=>{i.battery=e,s()}),w||b||f.services(e).then(e=>{i.services=e,s()}),b||u.fsSize().then(e=>{i.fsSize=e,s()}),w||O||S||_||b||u.fsStats().then(e=>{i.fsStats=e,s()}),w||O||S||_||b||u.disksIO().then(e=>{i.disksIO=e,s()}),O||S||_||b||m.wifiNetworks().then(e=>{i.wifiNetworks=e,s()}),h.inetLatency().then(e=>{i.inetLatency=e,s()})})})}w&&s.getCodepage(),t.version=I,t.system=i.system,t.bios=i.bios,t.baseboard=i.baseboard,t.chassis=i.chassis,t.time=o.time,t.osInfo=o.osInfo,t.versions=o.versions,t.shell=o.shell,t.uuid=o.uuid,t.cpu=a.cpu,t.cpuFlags=a.cpuFlags,t.cpuCache=a.cpuCache,t.cpuCurrentspeed=a.cpuCurrentspeed,t.cpuTemperature=a.cpuTemperature,t.currentLoad=a.currentLoad,t.fullLoad=a.fullLoad,t.mem=l.mem,t.memLayout=l.memLayout,t.battery=c,t.graphics=p.graphics,t.fsSize=u.fsSize,t.fsOpenFiles=u.fsOpenFiles,t.blockDevices=u.blockDevices,t.fsStats=u.fsStats,t.disksIO=u.disksIO,t.diskLayout=u.diskLayout,t.networkInterfaceDefault=d.networkInterfaceDefault,t.networkGatewayDefault=d.networkGatewayDefault,t.networkInterfaces=d.networkInterfaces,t.networkStats=d.networkStats,t.networkConnections=d.networkConnections,t.wifiNetworks=m.wifiNetworks,t.services=f.services,t.processes=f.processes,t.processLoad=f.processLoad,t.users=g.users,t.inetChecksite=h.inetChecksite,t.inetLatency=h.inetLatency,t.dockerInfo=y.dockerInfo,t.dockerContainers=y.dockerContainers,t.dockerContainerStats=y.dockerContainerStats,t.dockerContainerProcesses=y.dockerContainerProcesses,t.dockerAll=y.dockerAll,t.vboxInfo=v.vboxInfo,t.getStaticData=C,t.getDynamicData=L,t.getAllData=function(e,t,r){return new Promise(n=>{process.nextTick(()=>{let i={};t&&s.isFunction(t)&&!r&&(r=t,t=""),e&&s.isFunction(e)&&!t&&!r&&(r=e,e="",t=""),C().then(s=>{i=s,L(e,t).then(e=>{for(let t in e)({}).hasOwnProperty.call(e,t)&&(i[t]=e[t]);r&&r(i),n(i)})})})})},t.get=function(e,r){return new Promise(n=>{process.nextTick(()=>{const s=Object.keys(e).filter(e=>({}.hasOwnProperty.call(t,e))).map(e=>t[e]());Promise.all(s).then(s=>{const i={};let o=0;for(let r in e)if({}.hasOwnProperty.call(e,r)&&{}.hasOwnProperty.call(t,r)&&s.length>o){if("*"===e[r]||"all"===e[r])i[r]=s[o];else{const t=e[r].replace(/,/g," ").replace(/ +/g," ").split(" "),n={};t.forEach(e=>{({}).hasOwnProperty.call(s[o],e)&&(n[e]=s[o][e])}),i[r]=n}o++}r&&r(i),n(i)})})})}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.fontYellow=t.fontWhite=t.fontRed=t.fontMagenta=t.fontGreen=t.fontCyan=t.fontBlue=t.fontBlack=t.backgroundYellow=t.backgroundWhite=t.backgroundRed=t.backgroundMagenta=t.backgroundGreen=t.backgroundCyan=t.backgroundBlue=t.backgroundBlack=t.color=void 0;const n=r(5);function s(e,t){return`${e}${t}${n.COLORS.CONSOLE.reset}`}t.color=s,t.backgroundBlack=function(e){return s(n.COLORS.BACKGROUND.black,e)},t.backgroundBlue=function(e){return s(n.COLORS.BACKGROUND.blue,e)},t.backgroundCyan=function(e){return s(n.COLORS.BACKGROUND.cyan,e)},t.backgroundGreen=function(e){return s(n.COLORS.BACKGROUND.green,e)},t.backgroundMagenta=function(e){return s(n.COLORS.BACKGROUND.magenta,e)},t.backgroundRed=function(e){return s(n.COLORS.BACKGROUND.red,e)},t.backgroundWhite=function(e){return s(n.COLORS.BACKGROUND.white,e)},t.backgroundYellow=function(e){return s(n.COLORS.BACKGROUND.yellow,e)},t.fontBlack=function(e){return s(n.COLORS.FONT.black,e)},t.fontBlue=function(e){return s(n.COLORS.FONT.blue,e)},t.fontCyan=function(e){return s(n.COLORS.FONT.cyan,e)},t.fontGreen=function(e){return s(n.COLORS.FONT.green,e)},t.fontMagenta=function(e){return s(n.COLORS.FONT.magenta,e)},t.fontRed=function(e){return s(n.COLORS.FONT.red,e)},t.fontWhite=function(e){return s(n.COLORS.FONT.white,e)},t.fontYellow=function(e){return s(n.COLORS.BACKGROUND.yellow,e)}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(9),s=r(4);try{(new n.MemoryMonitor).run()}catch(e){s.logger.error(e)}},function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),s=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||t.hasOwnProperty(r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),s(r(10),t),s(r(37),t)},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MemoryMonitor=void 0;const n=r(0),s=r(6),i=r(4);t.MemoryMonitor=class{constructor(){this.times=0,i.checkLogDir()}async getFree(){return Math.round((await s.mem()).free/1024/1024)}run(){i.logger.info("Memory monitor starting..."),setInterval(async()=>{const e=await this.getFree();e<100&&(i.logger.warn(`Free Memory: ${e} MB`),n.execSync("sync; echo 1 | sudo tee /proc/sys/vm/drop_caches"),i.logger.info(`Free Memory: ${await this.getFree()} MB`)),this.times++%60==0&&i.logger.info(`Free Memory: ${e} MB`)},18e5),i.logger.info("Memory monitor started.")}}},function(e){e.exports=JSON.parse('{"_from":"systeminformation","_id":"systeminformation@4.26.10","_inBundle":false,"_integrity":"sha512-bO4FIzrjESAfh4KHwkUJym3jvKtJ4oJ2PG0BBQGBmKa0pF2oanpkB7CF4ZsSX7vfp3+GKaLzioVwpV/3Tyk+lQ==","_location":"/systeminformation","_phantomChildren":{},"_requested":{"type":"tag","registry":true,"raw":"systeminformation","name":"systeminformation","escapedName":"systeminformation","rawSpec":"","saveSpec":null,"fetchSpec":"latest"},"_requiredBy":["#USER","/"],"_resolved":"https://registry.npmjs.org/systeminformation/-/systeminformation-4.26.10.tgz","_shasum":"2244e7529ca9e7b8ecd6941e19fe7df7e3da9146","_spec":"systeminformation","_where":"/home/admin/service/ponitor","author":{"name":"Sebastian Hildebrandt","email":"hildebrandt@plus-innovations.com","url":"https://plus-innovations.com"},"bin":{"systeminformation":"lib/cli.js"},"bugs":{"url":"https://github.com/sebhildebrandt/systeminformation/issues"},"bundleDependencies":false,"deprecated":false,"description":"Simple system and OS information library","devDependencies":{"@types/chai":"^4.1.7","@types/mocha":"^5.2.5","@types/node":"^10.12.18","chai":"^4.2.0","coveralls":"^3.0.2","mocha":"^5.2.0","nyc":"^13.1.0","rimraf":"^2.6.2","source-map-support":"^0.5.9","ts-node":"^7.0.1","typescript":"^3.2.2"},"engines":{"node":">=4.0.0"},"files":["lib/"],"funding":{"type":"Buy me a coffee","url":"https://www.buymeacoffee.com/systeminfo"},"homepage":"https://systeminformation.io","keywords":["system information","sysinfo","monitor","monitoring","os","linux","osx","windows","freebsd","openbsd","netbsd","cpu","cpuload","physical cores","logical cores","processor","cores","threads","socket type","memory","file system","fsstats","diskio","block devices","netstats","network","network interfaces","network connections","network stats","iface","processes","users","internet","battery","docker","docker stats","docker processes","graphics","graphic card","graphic controller","gpu","display","smart","disk layout","wifi","wifinetworks","virtual box","virtualbox","vm"],"license":"MIT","main":"./lib/index.js","name":"systeminformation","nyc":{"extension":[".js"],"include":["lib/**"],"exclude":["**/*.d.ts"],"reporter":["html","text"],"all":true},"os":["darwin","linux","win32","freebsd","openbsd","netbsd","sunos"],"repository":{"type":"git","url":"git+https://github.com/sebhildebrandt/systeminformation.git"},"scripts":{"clean":"rimraf dist","compile":"tsc","coverage":"nyc report --reporter=text-lcov","test":"nyc mocha --require ts-node/register --require source-map-support/register  ./test/**/*.test.ts","test-bare":"npm run compile && mocha ./test/**/*.test.js","watch":"tsc -w"},"types":"./lib/index.d.ts","version":"4.26.10"}')},function(e,t){e.exports=require("util")},function(e,t,r){"use strict";const n=r(0).exec,s=r(0).execSync,i=r(2),o=r(1);let a=process.platform;const l="linux"===a,c="darwin"===a,p="win32"===a,u="freebsd"===a,d="openbsd"===a,m="netbsd"===a,f="sunos"===a;t.system=function(e){return new Promise(t=>{process.nextTick(()=>{let r={manufacturer:"",model:"Computer",version:"",serial:"-",uuid:"-",sku:"-"};if((l||u||d||m)&&n("export LC_ALL=C; dmidecode -t system 2>/dev/null; unset LC_ALL",(function(a,l){let c=l.toString().split("\n");r.manufacturer=o.getValue(c,"manufacturer"),r.model=o.getValue(c,"product name"),r.version=o.getValue(c,"version"),r.serial=o.getValue(c,"serial number"),r.uuid=o.getValue(c,"uuid"),r.sku=o.getValue(c,"sku number");try{c=s('echo -n "product_name: "; cat /sys/devices/virtual/dmi/id/product_name 2>/dev/null; echo;\n            echo -n "product_serial: "; cat /sys/devices/virtual/dmi/id/product_serial 2>/dev/null; echo;\n            echo -n "product_uuid: "; cat /sys/devices/virtual/dmi/id/product_uuid 2>/dev/null; echo;\n            echo -n "product_version: "; cat /sys/devices/virtual/dmi/id/product_version 2>/dev/null; echo;\n            echo -n "sys_vendor: "; cat /sys/devices/virtual/dmi/id/sys_vendor 2>/dev/null; echo;').toString().split("\n"),r.manufacturer=""===r.manufacturer?o.getValue(c,"sys_vendor"):r.manufacturer,r.model=""===r.model?o.getValue(c,"product_name"):r.model,r.version=""===r.version?o.getValue(c,"product_version"):r.version,r.serial=""===r.serial?o.getValue(c,"product_serial"):r.serial,r.uuid=""===r.uuid?o.getValue(c,"product_uuid"):r.uuid}catch(e){o.noop()}r.serial&&-1===r.serial.toLowerCase().indexOf("o.e.m.")||(r.serial="-"),r.manufacturer&&-1===r.manufacturer.toLowerCase().indexOf("o.e.m.")||(r.manufacturer=""),r.model&&-1===r.model.toLowerCase().indexOf("o.e.m.")||(r.model="Computer"),r.version&&-1===r.version.toLowerCase().indexOf("o.e.m.")||(r.version=""),r.sku&&-1===r.sku.toLowerCase().indexOf("o.e.m.")||(r.sku="-"),(i.existsSync("/.dockerenv")||i.existsSync("/.dockerinit"))&&(r.model="Docker Container"),""===r.manufacturer&&"Computer"===r.model&&""===r.version?n('dmesg | grep -i virtual | grep -iE "vmware|qemu|kvm|xen"',(function(n,s){if(!n){s.toString().split("\n").length>0&&(r.model="Virtual machine")}""===r.manufacturer&&"Computer"===r.model&&""===r.version?i.readFile("/proc/cpuinfo",(function(n,s){if(!n){let e=s.toString().split("\n");r.model=o.getValue(e,"hardware",":",!0).toUpperCase(),r.version=o.getValue(e,"revision",":",!0).toLowerCase(),r.serial=o.getValue(e,"serial",":",!0),"BCM2835"!==r.model&&"BCM2708"!==r.model&&"BCM2709"!==r.model&&"BCM2835"!==r.model&&"BCM2837"!==r.model||(["c03112"].indexOf(r.version)>=0&&(r.model=r.model+" - Pi 4 Model B",r.version=r.version+" - Rev. 1.2"),["a03111","b03111","c03111"].indexOf(r.version)>=0&&(r.model=r.model+" - Pi 4 Model B",r.version=r.version+" - Rev. 1.1"),["a02082","a22082","a32082"].indexOf(r.version)>=0&&(r.model=r.model+" - Pi 3 Model B",r.version=r.version+" - Rev. 1.2"),["a020d3"].indexOf(r.version)>=0&&(r.model=r.model+" - Pi 3 Model B+",r.version=r.version+" - Rev. 1.3"),["9020e0"].indexOf(r.version)>=0&&(r.model=r.model+" - Pi 3 Model A+",r.version=r.version+" - Rev. 1.3"),["a01040"].indexOf(r.version)>=0&&(r.model=r.model+" - Pi 2 Model B",r.version=r.version+" - Rev. 1.0"),["a01041","a21041"].indexOf(r.version)>=0&&(r.model=r.model+" - Pi 2 Model B",r.version=r.version+" - Rev. 1.1"),["a22042"].indexOf(r.version)>=0&&(r.model=r.model+" - Pi 2 Model B",r.version=r.version+" - Rev. 1.2"),["900092"].indexOf(r.version)>=0&&(r.model=r.model+" - Pi Zero",r.version=r.version+" - Rev 1.2"),["900093","920093"].indexOf(r.version)>=0&&(r.model=r.model+" - Pi Zero",r.version=r.version+" - Rev 1.3"),["9000c1"].indexOf(r.version)>=0&&(r.model=r.model+" - Pi Zero W",r.version=r.version+" - Rev 1.1"),["0002","0003"].indexOf(r.version)>=0&&(r.model=r.model+" - Pi Model B",r.version=r.version+" - Rev 1.0"),["0004","0005","0006","000d","000e","000f"].indexOf(r.version)>=0&&(r.model=r.model+" - Pi Model B",r.version=r.version+" - Rev 2.0"),["0007","0008","0009"].indexOf(r.version)>=0&&(r.model=r.model+" - Pi Model A",r.version=r.version+" - Rev 2.0"),["0010"].indexOf(r.version)>=0&&(r.model=r.model+" - Pi Model B+",r.version=r.version+" - Rev 1.0"),["0012"].indexOf(r.version)>=0&&(r.model=r.model+" - Pi Model A+",r.version=r.version+" - Rev 1.0"),["0013"].indexOf(r.version)>=0&&(r.model=r.model+" - Pi Model B+",r.version=r.version+" - Rev 1.2"),["0015"].indexOf(r.version)>=0&&(r.model=r.model+" - Pi Model A+",r.version=r.version+" - Rev 1.1"),-1!==r.model.indexOf("Pi")&&r.version&&(r.manufacturer="Raspberry Pi Foundation"))}e&&e(r),t(r)})):(e&&e(r),t(r))})):(e&&e(r),t(r))})),c&&n("ioreg -c IOPlatformExpertDevice -d 2",(function(n,s){if(!n){let e=s.toString().replace(/[<>"]/g,"").split("\n");r.manufacturer=o.getValue(e,"manufacturer","=",!0),r.model=o.getValue(e,"model","=",!0),r.version=o.getValue(e,"version","=",!0),r.serial=o.getValue(e,"ioplatformserialnumber","=",!0),r.uuid=o.getValue(e,"ioplatformuuid","=",!0),r.sku=o.getValue(e,"board-id","=",!0)}e&&e(r),t(r)})),f&&(e&&e(r),t(r)),p)try{o.wmic("csproduct get /value").then((n,s)=>{if(s)e&&e(r),t(r);else{let s=n.split("\r\n");r.manufacturer=o.getValue(s,"vendor","="),r.model=o.getValue(s,"name","="),r.version=o.getValue(s,"version","="),r.serial=o.getValue(s,"identifyingnumber","="),r.uuid=o.getValue(s,"uuid","="),o.wmic("/namespace:\\\\root\\wmi path MS_SystemInformation get /value").then((n,s)=>{if(!s){let e=n.split("\r\n");r.sku=o.getValue(e,"systemsku","=")}e&&e(r),t(r)})}})}catch(n){e&&e(r),t(r)}})})},t.bios=function(e){return new Promise(t=>{process.nextTick(()=>{let r={vendor:"",version:"",releaseDate:"",revision:""},i="";if((l||u||d||m)&&(i="arm"===process.arch?"cat /proc/cpuinfo | grep Serial":"export LC_ALL=C; dmidecode --type 0 2>/dev/null; unset LC_ALL",n(i,(function(n,i){let a=i.toString().split("\n");r.vendor=o.getValue(a,"Vendor"),r.version=o.getValue(a,"Version");let l=o.getValue(a,"Release Date");r.releaseDate=o.parseDateTime(l).date,r.revision=o.getValue(a,"BIOS Revision");try{a=s('echo -n "bios_date: "; cat /sys/devices/virtual/dmi/id/bios_date 2>/dev/null; echo;\n            echo -n "bios_vendor: "; cat /sys/devices/virtual/dmi/id/bios_vendor 2>/dev/null; echo;\n            echo -n "bios_version: "; cat /sys/devices/virtual/dmi/id/bios_version 2>/dev/null; echo;').toString().split("\n"),r.vendor=r.vendor?r.vendor:o.getValue(a,"bios_vendor"),r.version=r.version?r.version:o.getValue(a,"bios_version"),l=o.getValue(a,"bios_date"),r.releaseDate=r.releaseDate?r.releaseDate:o.parseDateTime(l).date}catch(e){o.noop()}e&&e(r),t(r)}))),c&&(r.vendor="Apple Inc.",e&&e(r),t(r)),f&&(r.vendor="Sun Microsystems",e&&e(r),t(r)),p)try{o.wmic("bios get /value").then((n,s)=>{if(!s){let e=n.toString().split("\r\n");const t=o.getValue(e,"description","=");-1!==t.indexOf(" Version ")?(r.vendor=t.split(" Version ")[0].trim(),r.version=t.split(" Version ")[1].trim()):-1!==t.indexOf(" Ver: ")?(r.vendor=o.getValue(e,"manufacturer","="),r.version=t.split(" Ver: ")[1].trim()):(r.vendor=o.getValue(e,"manufacturer","="),r.version=o.getValue(e,"version","=")),r.releaseDate=o.getValue(e,"releasedate","="),r.releaseDate.length>=10&&(r.releaseDate=r.releaseDate.substr(0,4)+"-"+r.releaseDate.substr(4,2)+"-"+r.releaseDate.substr(6,2)),r.revision=o.getValue(e,"buildnumber","=")}e&&e(r),t(r)})}catch(n){e&&e(r),t(r)}})})},t.baseboard=function(e){return new Promise(t=>{process.nextTick(()=>{let r={manufacturer:"",model:"",version:"",serial:"-",assetTag:"-"},i="";if((l||u||d||m)&&(i="arm"===process.arch?"cat /proc/cpuinfo | grep Serial":"export LC_ALL=C; dmidecode -t 2 2>/dev/null; unset LC_ALL",n(i,(function(n,i){let a=i.toString().split("\n");r.manufacturer=o.getValue(a,"Manufacturer"),r.model=o.getValue(a,"Product Name"),r.version=o.getValue(a,"Version"),r.serial=o.getValue(a,"Serial Number"),r.assetTag=o.getValue(a,"Asset Tag");try{a=s('echo -n "board_asset_tag: "; cat /sys/devices/virtual/dmi/id/board_asset_tag 2>/dev/null; echo;\n            echo -n "board_name: "; cat /sys/devices/virtual/dmi/id/board_name 2>/dev/null; echo;\n            echo -n "board_serial: "; cat /sys/devices/virtual/dmi/id/board_serial 2>/dev/null; echo;\n            echo -n "board_vendor: "; cat /sys/devices/virtual/dmi/id/board_vendor 2>/dev/null; echo;\n            echo -n "board_version: "; cat /sys/devices/virtual/dmi/id/board_version 2>/dev/null; echo;').toString().split("\n"),r.manufacturer=r.manufacturer?r.manufacturer:o.getValue(a,"board_vendor"),r.model=r.model?r.model:o.getValue(a,"board_name"),r.version=r.version?r.version:o.getValue(a,"board_version"),r.serial=r.serial?r.serial:o.getValue(a,"board_serial"),r.assetTag=r.assetTag?r.assetTag:o.getValue(a,"board_asset_tag")}catch(e){o.noop()}-1!==r.serial.toLowerCase().indexOf("o.e.m.")&&(r.serial="-"),-1!==r.assetTag.toLowerCase().indexOf("o.e.m.")&&(r.assetTag="-"),e&&e(r),t(r)}))),c&&n("ioreg -c IOPlatformExpertDevice -d 2",(function(n,s){if(!n){let e=s.toString().replace(/[<>"]/g,"").split("\n");r.manufacturer=o.getValue(e,"manufacturer","=",!0),r.model=o.getValue(e,"model","=",!0),r.version=o.getValue(e,"version","=",!0),r.serial=o.getValue(e,"ioplatformserialnumber","=",!0),r.assetTag=o.getValue(e,"board-id","=",!0)}e&&e(r),t(r)})),f&&(e&&e(r),t(r)),p)try{o.wmic("baseboard get /value").then((n,s)=>{if(!s){let e=n.toString().split("\r\n");r.manufacturer=o.getValue(e,"manufacturer","="),r.model=o.getValue(e,"model","="),r.model||(r.model=o.getValue(e,"product","=")),r.version=o.getValue(e,"version","="),r.serial=o.getValue(e,"serialnumber","="),r.assetTag=o.getValue(e,"partnumber","="),r.assetTag||(r.assetTag=o.getValue(e,"sku","="))}e&&e(r),t(r)})}catch(n){e&&e(r),t(r)}})})},t.chassis=function(e){const t=["Other","Unknown","Desktop","Low Profile Desktop","Pizza Box","Mini Tower","Tower","Portable","Laptop","Notebook","Hand Held","Docking Station","All in One","Sub Notebook","Space-Saving","Lunch Box","Main System Chassis","Expansion Chassis","SubChassis","Bus Expansion Chassis","Peripheral Chassis","Storage Chassis","Rack Mount Chassis","Sealed-Case PC","Multi-System Chassis","Compact PCI","Advanced TCA","Blade","Blade Enclosure","Tablet","Concertible","Detachable","IoT Gateway ","Embedded PC","Mini PC","Stick PC"];return new Promise(r=>{process.nextTick(()=>{let s={manufacturer:"",model:"",type:"",version:"",serial:"-",assetTag:"-",sku:""};if(l||u||d||m){n('echo -n "chassis_asset_tag: "; cat /sys/devices/virtual/dmi/id/chassis_asset_tag 2>/dev/null; echo;\n            echo -n "chassis_serial: "; cat /sys/devices/virtual/dmi/id/chassis_serial 2>/dev/null; echo;\n            echo -n "chassis_type: "; cat /sys/devices/virtual/dmi/id/chassis_type 2>/dev/null; echo;\n            echo -n "chassis_vendor: "; cat /sys/devices/virtual/dmi/id/chassis_vendor 2>/dev/null; echo;\n            echo -n "chassis_version: "; cat /sys/devices/virtual/dmi/id/chassis_version 2>/dev/null; echo;',(function(n,i){let a=i.toString().split("\n");s.manufacturer=o.getValue(a,"chassis_vendor");const l=parseInt(o.getValue(a,"chassis_type").replace(/\D/g,""));s.type=l&&!isNaN(l)&&l<t.length?t[l-1]:"",s.version=o.getValue(a,"chassis_version"),s.serial=o.getValue(a,"chassis_serial"),s.assetTag=o.getValue(a,"chassis_asset_tag"),-1!==s.serial.toLowerCase().indexOf("o.e.m.")&&(s.serial="-"),-1!==s.assetTag.toLowerCase().indexOf("o.e.m.")&&(s.assetTag="-"),e&&e(s),r(s)}))}if(c&&n("ioreg -c IOPlatformExpertDevice -d 2",(function(t,n){if(!t){let e=n.toString().replace(/[<>"]/g,"").split("\n");s.manufacturer=o.getValue(e,"manufacturer","=",!0),s.model=o.getValue(e,"model","=",!0),s.version=o.getValue(e,"version","=",!0),s.serial=o.getValue(e,"ioplatformserialnumber","=",!0),s.assetTag=o.getValue(e,"board-id","=",!0)}e&&e(s),r(s)})),f&&(e&&e(s),r(s)),p)try{o.wmic("path Win32_SystemEnclosure get /value").then((n,i)=>{if(!i){let e=n.toString().split("\r\n");s.manufacturer=o.getValue(e,"manufacturer","="),s.model=o.getValue(e,"model","=");const r=parseInt(o.getValue(e,"ChassisTypes","=").replace(/\D/g,""));s.type=r&&!isNaN(r)&&r<t.length?t[r-1]:"",s.version=o.getValue(e,"version","="),s.serial=o.getValue(e,"serialnumber","="),s.assetTag=o.getValue(e,"partnumber","="),s.sku=o.getValue(e,"sku","=")}e&&e(s),r(s)})}catch(t){e&&e(s),r(s)}})})}},function(e,t,r){"use strict";const n=r(3),s=r(0).exec,i=r(1),o=r(2);let a=process.platform;const l="linux"===a,c="darwin"===a,p="win32"===a,u="freebsd"===a,d="openbsd"===a,m="netbsd"===a,f="sunos"===a;function g(e){e=(e=e||"").toLowerCase();let t=a;return p?t="windows":-1!==e.indexOf("mac os")?t="apple":-1!==e.indexOf("arch")?t="arch":-1!==e.indexOf("centos")?t="centos":-1!==e.indexOf("coreos")?t="coreos":-1!==e.indexOf("debian")?t="debian":-1!==e.indexOf("deepin")?t="deepin":-1!==e.indexOf("elementary")?t="elementary":-1!==e.indexOf("fedora")?t="fedora":-1!==e.indexOf("gentoo")?t="gentoo":-1!==e.indexOf("mageia")?t="mageia":-1!==e.indexOf("mandriva")?t="mandriva":-1!==e.indexOf("manjaro")?t="manjaro":-1!==e.indexOf("mint")?t="mint":-1!==e.indexOf("mx")?t="mx":-1!==e.indexOf("openbsd")?t="openbsd":-1!==e.indexOf("freebsd")?t="freebsd":-1!==e.indexOf("opensuse")?t="opensuse":-1!==e.indexOf("pclinuxos")?t="pclinuxos":-1!==e.indexOf("puppy")?t="puppy":-1!==e.indexOf("raspbian")?t="raspbian":-1!==e.indexOf("reactos")?t="reactos":-1!==e.indexOf("redhat")?t="redhat":-1!==e.indexOf("slackware")?t="slackware":-1!==e.indexOf("sugar")?t="sugar":-1!==e.indexOf("steam")?t="steam":-1!==e.indexOf("suse")?t="suse":-1!==e.indexOf("mate")?t="ubuntu-mate":-1!==e.indexOf("lubuntu")?t="lubuntu":-1!==e.indexOf("xubuntu")?t="xubuntu":-1!==e.indexOf("ubuntu")?t="ubuntu":-1!==e.indexOf("solaris")?t="solaris":-1!==e.indexOf("tails")?t="tails":-1!==e.indexOf("robolinux")?t="robolinux":l&&e&&(t=e.toLowerCase().trim().replace(/\s+/g,"-")),t}function h(e){return new Promise(t=>{process.nextTick(()=>{let r,n={os:""};c&&s("ioreg -rd1 -c IOPlatformExpertDevice | grep IOPlatformUUID",(function(s,i){s||(r=i.toString().split("\n")[0].replace(/"/g,"").split("="),n.os=r.length>1?r[1].trim().toLowerCase():""),e&&e(n),t(n)})),l&&s("( cat /var/lib/dbus/machine-id /etc/machine-id 2> /dev/null || hostname ) | head -n 1 || :",(function(r,s){r||(n.os=s.toString().split("\n")[0].trim().toLowerCase()),e&&e(n),t(n)})),(u||d||m)&&s("kenv -q smbios.system.uuid",(function(r,s){r||(n.os=s.toString().split("\n")[0].trim().toLowerCase()),e&&e(n),t(n)})),p&&s('%windir%\\System32\\reg query "HKEY_LOCAL_MACHINE\\SOFTWARE\\Microsoft\\Cryptography" /v MachineGuid',i.execOptsWin,(function(s,i){s||(r=i.toString().split("\n\r")[0].split("REG_SZ"),n.os=r.length>1?r[1].replace(/\r+|\n+|\s+/gi,"").toLowerCase():""),e&&e(n),t(n)}))})})}t.time=function(){let e=(new Date).toString().split(" ");return{current:Date.now(),uptime:n.uptime(),timezone:e.length>=7?e[5]:"",timezoneName:e.length>=7?e.slice(6).join(" ").replace(/\(/g,"").replace(/\)/g,""):""}},t.osInfo=function(e){return new Promise(t=>{process.nextTick(()=>{let r={platform:"Windows_NT"===a?"Windows":a,distro:"unknown",release:"unknown",codename:"",kernel:n.release(),arch:n.arch(),hostname:n.hostname(),codepage:"",logofile:"",serial:"",build:"",servicepack:"",uefi:!1};if(l&&s("cat /etc/*-release; cat /usr/lib/os-release; cat /etc/openwrt_release",(function(n,s){let a={};s.toString().split("\n").forEach((function(e){-1!==e.indexOf("=")&&(a[e.split("=")[0].trim().toUpperCase()]=e.split("=")[1].trim())}));let l=(a.VERSION||"").replace(/"/g,""),c=(a.DISTRIB_CODENAME||a.VERSION_CODENAME||"").replace(/"/g,"");l.indexOf("(")>=0&&(c=l.split("(")[1].replace(/[()]/g,"").trim(),l=l.split("(")[0].trim()),r.distro=(a.DISTRIB_ID||a.NAME||"unknown").replace(/"/g,""),r.logofile=g(r.distro),r.release=(l||a.DISTRIB_RELEASE||a.VERSION_ID||"unknown").replace(/"/g,""),r.codename=c,r.codepage=i.getCodepage(),r.build=(a.BUILD_ID||"").replace(/"/g,"").trim(),new Promise(e=>{process.nextTick(()=>{o.stat("/sys/firmware/efi",(function(t){e(!t)}))})}).then(n=>{r.uefi=n,h().then(n=>{r.serial=n.os,e&&e(r),t(r)})})})),(u||d||m)&&s("sysctl kern.ostype kern.osrelease kern.osrevision kern.hostuuid machdep.bootmethod",(function(n,s){if(!n){let e=s.toString().split("\n");r.distro=i.getValue(e,"kern.ostype"),r.logofile=g(r.distro),r.release=i.getValue(e,"kern.osrelease").split("-")[0],r.serial=i.getValue(e,"kern.uuid"),r.codename="",r.codepage=i.getCodepage(),r.uefi=i.getValue(e,"machdep.bootmethod").toLowerCase().indexOf("uefi")>=0}e&&e(r),t(r)})),c&&s("sw_vers; sysctl kern.ostype kern.osrelease kern.osrevision kern.uuid",(function(n,s){let o=s.toString().split("\n");r.serial=i.getValue(o,"kern.uuid"),r.distro=i.getValue(o,"ProductName"),r.release=i.getValue(o,"ProductVersion"),r.build=i.getValue(o,"BuildVersion"),r.logofile=g(r.distro),r.codename="macOS",r.codename=r.release.indexOf("10.4")>-1?"Mac OS X Tiger":r.codename,r.codename=r.release.indexOf("10.4")>-1?"Mac OS X Tiger":r.codename,r.codename=r.release.indexOf("10.4")>-1?"Mac OS X Tiger":r.codename,r.codename=r.release.indexOf("10.5")>-1?"Mac OS X Leopard":r.codename,r.codename=r.release.indexOf("10.6")>-1?"Mac OS X Snow Leopard":r.codename,r.codename=r.release.indexOf("10.7")>-1?"Mac OS X Lion":r.codename,r.codename=r.release.indexOf("10.8")>-1?"OS X Mountain Lion":r.codename,r.codename=r.release.indexOf("10.9")>-1?"OS X Mavericks":r.codename,r.codename=r.release.indexOf("10.10")>-1?"OS X Yosemite":r.codename,r.codename=r.release.indexOf("10.11")>-1?"OS X El Capitan":r.codename,r.codename=r.release.indexOf("10.12")>-1?"macOS Sierra":r.codename,r.codename=r.release.indexOf("10.13")>-1?"macOS High Sierra":r.codename,r.codename=r.release.indexOf("10.14")>-1?"macOS Mojave":r.codename,r.codename=r.release.indexOf("10.15")>-1?"macOS Catalina":r.codename,r.uefi=!0,r.codepage=i.getCodepage(),e&&e(r),t(r)})),f&&(r.release=r.kernel,s("uname -o",(function(n,s){let i=s.toString().split("\n");r.distro=i[0],r.logofile=g(r.distro),e&&e(r),t(r)}))),p){r.logofile=g(),r.release=r.kernel;try{i.wmic("os get /value").then(n=>{let o=n.toString().split("\r\n");r.distro=i.getValue(o,"Caption","=").trim(),r.serial=i.getValue(o,"SerialNumber","=").trim(),r.build=i.getValue(o,"BuildNumber","=").trim(),r.servicepack=i.getValue(o,"ServicePackMajorVersion","=").trim()+"."+i.getValue(o,"ServicePackMinorVersion","=").trim(),r.codepage=i.getCodepage(),new Promise(e=>{process.nextTick(()=>{try{s('findstr /C:"Detected boot environment" "%windir%\\Panther\\setupact.log"',i.execOptsWin,(function(t,r){if(!t){const t=r.toString().split("\n\r")[0];e(t.toLowerCase().indexOf("uefi")>=0)}e(!1)}))}catch(t){e(!1)}})}).then(n=>{r.uefi=n,e&&e(r),t(r)})})}catch(n){e&&e(r),t(r)}}})})},t.versions=function(e,t){let r={kernel:n.release(),openssl:"",systemOpenssl:"",systemOpensslLib:"",node:process.versions.node,v8:process.versions.v8,npm:"",yarn:"",pm2:"",gulp:"",grunt:"",git:"",tsc:"",mysql:"",redis:"",mongodb:"",apache:"",nginx:"",php:"",docker:"",postfix:"",postgresql:"",perl:"",python:"",python3:"",pip:"",pip3:"",java:"",gcc:"",virtualbox:"",dotnet:""};return new Promise(n=>{process.nextTick(()=>{i.isFunction(e)&&!t?(t=e,e="*"):e=e||"*";const a=function(e){if("*"===e)return{versions:r,counter:26};if(!Array.isArray(e)){e=(e=e.trim().toLowerCase().replace(/,+/g,"|").replace(/ /g,"|")).split("|");const t={versions:{},counter:0};return e.forEach(e=>{if(e)for(let n in r)({}).hasOwnProperty.call(r,n)&&(n.toLowerCase()!==e.toLowerCase()||{}.hasOwnProperty.call(t.versions,n)||(t.versions[n]=r[n],"openssl"===n&&(t.versions.systemOpenssl="",t.versions.systemOpensslLib=""),t.versions[n]||t.counter++))}),t}}(e);let u=a.counter,d=function(){0==--u&&(t&&t(a.versions),n(a.versions))};try{if({}.hasOwnProperty.call(a.versions,"openssl")&&(a.versions.openssl=process.versions.openssl,s("openssl version",(function(e,t){if(!e){let e=t.toString().split("\n")[0].trim().split(" ");a.versions.systemOpenssl=e.length>0?e[1]:e[0],a.versions.systemOpensslLib=e.length>0?e[0]:"openssl"}d()}))),{}.hasOwnProperty.call(a.versions,"npm")&&s("npm -v",(function(e,t){e||(a.versions.npm=t.toString().split("\n")[0]),d()})),{}.hasOwnProperty.call(a.versions,"pm2")&&s("pm2 -v",(function(e,t){if(!e){let e=t.toString().split("\n")[0].trim();e.startsWith("[PM2]")||(a.versions.pm2=e)}d()})),{}.hasOwnProperty.call(a.versions,"yarn")&&s("yarn --version",(function(e,t){e||(a.versions.yarn=t.toString().split("\n")[0]),d()})),{}.hasOwnProperty.call(a.versions,"gulp")&&s("gulp --version",(function(e,t){if(!e){const e=t.toString().split("\n")[0]||"";a.versions.gulp=(e.toLowerCase().split("version")[1]||"").trim()}d()})),{}.hasOwnProperty.call(a.versions,"tsc")&&s("tsc --version",(function(e,t){if(!e){const e=t.toString().split("\n")[0]||"";a.versions.tsc=(e.toLowerCase().split("version")[1]||"").trim()}d()})),{}.hasOwnProperty.call(a.versions,"grunt")&&s("grunt --version",(function(e,t){if(!e){const e=t.toString().split("\n")[0]||"";a.versions.grunt=(e.toLowerCase().split("cli v")[1]||"").trim()}d()})),{}.hasOwnProperty.call(a.versions,"git"))if(c){const e=o.existsSync("/usr/local/Cellar/git");i.darwinXcodeExists()||e?s("git --version",(function(e,t){if(!e){let e=t.toString().split("\n")[0]||"";e=(e.toLowerCase().split("version")[1]||"").trim(),a.versions.git=(e.split(" ")[0]||"").trim()}d()})):d()}else s("git --version",(function(e,t){if(!e){let e=t.toString().split("\n")[0]||"";e=(e.toLowerCase().split("version")[1]||"").trim(),a.versions.git=(e.split(" ")[0]||"").trim()}d()}));({}).hasOwnProperty.call(a.versions,"apache")&&s("apachectl -v 2>&1",(function(e,t){if(!e){const e=(t.toString().split("\n")[0]||"").split(":");a.versions.apache=e.length>1?e[1].replace("Apache","").replace("/","").trim():""}d()})),{}.hasOwnProperty.call(a.versions,"nginx")&&s("nginx -v 2>&1",(function(e,t){if(!e){const e=t.toString().split("\n")[0]||"";a.versions.nginx=(e.toLowerCase().split("/")[1]||"").trim()}d()})),{}.hasOwnProperty.call(a.versions,"mysql")&&s("mysql -V",(function(e,t){if(!e){let e=t.toString().split("\n")[0]||"";if(e=e.toLowerCase(),e.indexOf(",")>-1){e=(e.split(",")[0]||"").trim();const t=e.split(" ");a.versions.mysql=(t[t.length-1]||"").trim()}else e.indexOf(" ver ")>-1&&(e=e.split(" ver ")[1],a.versions.mysql=e.split(" ")[0])}d()})),{}.hasOwnProperty.call(a.versions,"php")&&s("php -v",(function(e,t){if(!e){let e=(t.toString().split("\n")[0]||"").split("(");e[0].indexOf("-")&&(e=e[0].split("-")),a.versions.php=e[0].replace(/[^0-9.]/g,"")}d()})),{}.hasOwnProperty.call(a.versions,"redis")&&s("redis-server --version",(function(e,t){if(!e){const e=(t.toString().split("\n")[0]||"").split(" ");a.versions.redis=i.getValue(e,"v","=",!0)}d()})),{}.hasOwnProperty.call(a.versions,"docker")&&s("docker --version",(function(e,t){if(!e){const e=(t.toString().split("\n")[0]||"").split(" ");a.versions.docker=e.length>2&&e[2].endsWith(",")?e[2].slice(0,-1):""}d()})),{}.hasOwnProperty.call(a.versions,"postfix")&&s("postconf -d | grep mail_version",(function(e,t){if(!e){const e=t.toString().split("\n")||[];a.versions.postfix=i.getValue(e,"mail_version","=",!0)}d()})),{}.hasOwnProperty.call(a.versions,"mongodb")&&s("mongod --version",(function(e,t){if(!e){const e=t.toString().split("\n")[0]||"";a.versions.mongodb=(e.toLowerCase().split(",")[0]||"").replace(/[^0-9.]/g,"")}d()})),{}.hasOwnProperty.call(a.versions,"postgresql")&&(l?s("locate bin/postgres",(function(e,t){if(e)s("psql -V",(function(e,t){if(!e){const e=t.toString().split("\n")[0].split(" ")||[];a.versions.postgresql=e.length?e[e.length-1]:"",a.versions.postgresql=a.versions.postgresql.split("-")[0]}d()})),d();else{const e=t.toString().split("\n").sort();e.length?s(e[e.length-1]+" -V",(function(e,t){if(!e){const e=t.toString().split("\n")[0].split(" ")||[];a.versions.postgresql=e.length?e[e.length-1]:""}d()})):d()}})):p?i.wmic("service get /value").then(e=>{let t=e.split(/\n\s*\n/);for(let e=0;e<t.length;e++)if(""!==t[e].trim()){let r=t[e].trim().split("\r\n"),n=i.getValue(r,"caption","=",!0).toLowerCase();if(n.indexOf("postgresql")>-1){const e=n.split(" server ");e.length>1&&(a.versions.postgresql=e[1])}}d()}):s("postgres -V",(function(e,t){if(!e){const e=t.toString().split("\n")[0].split(" ")||[];a.versions.postgresql=e.length?e[e.length-1]:""}d()}))),{}.hasOwnProperty.call(a.versions,"perl")&&s("perl -v",(function(e,t){if(!e){const e=t.toString().split("\n")||"";for(;e.length>0&&""===e[0].trim();)e.shift();e.length>0&&(a.versions.perl=e[0].split("(").pop().split(")")[0].replace("v",""))}d()})),{}.hasOwnProperty.call(a.versions,"python")&&s("python -V 2>&1",(function(e,t){if(!e){const e=t.toString().split("\n")[0]||"";a.versions.python=e.toLowerCase().replace("python","").trim()}d()})),{}.hasOwnProperty.call(a.versions,"python3")&&s("python3 -V 2>&1",(function(e,t){if(!e){const e=t.toString().split("\n")[0]||"";a.versions.python3=e.toLowerCase().replace("python","").trim()}d()})),{}.hasOwnProperty.call(a.versions,"pip")&&s("pip -V 2>&1",(function(e,t){if(!e){const e=(t.toString().split("\n")[0]||"").split(" ");a.versions.pip=e.length>=2?e[1]:""}d()})),{}.hasOwnProperty.call(a.versions,"pip3")&&s("pip3 -V 2>&1",(function(e,t){if(!e){const e=(t.toString().split("\n")[0]||"").split(" ");a.versions.pip3=e.length>=2?e[1]:""}d()})),{}.hasOwnProperty.call(a.versions,"java")&&(c?s("/usr/libexec/java_home -V 2>&1",(function(e,t){e||-1!==t.toString().toLowerCase().indexOf("no java runtime")?d():s("java -version 2>&1",(function(e,t){if(!e){const e=(t.toString().split("\n")[0]||"").split('"');a.versions.java=3===e.length?e[1].trim():""}d()}))})):s("java -version 2>&1",(function(e,t){if(!e){const e=(t.toString().split("\n")[0]||"").split('"');a.versions.java=3===e.length?e[1].trim():""}d()}))),{}.hasOwnProperty.call(a.versions,"gcc")&&(c&&i.darwinXcodeExists()||!c?s("gcc -dumpversion",(function(e,t){e||(a.versions.gcc=t.toString().split("\n")[0].trim()||""),a.versions.gcc.indexOf(".")>-1?d():s("gcc --version",(function(e,t){if(!e){const e=t.toString().split("\n")[0].trim();if(e.indexOf("gcc")>-1&&e.indexOf(")")>-1){const t=e.split(")");a.versions.gcc=t[1].trim()||a.versions.gcc}}d()}))})):d()),{}.hasOwnProperty.call(a.versions,"virtualbox")&&s(i.getVboxmanage()+" -v 2>&1",(function(e,t){if(!e){const e=(t.toString().split("\n")[0]||"").split("r");a.versions.virtualbox=e[0]}d()})),{}.hasOwnProperty.call(a.versions,"dotnet")&&s("dotnet --version 2>&1",(function(e,t){if(!e){const e=t.toString().split("\n")[0]||"";a.versions.dotnet=e.trim()}d()}))}catch(e){t&&t(a.versions),n(a.versions)}})})},t.shell=function(e){return new Promise((t,r)=>{process.nextTick(()=>{if(p){let t=new Error("not supported");e&&e("not supported"),r(t)}let n="";s("echo $SHELL",(function(r,s){r||(n=s.toString().split("\n")[0]),e&&e(n),t(n)}))})})},t.uuid=h},function(e,t,r){"use strict";const n=r(3),s=r(0).exec,i=r(2),o=r(1);let a=process.platform;const l="linux"===a,c="darwin"===a,p="win32"===a,u="freebsd"===a,d="openbsd"===a,m="netbsd"===a,f="sunos"===a;let g="0.00",h={user:0,nice:0,system:0,idle:0,irq:0,load:0,tick:0,ms:0,currentload:0,currentload_user:0,currentload_system:0,currentload_nice:0,currentload_idle:0,currentload_irq:0,raw_currentload:0,raw_currentload_user:0,raw_currentload_system:0,raw_currentload_nice:0,raw_currentload_idle:0,raw_currentload_irq:0},y=[],v=0;const x={8346:"1.8",8347:"1.9",8350:"2.0",8354:"2.2","8356|SE":"2.4",8356:"2.3",8360:"2.5",2372:"2.1",2373:"2.1",2374:"2.2",2376:"2.3",2377:"2.3",2378:"2.4",2379:"2.4",2380:"2.5",2381:"2.5",2382:"2.6",2384:"2.7",2386:"2.8",2387:"2.8",2389:"2.9",2393:"3.1",8374:"2.2",8376:"2.3",8378:"2.4",8379:"2.4",8380:"2.5",8381:"2.5",8382:"2.6",8384:"2.7",8386:"2.8",8387:"2.8",8389:"2.9",8393:"3.1","2419EE":"1.8","2423HE":"2.0","2425HE":"2.1",2427:"2.2",2431:"2.4",2435:"2.6","2439SE":"2.8","8425HE":"2.1",8431:"2.4",8435:"2.6","8439SE":"2.8",4122:"2.2",4130:"2.6","4162EE":"1.7","4164EE":"1.8","4170HE":"2.1","4174HE":"2.3","4176HE":"2.4",4180:"2.6",4184:"2.8","6124HE":"1.8","6128HE":"2.0","6132HE":"2.2",6128:"2.0",6134:"2.3",6136:"2.4",6140:"2.6","6164HE":"1.7","6166HE":"1.8",6168:"1.9",6172:"2.1",6174:"2.2",6176:"2.3","6176SE":"2.3","6180SE":"2.5",3250:"2.5",3260:"2.7",3280:"2.4",4226:"2.7",4228:"2.8",4230:"2.9",4234:"3.1",4238:"3.3",4240:"3.4",4256:"1.6",4274:"2.5",4276:"2.6",4280:"2.8",4284:"3.0",6204:"3.3",6212:"2.6",6220:"3.0",6234:"2.4",6238:"2.6","6262HE":"1.6",6272:"2.1",6274:"2.2",6276:"2.3",6278:"2.4","6282SE":"2.6","6284SE":"2.7",6308:"3.5",6320:"2.8",6328:"3.2","6338P":"2.3",6344:"2.6",6348:"2.8",6366:"1.8","6370P":"2.0",6376:"2.3",6378:"2.4",6380:"2.5",6386:"2.8","FX|4100":"3.6","FX|4120":"3.9","FX|4130":"3.8","FX|4150":"3.8","FX|4170":"4.2","FX|6100":"3.3","FX|6120":"3.6","FX|6130":"3.6","FX|6200":"3.8","FX|8100":"2.8","FX|8120":"3.1","FX|8140":"3.2","FX|8150":"3.6","FX|8170":"3.9","FX|4300":"3.8","FX|4320":"4.0","FX|4350":"4.2","FX|6300":"3.5","FX|6350":"3.9","FX|8300":"3.3","FX|8310":"3.4","FX|8320":"3.5","FX|8350":"4.0","FX|8370":"4.0","FX|9370":"4.4","FX|9590":"4.7","FX|8320E":"3.2","FX|8370E":"3.3","1950X":"3.4","1920X":"3.5",1920:"3.2","1900X":"3.8","1800X":"3.6","1700X":"3.4","Pro 1700X":"3.5",1700:"3.0","Pro 1700":"3.0","1600X":"3.6",1600:"3.2","Pro 1600":"3.2","1500X":"3.5","Pro 1500":"3.5",1400:"3.2","1300X":"3.5","Pro 1300":"3.5",1200:"3.1","Pro 1200":"3.1","2200U":"2.5","2300U":"2.0","Pro 2300U":"2.0","2500U":"2.0","Pro 2500U":"2.2","2700U":"2.0","Pro 2700U":"2.2","2600H":"3.2","2800H":"3.3",7601:"2.2",7551:"2.0",7501:"2.0",74501:"2.3",7401:"2.0",7351:"2.4",7301:"2.2",7281:"2.1",7251:"2.1","7551P":"2.0","7401P":"2.0","7351P":"2.4","2300X":"3.5","2500X":"3.6",2600:"3.4","2600E":"3.1","2600X":"3.6",2700:"3.2","2700E":"2.8","2700X":"3.7","Pro 2700X":"3.6",2920:"3.5",2950:"3.5","2970WX":"3.0","2990WX":"3.0","3200U":"2.6","3300U":"2.1","3500U":"2.1","3550H":"2.1","3580U":"2.1","3700U":"2.3","3750H":"2.3","3780U":"2.3","3500X":"3.6",3600:"3.6","Pro 3600":"3.6","3600X":"3.8","Pro 3700":"3.6","3700X":"3.6","3800X":"3.9",3900:"3.1","Pro 3900":"3.1","3900X":"3.8","3950X":"3.5","3960X":"3.8","3970X":"3.7","7232P":"3.1","7302P":"3.0","7402P":"2.8","7502P":"2.5","7702P":"2.0",7252:"3.1",7262:"3.2",7272:"2.9",7282:"2.8",7302:"3.0",7352:"2.3",7402:"2.8",7452:"2.35",7502:"2.5",7542:"2.9",7552:"2.2",7642:"2.3",7702:"2.0",7742:"2.25","7H12":"2.6"},w={1:"Other",2:"Unknown",3:"Daughter Board",4:"ZIF Socket",5:"Replacement/Piggy Back",6:"None",7:"LIF Socket",8:"Slot 1",9:"Slot 2",10:"370 Pin Socket",11:"Slot A",12:"Slot M",13:"423",14:"A (Socket 462)",15:"478",16:"754",17:"940",18:"939",19:"mPGA604",20:"LGA771",21:"LGA775",22:"S1",23:"AM2",24:"F (1207)",25:"LGA1366",26:"G34",27:"AM3",28:"C32",29:"LGA1156",30:"LGA1567",31:"PGA988A",32:"BGA1288",33:"rPGA988B",34:"BGA1023",35:"BGA1224",36:"LGA1155",37:"LGA1356",38:"LGA2011",39:"FS1",40:"FS2",41:"FM1",42:"FM2",43:"LGA2011-3",44:"LGA1356-3",45:"LGA1150",46:"BGA1168",47:"BGA1234",48:"BGA1364",49:"AM4",50:"LGA1151",51:"BGA1356",52:"BGA1440",53:"BGA1515",54:"LGA3647-1",55:"SP3",56:"SP3r2",57:"LGA2066",58:"BGA1392",59:"BGA1510",60:"BGA1528"};function S(e){e.brand=e.brand.replace(/\(R\)+/g,"Â®").replace(/\s+/g," ").trim(),e.brand=e.brand.replace(/\(TM\)+/g,"â¢").replace(/\s+/g," ").trim(),e.brand=e.brand.replace(/\(C\)+/g,"Â©").replace(/\s+/g," ").trim(),e.brand=e.brand.replace(/CPU+/g,"").replace(/\s+/g," ").trim(),e.manufacturer=e.brand.split(" ")[0];let t=e.brand.split(" ");return t.shift(),e.brand=t.join(" "),e}function O(e){let t="0.00";for(let r in x)if({}.hasOwnProperty.call(x,r)){let n=r.split("|"),s=0;n.forEach(t=>{e.indexOf(t)>-1&&s++}),s===n.length&&(t=x[r])}return t}function _(){let e=n.cpus(),t=999999999,r=0,s=0,i=[];if(e&&e.length){for(let n in e)({}).hasOwnProperty.call(e,n)&&(s+=e[n].speed,e[n].speed>r&&(r=e[n].speed),e[n].speed<t&&(t=e[n].speed)),i.push(parseFloat(((e[n].speed+1)/1e3).toFixed(2)));return s/=e.length,{min:parseFloat(((t+1)/1e3).toFixed(2)),max:parseFloat(((r+1)/1e3).toFixed(2)),avg:parseFloat(((s+1)/1e3).toFixed(2)),cores:i}}return{min:0,max:0,avg:0,cores:i}}function b(e){return new Promise(t=>{process.nextTick(()=>{let r={l1d:-1,l1i:-1,l2:-1,l3:-1};if(l&&s("export LC_ALL=C; lscpu; unset LC_ALL",(function(n,s){if(!n){s.toString().split("\n").forEach((function(e){let t=e.split(":");-1!==t[0].toUpperCase().indexOf("L1D CACHE")&&(r.l1d=parseInt(t[1].trim())*(-1!==t[1].indexOf("K")?1024:1)),-1!==t[0].toUpperCase().indexOf("L1I CACHE")&&(r.l1i=parseInt(t[1].trim())*(-1!==t[1].indexOf("K")?1024:1)),-1!==t[0].toUpperCase().indexOf("L2 CACHE")&&(r.l2=parseInt(t[1].trim())*(-1!==t[1].indexOf("K")?1024:1)),-1!==t[0].toUpperCase().indexOf("L3 CACHE")&&(r.l3=parseInt(t[1].trim())*(-1!==t[1].indexOf("K")?1024:1))}))}e&&e(r),t(r)})),(u||d||m)&&s("export LC_ALL=C; dmidecode -t 7 2>/dev/null; unset LC_ALL",(function(n,s){let i=[];if(!n){i=s.toString().split("Cache Information"),i.shift()}for(let e=0;e<i.length;e++){const t=i[e].split("\n");let n=o.getValue(t,"Socket Designation").toLowerCase().replace(" ","-").split("-");n=n.length?n[0]:"";const s=o.getValue(t,"Installed Size").split(" ");let a=parseInt(s[0],10);const l=s.length>1?s[1]:"kb";a*="kb"===l?1024:"mb"===l?1048576:"gb"===l?1073741824:1,n&&("l1"===n?(r.cache[n+"d"]=a/2,r.cache[n+"i"]=a/2):r.cache[n]=a)}e&&e(r),t(r)})),c&&s("sysctl hw.l1icachesize hw.l1dcachesize hw.l2cachesize hw.l3cachesize",(function(n,s){if(!n){s.toString().split("\n").forEach((function(e){let t=e.split(":");-1!==t[0].toLowerCase().indexOf("hw.l1icachesize")&&(r.l1d=parseInt(t[1].trim())*(-1!==t[1].indexOf("K")?1024:1)),-1!==t[0].toLowerCase().indexOf("hw.l1dcachesize")&&(r.l1i=parseInt(t[1].trim())*(-1!==t[1].indexOf("K")?1024:1)),-1!==t[0].toLowerCase().indexOf("hw.l2cachesize")&&(r.l2=parseInt(t[1].trim())*(-1!==t[1].indexOf("K")?1024:1)),-1!==t[0].toLowerCase().indexOf("hw.l3cachesize")&&(r.l3=parseInt(t[1].trim())*(-1!==t[1].indexOf("K")?1024:1))}))}e&&e(r),t(r)})),f&&(e&&e(r),t(r)),p)try{o.wmic("cpu get l2cachesize, l3cachesize /value").then((n,s)=>{if(!s){let e=n.split("\r\n");r.l1d=0,r.l1i=0,r.l2=o.getValue(e,"l2cachesize","="),r.l3=o.getValue(e,"l3cachesize","="),r.l2&&(r.l2=1024*parseInt(r.l2,10)),r.l3&&(r.l3=1024*parseInt(r.l3,10))}o.wmic("path Win32_CacheMemory get CacheType,InstalledSize,Purpose").then((n,s)=>{if(!s){n.split("\r\n").filter(e=>""!==e.trim()).filter((e,t)=>t>0).forEach((function(e){""!==e&&("L1 Cache"===(e=e.trim().split(/\s\s+/))[2]&&"3"===e[0]&&(r.l1i=parseInt(e[1],10)),"L1 Cache"===e[2]&&"4"===e[0]&&(r.l1d=parseInt(e[1],10)))}))}e&&e(r),t(r)})})}catch(n){e&&e(r),t(r)}})})}t.cpu=function(e){return new Promise(t=>{process.nextTick(()=>{new Promise(e=>{process.nextTick(()=>{let t={manufacturer:"unknown",brand:"unknown",vendor:"",family:"",model:"",stepping:"",revision:"",voltage:"",speed:"0.00",speedmin:"",speedmax:"",governor:"",cores:o.cores(),physicalCores:o.cores(),processors:1,socket:"",cache:{}};if(c&&s("sysctl machdep.cpu hw.cpufrequency_max hw.cpufrequency_min hw.packages hw.physicalcpu_max hw.ncpu",(function(r,n){let s=n.toString().split("\n");const i=o.getValue(s,"machdep.cpu.brand_string");t.brand=i.split("@")[0].trim(),t.speed=i.split("@")[1].trim(),t.speed=parseFloat(t.speed.replace(/GHz+/g,"")).toFixed(2),g=t.speed,t=S(t),t.speedmin=(o.getValue(s,"hw.cpufrequency_min")/1e9).toFixed(2),t.speedmax=(o.getValue(s,"hw.cpufrequency_max")/1e9).toFixed(2),t.vendor=o.getValue(s,"machdep.cpu.vendor"),t.family=o.getValue(s,"machdep.cpu.family"),t.model=o.getValue(s,"machdep.cpu.model"),t.stepping=o.getValue(s,"machdep.cpu.stepping");const a=o.getValue(s,"hw.packages"),l=o.getValue(s,"hw.physicalcpu_max"),c=o.getValue(s,"hw.ncpu");a&&(t.processors=parseInt(a)||1),l&&c&&(t.cores=parseInt(c)||o.cores(),t.physicalCores=parseInt(l)||o.cores()),b().then(r=>{t.cache=r,e(t)})})),l){let r="",i=[];n.cpus()[0]&&n.cpus()[0].model&&(r=n.cpus()[0].model),s('export LC_ALL=C; lscpu; echo -n "Governor: "; cat /sys/devices/system/cpu/cpu0/cpufreq/scaling_governor 2>/dev/null; echo; unset LC_ALL',(function(n,a){if(n||(i=a.toString().split("\n")),r=o.getValue(i,"model name")||r,t.brand=r.split("@")[0].trim(),t.speed=r.split("@")[1]?parseFloat(r.split("@")[1].trim()).toFixed(2):"0.00","0.00"===t.speed&&(t.brand.indexOf("AMD")>-1||t.brand.toLowerCase().indexOf("ryzen")>-1)&&(t.speed=O(t.brand)),"0.00"===t.speed){let e=_();0!==e.avg&&(t.speed=e.avg.toFixed(2))}g=t.speed,t.speedmin=Math.round(parseFloat(o.getValue(i,"cpu min mhz").replace(/,/g,"."))/10)/100,t.speedmin=t.speedmin?parseFloat(t.speedmin).toFixed(2):"",t.speedmax=Math.round(parseFloat(o.getValue(i,"cpu max mhz").replace(/,/g,"."))/10)/100,t.speedmax=t.speedmax?parseFloat(t.speedmax).toFixed(2):"",t=S(t),t.vendor=o.getValue(i,"vendor id"),t.family=o.getValue(i,"cpu family"),t.model=o.getValue(i,"model:"),t.stepping=o.getValue(i,"stepping"),t.revision=o.getValue(i,"cpu revision"),t.cache.l1d=o.getValue(i,"l1d cache"),t.cache.l1d&&(t.cache.l1d=parseInt(t.cache.l1d)*(-1!==t.cache.l1d.indexOf("K")?1024:1)),t.cache.l1i=o.getValue(i,"l1i cache"),t.cache.l1i&&(t.cache.l1i=parseInt(t.cache.l1i)*(-1!==t.cache.l1i.indexOf("K")?1024:1)),t.cache.l2=o.getValue(i,"l2 cache"),t.cache.l2&&(t.cache.l2=parseInt(t.cache.l2)*(-1!==t.cache.l2.indexOf("K")?1024:1)),t.cache.l3=o.getValue(i,"l3 cache"),t.cache.l3&&(t.cache.l3=parseInt(t.cache.l3)*(-1!==t.cache.l3.indexOf("K")?1024:1));const l=o.getValue(i,"thread(s) per core")||"1",c=o.getValue(i,"socket(s)")||"1";let p=parseInt(l,10),u=parseInt(c,10);t.physicalCores=t.cores/p,t.processors=u,t.governor=o.getValue(i,"governor")||"";let d=[];s('export LC_ALL=C; dmidecode ât 4 2>/dev/null | grep "Upgrade: Socket"; unset LC_ALL',(function(r,n){d=n.toString().split("\n"),d&&d.length&&(t.socket=o.getValue(d,"Upgrade").replace("Socket","").trim()),e(t)}))}))}if(u||d||m){let r="",i=[];n.cpus()[0]&&n.cpus()[0].model&&(r=n.cpus()[0].model),s("export LC_ALL=C; dmidecode -t 4; dmidecode -t 7 unset LC_ALL",(function(n,s){let a=[];if(!n){const e=s.toString().split("# dmidecode"),t=e.length>1?e[1]:"";a=e.length>2?e[2].split("Cache Information"):[],i=t.split("\n")}if(t.brand=r.split("@")[0].trim(),t.speed=r.split("@")[1]?parseFloat(r.split("@")[1].trim()).toFixed(2):"0.00","0.00"===t.speed&&(t.brand.indexOf("AMD")>-1||t.brand.toLowerCase().indexOf("ryzen")>-1)&&(t.speed=O(t.brand)),"0.00"===t.speed){let e=_();0!==e.avg&&(t.speed=e.avg.toFixed(2))}g=t.speed,t.speedmin="",t.speedmax=Math.round(parseFloat(o.getValue(i,"max speed").replace(/Mhz/g,""))/10)/100,t.speedmax=t.speedmax?parseFloat(t.speedmax).toFixed(2):"",t=S(t),t.vendor=o.getValue(i,"manufacturer");let l=o.getValue(i,"signature");l=l.split(",");for(var c=0;c<l.length;c++)l[c]=l[c].trim();t.family=o.getValue(l,"Family"," ",!0),t.model=o.getValue(l,"Model"," ",!0),t.stepping=o.getValue(l,"Stepping"," ",!0),t.revision="";const p=parseFloat(o.getValue(i,"voltage"));t.voltage=isNaN(p)?"":p.toFixed(2);for(let e=0;e<a.length;e++){i=a[e].split("\n");let r=o.getValue(i,"Socket Designation").toLowerCase().replace(" ","-").split("-");r=r.length?r[0]:"";const n=o.getValue(i,"Installed Size").split(" ");let s=parseInt(n[0],10);const l=n.length>1?n[1]:"kb";s*="kb"===l?1024:"mb"===l?1048576:"gb"===l?1073741824:1,r&&("l1"===r?(t.cache[r+"d"]=s/2,t.cache[r+"i"]=s/2):t.cache[r]=s)}t.socket=o.getValue(i,"Upgrade").replace("Socket","").trim();const u=o.getValue(i,"thread count").trim(),d=o.getValue(i,"core count").trim();d&&u&&(t.cores=u,t.physicalCores=d),e(t)}))}if(f&&e(t),p)try{o.wmic("cpu get /value").then((r,n)=>{if(!n){let e=r.split("\r\n"),n=o.getValue(e,"name","=")||"";n.indexOf("@")>=0?(t.brand=n.split("@")[0].trim(),t.speed=n.split("@")[1]?parseFloat(n.split("@")[1].trim()).toFixed(2):"0.00",g=t.speed):(t.brand=n.trim(),t.speed="0.00"),t=S(t),t.revision=o.getValue(e,"revision","="),t.cache.l1d=0,t.cache.l1i=0,t.cache.l2=o.getValue(e,"l2cachesize","="),t.cache.l3=o.getValue(e,"l3cachesize","="),t.cache.l2&&(t.cache.l2=1024*parseInt(t.cache.l2,10)),t.cache.l3&&(t.cache.l3=1024*parseInt(t.cache.l3,10)),t.vendor=o.getValue(e,"manufacturer","="),t.speedmax=Math.round(parseFloat(o.getValue(e,"maxclockspeed","=").replace(/,/g,"."))/10)/100,t.speedmax=t.speedmax?parseFloat(t.speedmax).toFixed(2):"","0.00"===t.speed&&(t.brand.indexOf("AMD")>-1||t.brand.toLowerCase().indexOf("ryzen")>-1)&&(t.speed=O(t.brand)),"0.00"===t.speed&&(t.speed=t.speedmax);let s=o.getValue(e,"description","=").split(" ");for(let e=0;e<s.length;e++)s[e].toLowerCase().startsWith("family")&&e+1<s.length&&s[e+1]&&(t.family=s[e+1]),s[e].toLowerCase().startsWith("model")&&e+1<s.length&&s[e+1]&&(t.model=s[e+1]),s[e].toLowerCase().startsWith("stepping")&&e+1<s.length&&s[e+1]&&(t.stepping=s[e+1]);const i=o.getValue(e,"UpgradeMethod","=");w[i]&&(t.socket=w[i]);const a=o.countLines(e,"Caption"),l=o.getValue(e,"NumberOfLogicalProcessors","="),c=o.getValue(e,"NumberOfCores","=");a&&(t.processors=parseInt(a)||1),c&&l&&(t.cores=parseInt(l)||o.cores(),t.physicalCores=parseInt(c)||o.cores()),a>1&&(t.cores=t.cores*a,t.physicalCores=t.physicalCores*a)}o.wmic("path Win32_CacheMemory get CacheType,InstalledSize,Purpose").then((r,n)=>{n||r.split("\r\n").filter(e=>""!==e.trim()).filter((e,t)=>t>0).forEach((function(e){""!==e&&("L1 Cache"===(e=e.trim().split(/\s\s+/))[2]&&"3"===e[0]&&(t.cache.l1i=parseInt(e[1],10)),"L1 Cache"===e[2]&&"4"===e[0]&&(t.cache.l1d=parseInt(e[1],10)))})),e(t)})})}catch(r){e(t)}})}).then(r=>{e&&e(r),t(r)})})})},t.cpuCurrentspeed=function(e){return new Promise(t=>{process.nextTick(()=>{let r=_();if(0===r.avg&&"0.00"!==g){const e=parseFloat(g);r={min:e,max:e,avg:e,cores:[]}}e&&e(r),t(r)})})},t.cpuTemperature=function(e){return new Promise(t=>{process.nextTick(()=>{let n={main:-1,cores:[],max:-1};if(l){s('cat /sys/class/hwmon/hwmon1/temp*_la*;echo "---";cat /sys/class/hwmon/hwmon1/temp*_i*',(function(r,o){if(!r){let r=o.toString().split("---"),s=r[0].split("\n"),i=r[1].split("\n");i.shift();for(let e=0;e<i.length;e++)i[e]&&(void 0===s[e]||s[e]&&s[e].toLowerCase().startsWith("core"))?n.cores.push(Math.round(parseInt(i[e],10)/100)/10):i[e]&&s[e]&&-1===n.main&&(n.main=Math.round(parseInt(i[e],10)/100)/10);if(n.cores.length>0){-1===n.main&&(n.main=Math.round(n.cores.reduce((e,t)=>e+t,0)/n.cores.length));let e=Math.max.apply(Math,n.cores);n.max=e>n.main?e:n.main}-1!==n.main&&(-1===n.max&&(n.max=n.main),e&&e(n),t(n))}s("sensors",(function(r,o){if(!r){let r=o.toString().split("\n"),s=-1;if(r.forEach((function(e){let t=e.match(/[+-]([^Â°]*)/g),r=e.split(":")[0].toUpperCase();-1===r.indexOf("PHYSICAL")&&-1===r.indexOf("PACKAGE")||(n.main=parseFloat(t)),-1!==r.indexOf("CORE ")&&n.cores.push(parseFloat(t)),-1!==r.indexOf("TDIE")&&-1===s&&(s=parseFloat(t))})),n.cores.length>0){-1===n.main&&(n.main=Math.round(n.cores.reduce((e,t)=>e+t,0)/n.cores.length));let e=Math.max.apply(Math,n.cores);n.max=e>n.main?e:n.main}else-1===n.main&&-1!==s&&(n.main=s,n.max=s);-1===n.main&&-1===n.max||(e&&e(n),t(n))}i.stat("/sys/class/thermal/thermal_zone0/temp",(function(r){null===r?i.readFile("/sys/class/thermal/thermal_zone0/temp",(function(r,s){if(!r){let e=s.toString().split("\n");e.length>0&&(n.main=parseFloat(e[0])/1e3,n.max=n.main)}e&&e(n),t(n)})):s("/opt/vc/bin/vcgencmd measure_temp",(function(r,s){if(!r){let e=s.toString().split("\n");e.length>0&&e[0].indexOf("=")&&(n.main=parseFloat(e[0].split("=")[1]),n.max=n.main)}e&&e(n),t(n)}))}))}))}))}if((u||d||m)&&s("sysctl dev.cpu | grep temp",(function(r,s){if(!r){let e=s.toString().split("\n"),t=0;e.forEach((function(e){const r=e.split(":");if(r.length>1){const e=parseFloat(r[1].replace(",","."));e>n.max&&(n.max=e),t+=e,n.cores.push(e)}})),n.cores.length&&(n.main=Math.round(t/n.cores.length*100)/100)}e&&e(n),t(n)})),c){let s=null;try{s=r(!function(){var e=new Error("Cannot find module 'osx-temperature-sensor'");throw e.code="MODULE_NOT_FOUND",e}())}catch(e){s=null}s&&(n=s.cpuTemperature()),e&&e(n),t(n)}if(f&&(e&&e(n),t(n)),p)try{o.wmic("/namespace:\\\\root\\wmi PATH MSAcpi_ThermalZoneTemperature get CurrentTemperature").then((r,s)=>{if(!s){let e=0;r.split("\r\n").filter(e=>""!==e.trim()).filter((e,t)=>t>0).forEach((function(t){let r=(parseInt(t,10)-2732)/10;e+=r,r>n.max&&(n.max=r),n.cores.push(r)})),n.cores.length&&(n.main=e/n.cores.length)}e&&e(n),t(n)})}catch(r){e&&e(n),t(n)}})})},t.cpuFlags=function(e){return new Promise(t=>{process.nextTick(()=>{let r="";if(p)try{s('reg query "HKEY_LOCAL_MACHINE\\HARDWARE\\DESCRIPTION\\System\\CentralProcessor\\0" /v FeatureSet',o.execOptsWin,(function(n,s){if(!n){let e=s.split("0x").pop().trim(),t=parseInt(e,16).toString(2),n="0".repeat(32-t.length)+t,i=["fpu","vme","de","pse","tsc","msr","pae","mce","cx8","apic","","sep","mtrr","pge","mca","cmov","pat","pse-36","psn","clfsh","","ds","acpi","mmx","fxsr","sse","sse2","ss","htt","tm","ia64","pbe"];for(let e=0;e<i.length;e++)"1"===n[e]&&""!==i[e]&&(r+=" "+i[e]);r=r.trim()}e&&e(r),t(r)}))}catch(n){e&&e(r),t(r)}l&&s("export LC_ALL=C; lscpu; unset LC_ALL",(function(n,s){if(!n){s.toString().split("\n").forEach((function(e){-1!==e.split(":")[0].toUpperCase().indexOf("FLAGS")&&(r=e.split(":")[1].trim().toLowerCase())}))}r?(e&&e(r),t(r)):i.readFile("/proc/cpuinfo",(function(n,s){if(!n){let e=s.toString().split("\n");r=o.getValue(e,"features",":",!0).toLowerCase()}e&&e(r),t(r)}))})),(u||d||m)&&s("export LC_ALL=C; dmidecode -t 4 2>/dev/null; unset LC_ALL",(function(n,s){let i=[];if(!n){let e=s.toString().split("\tFlags:");(e.length>1?e[1].split("\tVersion:")[0].split["\n"]:[]).forEach((function(e){let t=(e.indexOf("(")?e.split("(")[0].toLowerCase():"").trim().replace(/\t/g,"");t&&i.push(t)}))}r=i.join(" ").trim(),e&&e(r),t(r)})),c&&s("sysctl machdep.cpu.features",(function(n,s){if(!n){let e=s.toString().split("\n");e.length>0&&-1!==e[0].indexOf("machdep.cpu.features:")&&(r=e[0].split(":")[1].trim().toLowerCase())}e&&e(r),t(r)})),f&&(e&&e(r),t(r))})})},t.cpuCache=b,t.currentLoad=function(e){return new Promise(t=>{process.nextTick(()=>{new Promise(e=>{process.nextTick(()=>{let t=n.loadavg().map((function(e){return e/o.cores()})),r=parseFloat(Math.max.apply(Math,t).toFixed(2)),s={};if(Date.now()-h.ms>=200){h.ms=Date.now();const e=n.cpus();let t=0,i=0,o=0,a=0,l=0,c=[];v=e&&e.length?e.length:0;for(let r=0;r<v;r++){const n=e[r].times;t+=n.user,i+=n.sys,o+=n.nice,l+=n.idle,a+=n.irq;let s=y&&y[r]&&y[r].totalTick?y[r].totalTick:0,p=y&&y[r]&&y[r].totalLoad?y[r].totalLoad:0,u=y&&y[r]&&y[r].user?y[r].user:0,d=y&&y[r]&&y[r].sys?y[r].sys:0,m=y&&y[r]&&y[r].nice?y[r].nice:0,f=y&&y[r]&&y[r].idle?y[r].idle:0,g=y&&y[r]&&y[r].irq?y[r].irq:0;y[r]=n,y[r].totalTick=y[r].user+y[r].sys+y[r].nice+y[r].irq+y[r].idle,y[r].totalLoad=y[r].user+y[r].sys+y[r].nice+y[r].irq,y[r].currentTick=y[r].totalTick-s,y[r].load=y[r].totalLoad-p,y[r].load_user=y[r].user-u,y[r].load_system=y[r].sys-d,y[r].load_nice=y[r].nice-m,y[r].load_idle=y[r].idle-f,y[r].load_irq=y[r].irq-g,c[r]={},c[r].load=y[r].load/y[r].currentTick*100,c[r].load_user=y[r].load_user/y[r].currentTick*100,c[r].load_system=y[r].load_system/y[r].currentTick*100,c[r].load_nice=y[r].load_nice/y[r].currentTick*100,c[r].load_idle=y[r].load_idle/y[r].currentTick*100,c[r].load_irq=y[r].load_irq/y[r].currentTick*100,c[r].raw_load=y[r].load,c[r].raw_load_user=y[r].load_user,c[r].raw_load_system=y[r].load_system,c[r].raw_load_nice=y[r].load_nice,c[r].raw_load_idle=y[r].load_idle,c[r].raw_load_irq=y[r].load_irq}let p=t+i+o+a+l,u=t+i+o+a,d=p-h.tick;s={avgload:r,currentload:(u-h.load)/d*100,currentload_user:(t-h.user)/d*100,currentload_system:(i-h.system)/d*100,currentload_nice:(o-h.nice)/d*100,currentload_idle:(l-h.idle)/d*100,currentload_irq:(a-h.irq)/d*100,raw_currentload:u-h.load,raw_currentload_user:t-h.user,raw_currentload_system:i-h.system,raw_currentload_nice:o-h.nice,raw_currentload_idle:l-h.idle,raw_currentload_irq:a-h.irq,cpus:c},h={user:t,nice:o,system:i,idle:l,irq:a,tick:p,load:u,ms:h.ms,currentload:s.currentload,currentload_user:s.currentload_user,currentload_system:s.currentload_system,currentload_nice:s.currentload_nice,currentload_idle:s.currentload_idle,currentload_irq:s.currentload_irq,raw_currentload:s.raw_currentload,raw_currentload_user:s.raw_currentload_user,raw_currentload_system:s.raw_currentload_system,raw_currentload_nice:s.raw_currentload_nice,raw_currentload_idle:s.raw_currentload_idle,raw_currentload_irq:s.raw_currentload_irq}}else{let e=[];for(let t=0;t<v;t++)e[t]={},e[t].load=y[t].load/y[t].currentTick*100,e[t].load_user=y[t].load_user/y[t].currentTick*100,e[t].load_system=y[t].load_system/y[t].currentTick*100,e[t].load_nice=y[t].load_nice/y[t].currentTick*100,e[t].load_idle=y[t].load_idle/y[t].currentTick*100,e[t].load_irq=y[t].load_irq/y[t].currentTick*100,e[t].raw_load=y[t].load,e[t].raw_load_user=y[t].load_user,e[t].raw_load_system=y[t].load_system,e[t].raw_load_nice=y[t].load_nice,e[t].raw_load_idle=y[t].load_idle,e[t].raw_load_irq=y[t].load_irq;s={avgload:r,currentload:h.currentload,currentload_user:h.currentload_user,currentload_system:h.currentload_system,currentload_nice:h.currentload_nice,currentload_idle:h.currentload_idle,currentload_irq:h.currentload_irq,raw_currentload:h.raw_currentload,raw_currentload_user:h.raw_currentload_user,raw_currentload_system:h.raw_currentload_system,raw_currentload_nice:h.raw_currentload_nice,raw_currentload_idle:h.raw_currentload_idle,raw_currentload_irq:h.raw_currentload_irq,cpus:e}}e(s)})}).then(r=>{e&&e(r),t(r)})})})},t.fullLoad=function(e){return new Promise(t=>{process.nextTick(()=>{new Promise(e=>{process.nextTick(()=>{const t=n.cpus();let r=0,s=0,i=0,o=0,a=0,l=0;if(t&&t.length){for(let e=0,n=t.length;e<n;e++){const n=t[e].times;r+=n.user,s+=n.sys,i+=n.nice,o+=n.irq,a+=n.idle}let e=a+o+i+s+r;l=(e-a)/e*100}else l=0;e(l)})}).then(r=>{e&&e(r),t(r)})})})}},function(e,t,r){"use strict";const n=r(3),s=r(0).exec,i=r(0).execSync,o=r(1),a=r(2);let l=process.platform;const c="linux"===l,p="darwin"===l,u="win32"===l,d="freebsd"===l,m="openbsd"===l,f="netbsd"===l,g="sunos"===l,h={"0x014F":"Transcend Information","0x2C00":"Micron Technology Inc.","0x802C":"Micron Technology Inc.","0x80AD":"Hynix Semiconductor Inc.","0x80CE":"Samsung Electronics Inc.","0xAD00":"Hynix Semiconductor Inc.","0xCE00":"Samsung Electronics Inc.","0x02FE":"Elpida","0x5105":"Qimonda AG i. In.","0x8551":"Qimonda AG i. In.","0x859B":"Crucial","0x04CD":"G-Skill"};t.mem=function(e){return new Promise(t=>{process.nextTick(()=>{let r={total:n.totalmem(),free:n.freemem(),used:n.totalmem()-n.freemem(),active:n.totalmem()-n.freemem(),available:n.freemem(),buffers:0,cached:0,slab:0,buffcache:0,swaptotal:0,swapused:0,swapfree:0};if(c&&a.readFile("/proc/meminfo",(function(s,i){if(!s){const e=i.toString().split("\n");r.total=parseInt(o.getValue(e,"memtotal"),10),r.total=r.total?1024*r.total:n.totalmem(),r.free=parseInt(o.getValue(e,"memfree"),10),r.free=r.free?1024*r.free:n.freemem(),r.used=r.total-r.free,r.buffers=parseInt(o.getValue(e,"buffers"),10),r.buffers=r.buffers?1024*r.buffers:0,r.cached=parseInt(o.getValue(e,"cached"),10),r.cached=r.cached?1024*r.cached:0,r.slab=parseInt(o.getValue(e,"slab"),10),r.slab=r.slab?1024*r.slab:0,r.buffcache=r.buffers+r.cached+r.slab;let t=parseInt(o.getValue(e,"memavailable"),10);r.available=t?1024*t:r.free+r.buffcache,r.active=r.total-r.available,r.swaptotal=parseInt(o.getValue(e,"swaptotal"),10),r.swaptotal=r.swaptotal?1024*r.swaptotal:0,r.swapfree=parseInt(o.getValue(e,"swapfree"),10),r.swapfree=r.swapfree?1024*r.swapfree:0,r.swapused=r.swaptotal-r.swapfree}e&&e(r),t(r)})),(d||m||f)&&s('/sbin/sysctl -a 2>/dev/null | grep -E "hw.realmem|hw.physmem|vm.stats.vm.v_page_count|vm.stats.vm.v_wire_count|vm.stats.vm.v_active_count|vm.stats.vm.v_inactive_count|vm.stats.vm.v_cache_count|vm.stats.vm.v_free_count|vm.stats.vm.v_page_size"',(function(n,s){if(!n){let e=s.toString().split("\n");const t=parseInt(o.getValue(e,"vm.stats.vm.v_page_size"),10),n=parseInt(o.getValue(e,"vm.stats.vm.v_inactive_count"),10)*t,i=parseInt(o.getValue(e,"vm.stats.vm.v_cache_count"),10)*t;r.total=parseInt(o.getValue(e,"hw.realmem"),10),isNaN(r.total)&&(r.total=parseInt(o.getValue(e,"hw.physmem"),10)),r.free=parseInt(o.getValue(e,"vm.stats.vm.v_free_count"),10)*t,r.buffcache=n+i,r.available=r.buffcache+r.free,r.active=r.total-r.free-r.buffcache,r.swaptotal=0,r.swapfree=0,r.swapused=0}e&&e(r),t(r)})),g&&(e&&e(r),t(r)),p&&s('vm_stat 2>/dev/null | grep "Pages active"',(function(n,i){if(!n){let e=i.toString().split("\n");r.active=4096*parseInt(e[0].split(":")[1],10),r.buffcache=r.used-r.active,r.available=r.free+r.buffcache}s("sysctl -n vm.swapusage 2>/dev/null",(function(n,s){if(!n){let e=s.toString().split("\n");if(e.length>0){let t=e[0].replace(/,/g,".").replace(/M/g,"");t=t.trim().split("  ");for(let e=0;e<t.length;e++)-1!==t[e].toLowerCase().indexOf("total")&&(r.swaptotal=1024*parseFloat(t[e].split("=")[1].trim())*1024),-1!==t[e].toLowerCase().indexOf("used")&&(r.swapused=1024*parseFloat(t[e].split("=")[1].trim())*1024),-1!==t[e].toLowerCase().indexOf("free")&&(r.swapfree=1024*parseFloat(t[e].split("=")[1].trim())*1024)}}e&&e(r),t(r)}))})),u){let n=0,s=0;try{o.wmic("pagefile get AllocatedBaseSize, CurrentUsage").then((i,o)=>{if(!o){i.split("\r\n").filter(e=>""!==e.trim()).filter((e,t)=>t>0).forEach((function(e){""!==e&&(e=e.trim().split(/\s\s+/),n+=parseInt(e[0],10),s+=parseInt(e[1],10))}))}r.swaptotal=1024*n*1024,r.swapused=1024*s*1024,r.swapfree=r.swaptotal-r.swapused,e&&e(r),t(r)})}catch(n){e&&e(r),t(r)}}})})},t.memLayout=function(e){return new Promise(t=>{process.nextTick(()=>{let r=[];if((c||d||m||f)&&s('export LC_ALL=C; dmidecode -t memory 2>/dev/null | grep -iE "Size:|Type|Speed|Manufacturer|Form Factor|Locator|Memory Device|Serial Number|Voltage|Part Number"; unset LC_ALL',(function(s,a){if(!s){let e=a.toString().split("Memory Device");e.shift(),e.forEach((function(e){let t=e.split("\n");const n=o.getValue(t,"Size"),s=n.indexOf("GB")>=0?1024*parseInt(n,10)*1024*1024:1024*parseInt(n,10)*1024;parseInt(o.getValue(t,"Size"),10)>0?r.push({size:s,bank:o.getValue(t,"Bank Locator"),type:o.getValue(t,"Type:"),clockSpeed:o.getValue(t,"Configured Clock Speed:")?parseInt(o.getValue(t,"Configured Clock Speed:"),10):o.getValue(t,"Speed:")?parseInt(o.getValue(t,"Speed:"),10):-1,formFactor:o.getValue(t,"Form Factor:"),manufacturer:o.getValue(t,"Manufacturer:"),partNum:o.getValue(t,"Part Number:"),serialNum:o.getValue(t,"Serial Number:"),voltageConfigured:parseFloat(o.getValue(t,"Configured Voltage:")||-1),voltageMin:parseFloat(o.getValue(t,"Minimum Voltage:")||-1),voltageMax:parseFloat(o.getValue(t,"Maximum Voltage:")||-1)}):r.push({size:0,bank:o.getValue(t,"Bank Locator"),type:"Empty",clockSpeed:0,formFactor:o.getValue(t,"Form Factor:"),partNum:"",serialNum:"",voltageConfigured:-1,voltageMin:-1,voltageMax:-1})}))}if(!r.length){r.push({size:n.totalmem(),bank:"",type:"",clockSpeed:0,formFactor:"",partNum:"",serialNum:"",voltageConfigured:-1,voltageMin:-1,voltageMax:-1});try{let e=i("cat /proc/cpuinfo 2>/dev/null"),t=e.toString().split("\n"),n=o.getValue(t,"hardware",":",!0).toUpperCase(),s=o.getValue(t,"revision",":",!0).toLowerCase();if("BCM2835"===n||"BCM2708"===n||"BCM2709"===n||"BCM2835"===n||"BCM2837"===n){const n={0:400,1:450,2:450,3:3200};r[0].clockSpeed=s&&s[2]&&n[s[2]]||400,r[0].clockSpeed=s&&s[4]&&"d"===s[4]?"500":r[0].clockSpeed,r[0].type="LPDDR2",r[0].type=s&&s[2]&&"3"===s[2]?"LPDDR4":r[0].type,r[0].formFactor="SoC",e=i("vcgencmd get_config sdram_freq 2>/dev/null"),t=e.toString().split("\n");let a=parseInt(o.getValue(t,"sdram_freq","=",!0),10)||0;a&&(r.clockSpeed=a),e=i("vcgencmd measure_volts sdram_p 2>/dev/null"),t=e.toString().split("\n");let l=parseFloat(o.getValue(t,"volt","=",!0))||0;l&&(r[0].voltageConfigured=l,r[0].voltageMin=l,r[0].voltageMax=l)}}catch(e){o.noop()}}e&&e(r),t(r)})),p&&s("system_profiler SPMemoryDataType",(function(n,s){if(!n){let e=s.toString().split("        BANK "),t=!0;1===e.length&&(e=s.toString().split("        DIMM"),t=!1),e.shift(),e.forEach((function(e){let n=e.split("\n");const s=(t?"BANK ":"DIMM")+n[0].trim().split("/")[0],i=parseInt(o.getValue(n,"          Size"));var a;i?r.push({size:1024*i*1024*1024,bank:s,type:o.getValue(n,"          Type:"),clockSpeed:parseInt(o.getValue(n,"          Speed:"),10),formFactor:"",manufacturer:(a=o.getValue(n,"          Manufacturer:"),{}.hasOwnProperty.call(h,a)?h[a]:a),partNum:o.getValue(n,"          Part Number:"),serialNum:o.getValue(n,"          Serial Number:"),voltageConfigured:-1,voltageMin:-1,voltageMax:-1}):r.push({size:0,bank:s,type:"Empty",clockSpeed:0,formFactor:"",manufacturer:"",partNum:"",serialNum:"",voltageConfigured:-1,voltageMin:-1,voltageMax:-1})}))}e&&e(r),t(r)})),g&&(e&&e(r),t(r)),u){const n="Unknown|Other|DRAM|Synchronous DRAM|Cache DRAM|EDO|EDRAM|VRAM|SRAM|RAM|ROM|FLASH|EEPROM|FEPROM|EPROM|CDRAM|3DRAM|SDRAM|SGRAM|RDRAM|DDR|DDR2|DDR2 FB-DIMM|Reserved|DDR3|FBD2|DDR4|LPDDR|LPDDR2|LPDDR3|LPDDR4".split("|"),s="Unknown|Other|SIP|DIP|ZIP|SOJ|Proprietary|SIMM|DIMM|TSOP|PGA|RIMM|SODIMM|SRIMM|SMD|SSMP|QFP|TQFP|SOIC|LCC|PLCC|BGA|FPBGA|LGA".split("|");try{o.wmic("memorychip get /value").then((i,a)=>{if(!a){let e=i.toString().split("BankL");e.shift(),e.forEach((function(e){let t=e.split("\r\n");r.push({size:parseInt(o.getValue(t,"Capacity","="),10)||0,bank:o.getValue(t,"abel","="),type:n[parseInt(o.getValue(t,"MemoryType","="),10)],clockSpeed:parseInt(o.getValue(t,"ConfiguredClockSpeed","="),10)||0,formFactor:s[parseInt(o.getValue(t,"FormFactor","="),10)||0],manufacturer:o.getValue(t,"Manufacturer","="),partNum:o.getValue(t,"PartNumber","="),serialNum:o.getValue(t,"SerialNumber","="),voltageConfigured:(parseInt(o.getValue(t,"ConfiguredVoltage","="),10)||0)/1e3,voltageMin:(parseInt(o.getValue(t,"MinVoltage","="),10)||0)/1e3,voltageMax:(parseInt(o.getValue(t,"MaxVoltage","="),10)||0)/1e3})}))}e&&e(r),t(r)})}catch(n){e&&e(r),t(r)}}})})}},function(e,t,r){"use strict";const n=r(0).exec,s=r(2),i=r(1);let o=process.platform;const a="linux"===o,l="darwin"===o,c="win32"===o,p="freebsd"===o,u="openbsd"===o,d="netbsd"===o,m="sunos"===o;e.exports=function(e){return new Promise(t=>{process.nextTick(()=>{let r={hasbattery:!1,cyclecount:0,ischarging:!1,designedcapacity:0,maxcapacity:0,currentcapacity:0,voltage:0,capacityUnit:"",percent:0,timeremaining:-1,acconnected:!0,type:"",model:"",manufacturer:"",serial:""};if(a){let n="";s.existsSync("/sys/class/power_supply/BAT1/uevent")?n="/sys/class/power_supply/BAT1/":s.existsSync("/sys/class/power_supply/BAT0/uevent")&&(n="/sys/class/power_supply/BAT0/"),n?s.readFile(n+"uevent",(function(n,s){if(n)e&&e(r),t(r);else{let n=s.toString().split("\n");r.ischarging="charging"===i.getValue(n,"POWER_SUPPLY_STATUS","=").toLowerCase(),r.acconnected=r.ischarging,r.voltage=parseInt("0"+i.getValue(n,"POWER_SUPPLY_VOLTAGE_NOW","="),10)/1e6,r.capacityUnit=r.voltage?"mWh":"mAh",r.cyclecount=parseInt("0"+i.getValue(n,"POWER_SUPPLY_CYCLE_COUNT","="),10),r.maxcapacity=Math.round(parseInt("0"+i.getValue(n,"POWER_SUPPLY_CHARGE_FULL","="),10)/1e3/(r.voltage||1)),r.designedcapacity=Math.round(parseInt("0"+i.getValue(n,"POWER_SUPPLY_CHARGE_FULL_DESIGN","="),10)/1e3/(r.voltage||1))|r.maxcapacity,r.currentcapacity=Math.round(parseInt("0"+i.getValue(n,"POWER_SUPPLY_CHARGE_NOW","="),10)/1e3/(r.voltage||1)),r.maxcapacity||(r.maxcapacity=parseInt("0"+i.getValue(n,"POWER_SUPPLY_ENERGY_FULL","="),10)/1e3,r.designcapacity=parseInt("0"+i.getValue(n,"POWER_SUPPLY_ENERGY_FULL_DESIGN","="),10)/1e3|r.maxcapacity,r.currentcapacity=parseInt("0"+i.getValue(n,"POWER_SUPPLY_ENERGY_NOW","="),10)/1e3);const o=i.getValue(n,"POWER_SUPPLY_CAPACITY","="),a=parseInt("0"+i.getValue(n,"POWER_SUPPLY_ENERGY_NOW","="),10),l=parseInt("0"+i.getValue(n,"POWER_SUPPLY_POWER_NOW","="),10),c=parseInt("0"+i.getValue(n,"POWER_SUPPLY_CURRENT_NOW","="),10);r.percent=parseInt("0"+o,10),r.maxcapacity&&r.currentcapacity&&(r.hasbattery=!0,o||(r.percent=100*r.currentcapacity/r.maxcapacity)),r.ischarging&&(r.hasbattery=!0),a&&l?r.timeremaining=Math.floor(a/l*60):c&&r.currentcapacity&&(r.timeremaining=Math.floor(r.currentcapacity/c*60)),r.type=i.getValue(n,"POWER_SUPPLY_TECHNOLOGY","="),r.model=i.getValue(n,"POWER_SUPPLY_MODEL_NAME","="),r.manufacturer=i.getValue(n,"POWER_SUPPLY_MANUFACTURER","="),r.serial=i.getValue(n,"POWER_SUPPLY_SERIAL_NUMBER","="),e&&e(r),t(r)}})):(e&&e(r),t(r))}if((p||u||d)&&n("sysctl hw.acpi.battery hw.acpi.acline",(function(n,s){let o=s.toString().split("\n");const a=parseInt("0"+i.getValue(o,"hw.acpi.battery.units"),10),l=parseInt("0"+i.getValue(o,"hw.acpi.battery.life"),10);r.hasbattery=a>0,r.cyclecount=-1,r.ischarging="1"!==i.getValue(o,"hw.acpi.acline"),r.acconnected=r.ischarging,r.maxcapacity=-1,r.currentcapacity=-1,r.capacityUnit="unknown",r.percent=a?l:-1,e&&e(r),t(r)})),l&&n('ioreg -n AppleSmartBattery -r | egrep "CycleCount|IsCharging|DesignCapacity|MaxCapacity|CurrentCapacity|BatterySerialNumber|TimeRemaining|Voltage"; pmset -g batt | grep %',(function(n,s){if(s){let e=s.toString().replace(/ +/g,"").replace(/"+/g,"").replace(/-/g,"").split("\n");r.cyclecount=parseInt("0"+i.getValue(e,"cyclecount","="),10),r.voltage=parseInt("0"+i.getValue(e,"voltage","="),10)/1e3,r.capacityUnit=r.voltage?"mWh":"mAh",r.maxcapacity=Math.round(parseInt("0"+i.getValue(e,"maxcapacity","="),10)*(r.voltage||1)),r.currentcapacity=Math.round(parseInt("0"+i.getValue(e,"currentcapacity","="),10)*(r.voltage||1)),r.designedcapacity=Math.round(parseInt("0"+i.getValue(e,"DesignCapacity","="),10)*(r.voltage||1)),r.manufacturer="Apple",r.serial=i.getValue(e,"BatterySerialNumber","=");let t=-1;let n=i.getValue(e,"internal","Battery").split(";");if(n&&n[0]){let e=n[0].split("\t");e&&e[1]&&(t=parseFloat(e[1].trim().replace(/%/g,"")))}n&&n[1]?(r.ischarging="charging"===n[1].trim(),r.acconnected="discharging"!==n[1].trim()):(r.ischarging="yes"===i.getValue(e,"ischarging","=").toLowerCase(),r.acconnected=r.ischarging),r.maxcapacity&&r.currentcapacity&&(r.hasbattery=!0,r.type="Li-ion",r.percent=-1!==t?t:Math.round(100*r.currentcapacity/r.maxcapacity),r.ischarging||(r.timeremaining=parseInt("0"+i.getValue(e,"TimeRemaining","="),10)))}e&&e(r),t(r)})),m&&(e&&e(r),t(r)),c)try{i.wmic("Path Win32_Battery Get BatteryStatus, DesignCapacity, EstimatedChargeRemaining, DesignVoltage, FullChargeCapacity /value").then(n=>{if(n){let e=n.split("\r\n"),t=i.getValue(e,"BatteryStatus","=").trim();if(t&&"10"!=t){const n=parseInt(t);r.hasbattery=!0,r.maxcapacity=parseInt(i.getValue(e,"DesignCapacity","=")||0),r.designcapacity=parseInt(i.getValue(e,"DesignCapacity","=")||0),r.voltage=parseInt(i.getValue(e,"DesignVoltage","=")||0)/1e3,r.capacityUnit="mWh",r.percent=parseInt(i.getValue(e,"EstimatedChargeRemaining","=")||0),r.currentcapacity=parseInt(r.maxcapacity*r.percent/100),r.ischarging=n>=6&&n<=9||11===n||!(3===n)&&!(1===n)&&r.percent<100,r.acconnected=r.ischarging||2===n}}e&&e(r),t(r)})}catch(n){e&&e(r),t(r)}})})}},function(e,t,r){"use strict";const n=r(3),s=r(0).exec,i=r(0).execSync,o=r(1);let a=process.platform;const l="linux"===a,c="darwin"===a,p="win32"===a,u="freebsd"===a,d="openbsd"===a,m="netbsd"===a,f="sunos"===a;let g=0,h=0,y=0,v=0;const x={"-2":"UNINITIALIZED","-1":"OTHER",0:"HD15",1:"SVIDEO",2:"Composite video",3:"Component video",4:"DVI",5:"HDMI",6:"LVDS",8:"D_JPN",9:"SDI",10:"DP",11:"DP embedded",12:"UDI",13:"UDI embedded",14:"SDTVDONGLE",15:"MIRACAST",2147483648:"INTERNAL"};t.graphics=function(e){function t(e){let t={vendor:"",model:"",main:!1,builtin:!1,connection:"",sizex:-1,sizey:-1,pixeldepth:-1,resolutionx:-1,resolutiony:-1,currentResX:-1,currentResY:-1,positionX:0,positionY:0,currentRefreshRate:-1},r=108;if("000000"===e.substr(r,6)&&(r+=36),"000000"===e.substr(r,6)&&(r+=36),"000000"===e.substr(r,6)&&(r+=36),"000000"===e.substr(r,6)&&(r+=36),t.resolutionx=parseInt("0x0"+e.substr(r+8,1)+e.substr(r+4,2)),t.resolutiony=parseInt("0x0"+e.substr(r+14,1)+e.substr(r+10,2)),t.sizex=parseInt("0x0"+e.substr(r+28,1)+e.substr(r+24,2)),t.sizey=parseInt("0x0"+e.substr(r+29,1)+e.substr(r+26,2)),r=e.indexOf("000000fc00"),r>=0){let n=e.substr(r+10,26);-1!==n.indexOf("0a")&&(n=n.substr(0,n.indexOf("0a")));try{n.length>2&&(t.model=n.match(/.{1,2}/g).map((function(e){return String.fromCharCode(parseInt(e,16))})).join(""))}catch(e){o.noop()}}else t.model="";return t}return new Promise(r=>{process.nextTick(()=>{let a={controllers:[],displays:[]};if(c){s("system_profiler SPDisplaysDataType",(function(t,n){if(!t){let e=n.toString().split("\n");a=function(e){let t=[],r=-1,n=-1,s=[],i=[],o={vendor:"",model:"",bus:"",vram:-1,vramDynamic:!1},a={vendor:"",model:"",main:!1,builtin:!1,connection:"",sizex:-1,sizey:-1,pixeldepth:-1,resolutionx:-1,resolutiony:-1,currentResX:-1,currentResY:-1,positionX:0,positionY:0,currentRefreshRate:-1};for(let l=0;l<e.length;l++)if(""!==e[l].trim()){let c=e[l].search(/\S|$/);-1===t.indexOf(c)&&t.push(c),r=t.indexOf(c),r<n&&(Object.keys(o).length>0&&(s.push(o),o={vendor:"",model:"",bus:"",vram:-1,vramDynamic:!1}),Object.keys(a).length>0&&(i.push(a),a={vendor:"",model:"",main:!1,builtin:!1,connection:"",sizex:-1,sizey:-1,pixeldepth:-1,resolutionx:-1,resolutiony:-1,currentResX:-1,currentResY:-1,positionX:0,positionY:0,currentRefreshRate:-1})),n=r;let p=e[l].split(":");if(2===r&&(p.length>1&&-1!==p[0].replace(/ +/g,"").toLowerCase().indexOf("chipsetmodel")&&(o.model=p[1].trim()),p.length>1&&-1!==p[0].replace(/ +/g,"").toLowerCase().indexOf("bus")&&(o.bus=p[1].trim()),p.length>1&&-1!==p[0].replace(/ +/g,"").toLowerCase().indexOf("vendor")&&(o.vendor=p[1].split("(")[0].trim()),p.length>1&&-1!==p[0].replace(/ +/g,"").toLowerCase().indexOf("vram(total)")&&(o.vram=parseInt(p[1]),-1!==p[1].toLowerCase().indexOf("gb")&&(o.vram=1024*o.vram),o.vramDynamic=!1),p.length>1&&-1!==p[0].replace(/ +/g,"").toLowerCase().indexOf("vram(dynamic,max)")&&(o.vram=parseInt(p[1]),-1!==p[1].toLowerCase().indexOf("gb")&&(o.vram=1024*o.vram),o.vramDynamic=!0)),3===r&&p.length>1&&""===p[1]&&(a.vendor="",a.model=p[0].trim(),a.main=!1,a.builtin=!1,a.connection="",a.sizex=-1,a.sizey=-1,a.positionX=0,a.positionY=0,a.pixeldepth=-1),4===r){if(p.length>1&&-1!==p[0].replace(/ +/g,"").toLowerCase().indexOf("resolution")){let e=p[1].split("x");a.resolutionx=e.length>1?parseInt(e[0]):0,a.resolutiony=e.length>1?parseInt(e[1]):0,a.currentResX=a.resolutionx,a.currentResY=a.resolutiony}p.length>1&&-1!==p[0].replace(/ +/g,"").toLowerCase().indexOf("pixeldepth")&&(a.pixeldepth=parseInt(p[1])),p.length>1&&-1!==p[0].replace(/ +/g,"").toLowerCase().indexOf("framebufferdepth")&&(a.pixeldepth=parseInt(p[1])),p.length>1&&-1!==p[0].replace(/ +/g,"").toLowerCase().indexOf("maindisplay")&&"yes"===p[1].replace(/ +/g,"").toLowerCase()&&(a.main=!0),p.length>1&&-1!==p[0].replace(/ +/g,"").toLowerCase().indexOf("built-in")&&"yes"===p[1].replace(/ +/g,"").toLowerCase()&&(a.builtin=!0,a.connection=""),p.length>1&&-1!==p[0].replace(/ +/g,"").toLowerCase().indexOf("connectiontype")&&(a.builtin=!1,a.connection=p[1].trim())}}return Object.keys(o).length>0&&s.push(o),Object.keys(a).length>0&&i.push(a),{controllers:s,displays:i}}(e)}e&&e(a),r(a)}))}if(l)if(o.isRaspberry()&&o.isRaspbian()){s("fbset -s | grep 'mode \"'; vcgencmd get_mem gpu; tvservice -s; tvservice -n;",(function(t,n){let s=n.toString().split("\n");if(s.length>3&&s[0].indexOf('mode "')>=-1&&s[2].indexOf("0x12000a")>-1){const e=s[0].replace("mode","").replace(/"/g,"").trim().split("x");2===e.length&&a.displays.push({vendor:"",model:o.getValue(s,"device_name","="),main:!0,builtin:!1,connection:"HDMI",sizex:-1,sizey:-1,pixeldepth:-1,resolutionx:parseInt(e[0],10),resolutiony:parseInt(e[1],10),currentResX:-1,currentResY:-1,positionX:0,positionY:0,currentRefreshRate:-1})}s.length>1&&s[1].indexOf("gpu=")>=-1&&a.controllers.push({vendor:"Broadcom",model:"VideoCore IV",bus:"",vram:s[1].replace("gpu=",""),vramDynamic:!0}),e&&e(a),r(a)}))}else{s("lspci -vvv  2>/dev/null",(function(n,l){if(!n){let e=l.toString().split("\n");a.controllers=function(e){let t=[],r={vendor:"",model:"",bus:"",vram:-1,vramDynamic:!1},n=!1,s=[];try{s=i('export LC_ALL=C; dmidecode -t 9 2>/dev/null; unset LC_ALL | grep "Bus Address: "').toString().split("\n");for(let e=0;e<s.length;e++)s[e]=s[e].replace("Bus Address:","").replace("0000:","").trim();s=s.filter((function(e){return null!=e&&e}))}catch(e){o.noop()}for(let i=0;i<e.length;i++)if(""!==e[i].trim()){if(" "!==e[i][0]&&"\t"!==e[i][0]){let o=s.indexOf(e[i].split(" ")[0])>=0,a=e[i].toLowerCase().indexOf(" vga "),l=e[i].toLowerCase().indexOf("3d controller");if(-1!==a||-1!==l){-1!==l&&-1===a&&(a=l),(r.vendor||r.model||r.bus||-1!==r.vram||r.vramDynamic)&&(t.push(r),r={vendor:"",model:"",bus:"",vram:-1,vramDynamic:!1}),n=!0;let c=e[i].search(/\[[0-9a-f]{4}:[0-9a-f]{4}]|$/),p=e[i].substr(a,c-a).split(":");p.length>1&&(p[1]=p[1].trim(),p[1].toLowerCase().indexOf("corporation")>=0?(r.vendor=p[1].substr(0,p[1].toLowerCase().indexOf("corporation")+11).trim(),r.model=p[1].substr(p[1].toLowerCase().indexOf("corporation")+11,200).trim().split("(")[0],r.bus=s.length>0&&o?"PCIe":"Onboard",r.vram=-1,r.vramDynamic=!1):p[1].toLowerCase().indexOf(" inc.")>=0?((p[1].match(new RegExp("]","g"))||[]).length>1?(r.vendor=p[1].substr(0,p[1].toLowerCase().indexOf("]")+1).trim(),r.model=p[1].substr(p[1].toLowerCase().indexOf("]")+1,200).trim().split("(")[0].trim()):(r.vendor=p[1].substr(0,p[1].toLowerCase().indexOf(" inc.")+5).trim(),r.model=p[1].substr(p[1].toLowerCase().indexOf(" inc.")+5,200).trim().split("(")[0].trim()),r.bus=s.length>0&&o?"PCIe":"Onboard",r.vram=-1,r.vramDynamic=!1):p[1].toLowerCase().indexOf(" ltd.")>=0&&((p[1].match(new RegExp("]","g"))||[]).length>1?(r.vendor=p[1].substr(0,p[1].toLowerCase().indexOf("]")+1).trim(),r.model=p[1].substr(p[1].toLowerCase().indexOf("]")+1,200).trim().split("(")[0].trim()):(r.vendor=p[1].substr(0,p[1].toLowerCase().indexOf(" ltd.")+5).trim(),r.model=p[1].substr(p[1].toLowerCase().indexOf(" ltd.")+5,200).trim().split("(")[0].trim())))}else n=!1}if(n){let t=e[i].split(":");if(t.length>1&&-1!==t[0].replace(/ +/g,"").toLowerCase().indexOf("devicename")&&-1!==t[1].toLowerCase().indexOf("onboard")&&(r.bus="Onboard"),t.length>1&&-1!==t[0].replace(/ +/g,"").toLowerCase().indexOf("region")&&-1!==t[1].toLowerCase().indexOf("memory")){let e=t[1].split("=");e.length>1&&(r.vram=parseInt(e[1]))}}}return(r.vendor||r.model||r.bus||-1!==r.vram||r.vramDynamic)&&t.push(r),t}(e)}s("xdpyinfo 2>/dev/null | grep 'depth of root window' | awk '{ print $5 }'",(function(n,i){let l=0;if(!n){let e=i.toString().split("\n");l=parseInt(e[0])||0}s("xrandr --verbose 2>/dev/null",(function(n,s){if(!n){let e=s.toString().split("\n");a.displays=function(e,r){let n=[],s={vendor:"",model:"",main:!1,builtin:!1,connection:"",sizex:-1,sizey:-1,pixeldepth:-1,resolutionx:-1,resolutiony:-1,currentResX:-1,currentResY:-1,positionX:0,positionY:0,currentRefreshRate:-1},i=!1,a=!1,l="",c=0;for(let p=1;p<e.length;p++)if(""!==e[p].trim()){if(" "!==e[p][0]&&"\t"!==e[p][0]&&-1!==e[p].toLowerCase().indexOf(" connected ")){(s.model||s.main||s.builtin||s.connection||-1!==s.sizex||-1!==s.pixeldepth||-1!==s.resolutionx)&&(n.push(s),s={vendor:"",model:"",main:!1,builtin:!1,connection:"",sizex:-1,sizey:-1,pixeldepth:-1,resolutionx:-1,resolutiony:-1,currentResX:-1,currentResY:-1,positionX:0,positionY:0,currentRefreshRate:-1});let t=e[p].split(" ");s.connection=t[0],s.main=e[p].toLowerCase().indexOf(" primary ")>=0,s.builtin=t[0].toLowerCase().indexOf("edp")>=0}if(i)if(e[p].search(/\S|$/)>c)l+=e[p].toLowerCase().trim();else{let e=t(l);s.vendor=e.vendor,s.model=e.model,s.resolutionx=e.resolutionx,s.resolutiony=e.resolutiony,s.sizex=e.sizex,s.sizey=e.sizey,s.pixeldepth=r,i=!1}if(e[p].toLowerCase().indexOf("edid:")>=0&&(i=!0,c=e[p].search(/\S|$/)),e[p].toLowerCase().indexOf("*current")>=0){const t=e[p].split("(");if(t&&t.length>1&&t[0].indexOf("x")>=0){const e=t[0].trim().split("x");s.currentResX=o.toInt(e[0]),s.currentResY=o.toInt(e[1])}a=!0}if(a&&e[p].toLowerCase().indexOf("clock")>=0&&e[p].toLowerCase().indexOf("hz")>=0&&e[p].toLowerCase().indexOf("v: height")>=0){const t=e[p].split("clock");t&&t.length>1&&t[1].toLowerCase().indexOf("hz")>=0&&(s.currentRefreshRate=o.toInt(t[1])),a=!1}}return(s.model||s.main||s.builtin||s.connection||-1!==s.sizex||-1!==s.pixeldepth||-1!==s.resolutionx)&&n.push(s),n}(e,l)}e&&e(a),r(a)}))}))}))}if((u||d||m)&&(e&&e(a),r(a)),f&&(e&&e(a),r(a)),p)try{const t=[];t.push(o.wmic("path win32_VideoController get /value")),t.push(o.wmic("path win32_desktopmonitor get /value")),t.push(o.powerShell("Get-CimInstance -Namespace root\\wmi -ClassName WmiMonitorBasicDisplayParams | fl")),t.push(o.powerShell("Add-Type -AssemblyName System.Windows.Forms; [System.Windows.Forms.Screen]::AllScreens")),t.push(o.powerShell("Get-CimInstance -Namespace root\\wmi -ClassName WmiMonitorConnectionParams | fl")),t.push(o.powerShell('gwmi WmiMonitorID -Namespace root\\wmi | ForEach-Object {(($_.ManufacturerName -notmatch 0 | foreach {[char]$_}) -join "") + "|" + (($_.ProductCodeID -notmatch 0 | foreach {[char]$_}) -join "") + "|" + (($_.UserFriendlyName -notmatch 0 | foreach {[char]$_}) -join "") + "|" + (($_.SerialNumberID -notmatch 0 | foreach {[char]$_}) -join "") + "|" + $_.InstanceName}')),Promise.all(t).then(t=>{let s=t[0].split(/\n\s*\n/);a.controllers=function(e){let t=[];for(let r in e)if({}.hasOwnProperty.call(e,r)&&""!==e[r].trim()){let n=e[r].trim().split("\r\n");t.push({vendor:o.getValue(n,"AdapterCompatibility","="),model:o.getValue(n,"name","="),bus:o.getValue(n,"PNPDeviceID","=").startsWith("PCI")?"PCI":"",vram:parseInt(o.getValue(n,"AdapterRAM","="),10)/1024/1024,vramDynamic:"2"===o.getValue(n,"VideoMemoryType","=")}),g=o.toInt(o.getValue(n,"CurrentHorizontalResolution","="))||g,h=o.toInt(o.getValue(n,"CurrentVerticalResolution","="))||h,v=o.toInt(o.getValue(n,"CurrentRefreshRate","="))||v,y=o.toInt(o.getValue(n,"CurrentBitsPerPixel","="))||y}return t}(s);let i=t[1].split(/\n\s*\n/);i.shift(),i.pop();let l=t[2].split("Active ");l.shift();let c=t[3].split("BitsPerPixel ");c.shift();let p=t[4].split(/\n\s*\n/);p.shift();const u=t[5].split(/\r\n/);let d=[];u.forEach(e=>{const t=e.split("|");5===t.length&&d.push({vendor:t[0],code:t[1],model:t[2],serial:t[3],instanceId:t[4]})}),a.displays=function(e,t,r,s,i){let a=[],l="",c="",p="",u=0,d=0;if(r&&r.length){let e=r[0].split(n.EOL);l=o.getValue(e,"MonitorManufacturer","="),c=o.getValue(e,"Name","="),p=o.getValue(e,"PNPDeviceID","=").replace(/&amp;/g,"&").toLowerCase(),u=o.toInt(o.getValue(e,"ScreenWidth","=")),d=o.toInt(o.getValue(e,"ScreenHeight","="))}for(let r=0;r<e.length;r++)if(""!==e[r].trim()){e[r]="BitsPerPixel "+e[r],t[r]="Active "+t[r];let u=e[r].split(n.EOL),d=t[r].split(n.EOL),m=s[r].split(n.EOL);const f=o.getValue(u,"BitsPerPixel"),g=o.getValue(u,"Bounds").replace("{","").replace("}","").split(","),h=o.getValue(u,"Primary"),y=o.getValue(d,"MaxHorizontalImageSize"),v=o.getValue(d,"MaxVerticalImageSize"),w=o.getValue(d,"InstanceName").toLowerCase(),S=o.getValue(m,"VideoOutputTechnology");let O="",_="";i.forEach(e=>{e.instanceId.toLowerCase().startsWith(w)&&l.startsWith("(")&&c.startsWith("PnP")&&(O=e.vendor,_=e.model)}),a.push({vendor:w.startsWith(p)&&""===O?l:O,model:w.startsWith(p)&&""===_?c:_,main:"true"===h.toLowerCase(),builtin:"2147483648"===S,connection:S&&x[S]?x[S]:"",resolutionx:o.toInt(o.getValue(g,"Width","=")),resolutiony:o.toInt(o.getValue(g,"Height","=")),sizex:y?parseInt(y,10):-1,sizey:v?parseInt(v,10):-1,pixeldepth:f,currentResX:o.toInt(o.getValue(g,"Width","=")),currentResY:o.toInt(o.getValue(g,"Height","=")),positionX:o.toInt(o.getValue(g,"X","=")),positionY:o.toInt(o.getValue(g,"Y","="))})}0===e.length&&a.push({vendor:l,model:c,main:!0,resolutionx:u,resolutiony:d,sizex:-1,sizey:-1,pixeldepth:-1,currentResX:u,currentResY:d,positionX:0,positionY:0});return a}(c,l,i,p,d),1===a.displays.length&&(g&&(a.displays[0].resolutionx=g,a.displays[0].currentResX||(a.displays[0].currentResX=g)),h&&(a.displays[0].resolutiony=h,0===a.displays[0].currentResY&&(a.displays[0].currentResY=h)),y&&(a.displays[0].pixeldepth=y),v&&!a.displays[0].refreshrate&&(a.displays[0].currentRefreshRate=v)),e&&e(a),r(a)}).catch(()=>{e&&e(a),r(a)})}catch(t){e&&e(a),r(a)}})})}},function(e,t,r){"use strict";const n=r(0).exec,s=r(0).execSync,i=r(1),o=r(2);let a=process.platform;const l="linux"===a,c="darwin"===a,p="win32"===a,u="freebsd"===a,d="openbsd"===a,m="netbsd"===a,f="sunos"===a;let g={},h={};function y(e){let t=[],r=0;return e.forEach(e=>{if(e.length>0)if("*"===e[0])r++;else{let s=e.split(":");s.length>1&&(t[r]||(t[r]={name:"",identifier:"",type:"disk",fstype:"",mount:"",size:0,physical:"HDD",uuid:"",label:"",model:"",serial:"",removable:!1,protocol:""}),s[0]=s[0].trim().toUpperCase().replace(/ +/g,""),s[1]=s[1].trim(),"DEVICEIDENTIFIER"===s[0]&&(t[r].identifier=s[1]),"DEVICENODE"===s[0]&&(t[r].name=s[1]),"VOLUMENAME"===s[0]&&-1===s[1].indexOf("Not applicable")&&(t[r].label=s[1]),"PROTOCOL"===s[0]&&(t[r].protocol=s[1]),"DISKSIZE"===s[0]&&(t[r].size=(n=s[1],parseInt(n.substr(n.indexOf(" (")+2,n.indexOf(" Bytes)")-10)))),"FILESYSTEMPERSONALITY"===s[0]&&(t[r].fstype=s[1]),"MOUNTPOINT"===s[0]&&(t[r].mount=s[1]),"VOLUMEUUID"===s[0]&&(t[r].uuid=s[1]),"READ-ONLYMEDIA"===s[0]&&"Yes"===s[1]&&(t[r].physical="CD/DVD"),"SOLIDSTATE"===s[0]&&"Yes"===s[1]&&(t[r].physical="SSD"),"VIRTUAL"===s[0]&&(t[r].type="virtual"),"REMOVABLEMEDIA"===s[0]&&(t[r].removable="Removable"===s[1]),"PARTITIONTYPE"===s[0]&&(t[r].type="part"),"DEVICE/MEDIANAME"===s[0]&&(t[r].model=s[1]))}var n}),t}function v(e){let t=[];return e.filter(e=>""!==e).forEach(e=>{e=(e=i.decodeEscapeSequence(e)).replace(/\\/g,"\\\\");let r=JSON.parse(e);t.push({name:r.name,type:r.type,fstype:r.fstype,mount:r.mountpoint,size:parseInt(r.size),physical:"disk"===r.type?"0"===r.rota?"SSD":"HDD":"rom"===r.type?"CD/DVD":"",uuid:r.uuid,label:r.label,model:r.model,serial:r.serial,removable:"1"===r.rm,protocol:r.tran,group:r.group})}),t=i.unique(t),t=i.sortByKey(t,["type","name"]),t}function x(e){return e.toString().replace(/NAME=/g,'{"name":').replace(/FSTYPE=/g,',"fstype":').replace(/TYPE=/g,',"type":').replace(/SIZE=/g,',"size":').replace(/MOUNTPOINT=/g,',"mountpoint":').replace(/UUID=/g,',"uuid":').replace(/ROTA=/g,',"rota":').replace(/RO=/g,',"ro":').replace(/RM=/g,',"rm":').replace(/TRAN=/g,',"tran":').replace(/SERIAL=/g,',"serial":').replace(/LABEL=/g,',"label":').replace(/MODEL=/g,',"model":').replace(/OWNER=/g,',"owner":').replace(/GROUP=/g,',"group":').replace(/\n/g,"}\n")}function w(e,t){let r={rx:0,wx:0,tx:0,rx_sec:-1,wx_sec:-1,tx_sec:-1,ms:0};return g&&g.ms?(r.rx=e,r.wx=t,r.tx=r.rx+r.wx,r.ms=Date.now()-g.ms,r.rx_sec=(r.rx-g.bytes_read)/(r.ms/1e3),r.wx_sec=(r.wx-g.bytes_write)/(r.ms/1e3),r.tx_sec=r.rx_sec+r.wx_sec,g.rx_sec=r.rx_sec,g.wx_sec=r.wx_sec,g.tx_sec=r.tx_sec,g.bytes_read=r.rx,g.bytes_write=r.wx,g.bytes_overall=r.rx+r.wx,g.ms=Date.now(),g.last_ms=r.ms):(r.rx=e,r.wx=t,r.tx=r.rx+r.wx,g.rx_sec=-1,g.wx_sec=-1,g.tx_sec=-1,g.bytes_read=r.rx,g.bytes_write=r.wx,g.bytes_overall=r.rx+r.wx,g.ms=Date.now(),g.last_ms=0),r}function S(e,t){let r={rIO:0,wIO:0,tIO:0,rIO_sec:-1,wIO_sec:-1,tIO_sec:-1,ms:0};return h&&h.ms?(r.rIO=e,r.wIO=t,r.tIO=e+t,r.ms=Date.now()-h.ms,r.rIO_sec=(r.rIO-h.rIO)/(r.ms/1e3),r.wIO_sec=(r.wIO-h.wIO)/(r.ms/1e3),r.tIO_sec=r.rIO_sec+r.wIO_sec,h.rIO=e,h.wIO=t,h.rIO_sec=r.rIO_sec,h.wIO_sec=r.wIO_sec,h.tIO_sec=r.tIO_sec,h.last_ms=r.ms,h.ms=Date.now()):(r.rIO=e,r.wIO=t,r.tIO=e+t,h.rIO=e,h.wIO=t,h.rIO_sec=-1,h.wIO_sec=-1,h.tIO_sec=-1,h.last_ms=0,h.ms=Date.now()),r}t.fsSize=function(e){function t(e){let t=[];return e.forEach((function(e){if(""!==e&&((e=e.replace(/ +/g," ").split(" "))&&e[0].startsWith("/")||e[6]&&"/"===e[6])){const r=e[0],n=l||u||d||m?e[1]:"HFS",s=1024*parseInt(l||u||d||m?e[2]:e[1]),i=1024*parseInt(l||u||d||m?e[3]:e[2]),o=parseFloat((100*(l||u||d||m?e[3]:e[2])/(l||u||d||m?e[2]:e[1])).toFixed(2)),a=e[e.length-1];t.find(e=>e.fs===r&&e.type===n)||t.push({fs:r,type:n,size:s,used:i,use:o,mount:a})}})),t}return new Promise(r=>{process.nextTick(()=>{let s=[];if(l||u||d||m||c){let i="";c&&(i="df -lkP | grep ^/"),l&&(i="df -lkPTx squashfs | grep ^/"),(u||d||m)&&(i="df -lkPT"),n(i,(function(i,o){if(i)n("df -kPT",(function(n,i){if(!n){let e=i.toString().split("\n");s=t(e)}e&&e(s),r(s)}));else{let n=o.toString().split("\n");s=t(n),e&&e(s),r(s)}}))}if(f&&(e&&e(s),r(s)),p)try{i.wmic("logicaldisk get Caption,FileSystem,FreeSpace,Size").then(t=>{t.split("\r\n").filter(e=>""!==e.trim()).filter((e,t)=>t>0).forEach((function(e){""!==e&&(e=e.trim().split(/\s\s+/),s.push({fs:e[0],type:e[1],size:parseInt(e[3]),used:parseInt(e[3])-parseInt(e[2]),use:parseFloat(100*(parseInt(e[3])-parseInt(e[2]))/parseInt(e[3])),mount:e[0]}))})),e&&e(s),r(s)})}catch(t){e&&e(s),r(s)}})})},t.fsOpenFiles=function(e){return new Promise(t=>{process.nextTick(()=>{const r={max:-1,allocated:-1,available:-1};if(u||d||m||c){n("sysctl -a | grep 'kern.*files'",(function(n,s){if(!n){let e=s.toString().split("\n");r.max=parseInt(i.getValue(e,"kern.maxfiles",":"),10),r.allocated=parseInt(i.getValue(e,"kern.num_files",":"),10)}e&&e(r),t(r)}))}l&&o.readFile("/proc/sys/fs/file-nr",(function(n,s){if(!n){let e=s.toString().split("\n");if(e[0]){const t=e[0].replace(/\s+/g," ").split(" ");3===t.length&&(r.allocated=parseInt(t[0],10),r.available=parseInt(t[1],10),r.max=parseInt(t[2],10))}}e&&e(r),t(r)})),f&&(e&&e(r),t(r)),p&&(e&&e(r),t(r))})})},t.blockDevices=function(e){return new Promise(t=>{process.nextTick(()=>{let r=[];if(l&&n("lsblk -bPo NAME,TYPE,SIZE,FSTYPE,MOUNTPOINT,UUID,ROTA,RO,RM,TRAN,SERIAL,LABEL,MODEL,OWNER 2>/dev/null",(function(s,i){if(s)n("lsblk -bPo NAME,TYPE,SIZE,FSTYPE,MOUNTPOINT,UUID,ROTA,RO,RM,LABEL,MODEL,OWNER 2>/dev/null",(function(n,s){if(!n){let e=x(s).split("\n");r=v(e)}e&&e(r),t(r)}));else{let n=x(i).split("\n");r=v(n),e&&e(r),t(r)}})),c&&n("diskutil info -all",(function(n,s){if(!n){let e=s.toString().split("\n");r=y(e)}e&&e(r),t(r)})),f&&(e&&e(r),t(r)),p){let n=["Unknown","NoRoot","Removable","Local","Network","CD/DVD","RAM"];try{i.wmic("logicaldisk get Caption,Description,DeviceID,DriveType,FileSystem,FreeSpace,Name,Size,VolumeName,VolumeSerialNumber /value").then((s,o)=>{if(!o){s.toString().split(/\n\s*\n/).forEach((function(e){let t=e.split("\r\n"),s=i.getValue(t,"drivetype","=");s&&r.push({name:i.getValue(t,"name","="),identifier:i.getValue(t,"caption","="),type:"disk",fstype:i.getValue(t,"filesystem","=").toLowerCase(),mount:i.getValue(t,"caption","="),size:i.getValue(t,"size","="),physical:s>=0&&s<=6?n[s]:n[0],uuid:i.getValue(t,"volumeserialnumber","="),label:i.getValue(t,"volumename","="),model:"",serial:i.getValue(t,"volumeserialnumber","="),removable:"2"===s,protocol:""})}))}e&&e(r),t(r)})}catch(n){e&&e(r),t(r)}}})})},t.fsStats=function(e){return new Promise((t,r)=>{process.nextTick(()=>{if(p){let t=new Error("not supported");e&&e("not supported"),r(t)}let s={rx:0,wx:0,tx:0,rx_sec:-1,wx_sec:-1,tx_sec:-1,ms:0},i=0,o=0;g&&!g.ms||g&&g.ms&&Date.now()-g.ms>=500?(l&&n("lsblk 2>/dev/null | grep /",(function(r,a){if(r)e&&e(s),t(s);else{let r=a.toString().split("\n"),l=[];r.forEach((function(e){""!==e&&(e=e.replace(/[ââââ]+/g,"").trim().split(" "),-1===l.indexOf(e[0])&&l.push(e[0]))}));let c=l.join("|");n('cat /proc/diskstats | egrep "'+c+'"',(function(r,n){if(!r){n.toString().split("\n").forEach((function(e){""!==(e=e.trim())&&(e=e.replace(/ +/g," ").split(" "),i+=512*parseInt(e[5]),o+=512*parseInt(e[9]))})),s=w(i,o)}e&&e(s),t(s)}))}})),c&&n('ioreg -c IOBlockStorageDriver -k Statistics -r -w0 | sed -n "/IOBlockStorageDriver/,/Statistics/p" | grep "Statistics" | tr -cd "01234567890,\n"',(function(r,n){if(!r){n.toString().split("\n").forEach((function(e){""!==(e=e.trim())&&(e=e.split(","),i+=parseInt(e[2]),o+=parseInt(e[9]))})),s=w(i,o)}e&&e(s),t(s)}))):(s.ms=g.last_ms,s.rx=g.bytes_read,s.wx=g.bytes_write,s.tx=g.bytes_read+g.bytes_write,s.rx_sec=g.rx_sec,s.wx_sec=g.wx_sec,s.tx_sec=g.tx_sec,e&&e(s),t(s))})})},t.disksIO=function(e){return new Promise((t,r)=>{process.nextTick(()=>{if(p){let t=new Error("not supported");e&&e("not supported"),r(t)}if(f){let t=new Error("not supported");e&&e("not supported"),r(t)}let s={rIO:0,wIO:0,tIO:0,rIO_sec:-1,wIO_sec:-1,tIO_sec:-1,ms:0},i=0,o=0;if(h&&!h.ms||h&&h.ms&&Date.now()-h.ms>=500){if(l||u||d||m){n('for mount in `lsblk 2>/dev/null | grep " disk " | sed "s/[ââââ]//g" | awk \'{$1=$1};1\' | cut -d " " -f 1 | sort -u`; do cat /sys/block/$mount/stat | sed -r "s/ +/;/g" | sed -r "s/^;//"; done',(function(r,n){if(r)e&&e(s),t(s);else{n.split("\n").forEach((function(e){if(!e)return;let t=e.split(";");i+=parseInt(t[0]),o+=parseInt(t[4])})),s=S(i,o),e&&e(s),t(s)}}))}c&&n('ioreg -c IOBlockStorageDriver -k Statistics -r -w0 | sed -n "/IOBlockStorageDriver/,/Statistics/p" | grep "Statistics" | tr -cd "01234567890,\n"',(function(r,n){if(!r){n.toString().split("\n").forEach((function(e){""!==(e=e.trim())&&(e=e.split(","),i+=parseInt(e[10]),o+=parseInt(e[0]))})),s=S(i,o)}e&&e(s),t(s)}))}else s.rIO=h.rIO,s.wIO=h.wIO,s.tIO=h.rIO+h.wIO,s.ms=h.last_ms,s.rIO_sec=h.rIO_sec,s.wIO_sec=h.wIO_sec,s.tIO_sec=h.tIO_sec,e&&e(s),t(s)})})},t.diskLayout=function(e){function t(e){const t=[{pattern:"^WESTERN.+",manufacturer:"Western Digital"},{pattern:"^WDC.+",manufacturer:"Western Digital"},{pattern:"WD.+",manufacturer:"Western Digital"},{pattern:"^TOSHIBA.+",manufacturer:"Toshiba"},{pattern:"^HITACHI.+",manufacturer:"Hitachi"},{pattern:"^IC.+",manufacturer:"Hitachi"},{pattern:"^HTS.+",manufacturer:"Hitachi"},{pattern:"^SANDISK.+",manufacturer:"SanDisk"},{pattern:"^KINGSTON.+",manufacturer:"Kingston Technonogy"},{pattern:"^SONY.+",manufacturer:"Sony"},{pattern:"^TRANSCEND.+",manufacturer:"Transcend"},{pattern:"SAMSUNG.+",manufacturer:"Samsung"},{pattern:"^ST(?!I\\ ).+",manufacturer:"Seagate"},{pattern:"^STI\\ .+",manufacturer:"SimpleTech"},{pattern:"^D...-.+",manufacturer:"IBM"},{pattern:"^IBM.+",manufacturer:"IBM"},{pattern:"^FUJITSU.+",manufacturer:"Fujitsu"},{pattern:"^MP.+",manufacturer:"Fujitsu"},{pattern:"^MK.+",manufacturer:"Toshiba"},{pattern:"^MAXTOR.+",manufacturer:"Maxtor"},{pattern:"^Pioneer.+",manufacturer:"Pioneer"},{pattern:"^PHILIPS.+",manufacturer:"Philips"},{pattern:"^QUANTUM.+",manufacturer:"Quantum Technology"},{pattern:"FIREBALL.+",manufacturer:"Quantum Technology"},{pattern:"^VBOX.+",manufacturer:"VirtualBox"},{pattern:"CORSAIR.+",manufacturer:"Corsair Components"},{pattern:"CRUCIAL.+",manufacturer:"Crucial"},{pattern:"ECM.+",manufacturer:"ECM"},{pattern:"INTEL.+",manufacturer:"INTEL"}];let r="";return e&&(e=e.toUpperCase(),t.forEach(t=>{RegExp(t.pattern).test(e)&&(r=t.manufacturer)})),r}return new Promise(r=>{process.nextTick(()=>{const o=t=>{for(let e=0;e<t.length;e++)delete t[e].BSDName;e&&e(t),r(t)};let a=[],g="";if(l){let e="";n("export LC_ALL=C; lsblk -ablJO 2>/dev/null; unset LC_ALL",(function(r,l){if(!r)try{const r=l.toString().trim();let n=[];try{const e=JSON.parse(r);e&&{}.hasOwnProperty.call(e,"blockdevices")&&(n=e.blockdevices.filter(e=>("disk"===e.group||"disk"===e.type)&&e.size>0&&(null!==e.model||null===e.mountpoint&&null===e.label&&null===e.fstype&&null===e.parttype)))}catch(e){let t=x(s("export LC_ALL=C; lsblk -bPo NAME,TYPE,SIZE,FSTYPE,MOUNTPOINT,UUID,ROTA,RO,RM,LABEL,MODEL,OWNER,GROUP 2>/dev/null; unset LC_ALL").toString()).split("\n");n=v(t).filter(e=>("disk"===e.group||"disk"===e.type)&&e.size>0&&(null!==e.model&&""!==e.model||""===e.mountpoint&&""===e.label&&""===e.fstype))}n.forEach(r=>{let n="";const o="/dev/"+r.name,l=r.name;try{n=s("cat /sys/block/"+l+"/queue/rotational 2>/dev/null").toString().split("\n")[0]}catch(e){i.noop()}let c=r.tran?r.tran.toUpperCase().trim():"";"NVME"===c&&(n="2",c="PCIe"),a.push({device:o,type:"0"===n?"SSD":"1"===n?"HD":"2"===n?"NVMe":r.model&&r.model.indexOf("SSD")>-1?"SSD":r.model&&r.model.indexOf("NVM")>-1?"NVMe":"HD",name:r.model||"",vendor:t(r.model)||(r.vendor?r.vendor.trim():""),size:r.size||0,bytesPerSector:-1,totalCylinders:-1,totalHeads:-1,totalSectors:-1,totalTracks:-1,tracksPerCylinder:-1,sectorsPerTrack:-1,firmwareRevision:r.rev?r.rev.trim():"",serialNum:r.serial?r.serial.trim():"",interfaceType:c,smartStatus:"unknown",BSDName:o}),g+=`printf "\n${o}|"; smartctl -H ${o} | grep overall;`,e+=`${e?'printf ",";':""}smartctl -a -j ${o};`})}catch(e){i.noop()}e?n(e,(function(e,t){try{JSON.parse(`[${t}]`).forEach(e=>{const t=e.smartctl.argv[e.smartctl.argv.length-1];for(let r=0;r<a.length;r++)a[r].BSDName===t&&(a[r].smartStatus=e.smart_status.passed?"Ok":!1===e.smart_status.passed?"Predicted Failure":"unknown",a[r].smartData=e)}),o(a)}catch(e){g?(g+='printf "\n"',n(g,(function(e,t){t.toString().split("\n").forEach(e=>{if(e){let t=e.split("|");if(2===t.length){let e=t[0];t[1]=t[1].trim();let r=t[1].split(":");if(2===r.length){r[1]=r[1].trim();let t=r[1].toLowerCase();for(let r=0;r<a.length;r++)a[r].BSDName===e&&(a[r].smartStatus="passed"===t?"Ok":"failed!"===t?"Predicted Failure":"unknown")}}}}),o(a)}))):o(a)}})):o(a)}))}if((u||d||m)&&(e&&e(a),r(a)),f&&(e&&e(a),r(a)),c&&n("system_profiler SPSerialATADataType SPNVMeDataType",(function(s,o){if(!s){let e=o.toString().split("NVMExpress:"),r=e[0].split(" Physical Interconnect: ");if(r.shift(),r.forEach((function(e){let r=(e="InterfaceType: "+e).split("\n");const n=i.getValue(r,"Medium Type",":",!0).trim(),s=i.getValue(r,"capacity",":",!0).trim(),o=i.getValue(r,"BSD Name",":",!0).trim();if(s){let e=0;s.indexOf("(")>=0&&(e=parseInt(s.match(/\(([^)]+)\)/)[1].replace(/\./g,"").replace(/,/g,""))),e||(e=parseInt(s)),e&&(a.push({device:o,type:n.startsWith("Solid")?"SSD":"HD",name:i.getValue(r,"Model",":",!0).trim(),vendor:t(i.getValue(r,"Model",":",!0).trim()),size:e,bytesPerSector:-1,totalCylinders:-1,totalHeads:-1,totalSectors:-1,totalTracks:-1,tracksPerCylinder:-1,sectorsPerTrack:-1,firmwareRevision:i.getValue(r,"Revision",":",!0).trim(),serialNum:i.getValue(r,"Serial Number",":",!0).trim(),interfaceType:i.getValue(r,"InterfaceType",":",!0).trim(),smartStatus:"unknown",BSDName:o}),g=g+'printf "\n'+o+'|"; diskutil info /dev/'+o+" | grep SMART;")}})),e.length>1){let r=e[1].split("\n\n          Capacity:");r.shift(),r.forEach((function(e){let r=(e="!Capacity: "+e).split("\n");const n=i.getValue(r,"link width",":",!0).trim(),s=i.getValue(r,"!capacity",":",!0).trim(),o=i.getValue(r,"BSD Name",":",!0).trim();if(s){let e=0;s.indexOf("(")>=0&&(e=parseInt(s.match(/\(([^)]+)\)/)[1].replace(/\./g,"").replace(/,/g,""))),e||(e=parseInt(s)),e&&(a.push({device:o,type:"NVMe",name:i.getValue(r,"Model",":",!0).trim(),vendor:t(i.getValue(r,"Model",":",!0).trim()),size:e,bytesPerSector:-1,totalCylinders:-1,totalHeads:-1,totalSectors:-1,totalTracks:-1,tracksPerCylinder:-1,sectorsPerTrack:-1,firmwareRevision:i.getValue(r,"Revision",":",!0).trim(),serialNum:i.getValue(r,"Serial Number",":",!0).trim(),interfaceType:("PCIe "+n).trim(),smartStatus:"unknown",BSDName:o}),g=g+'printf "\n'+o+'|"; diskutil info /dev/'+o+" | grep SMART;")}}))}}if(g)g+='printf "\n"',n(g,(function(t,n){n.toString().split("\n").forEach(e=>{if(e){let t=e.split("|");if(2===t.length){let e=t[0];t[1]=t[1].trim();let r=t[1].split(":");if(2===r.length){r[1]=r[1].trim();let t=r[1].toLowerCase();for(let r=0;r<a.length;r++)a[r].BSDName===e&&(a[r].smartStatus="not supported"===t?"not supported":"verified"===t?"Ok":"failing"===t?"Predicted Failure":"unknown")}}}});for(let e=0;e<a.length;e++)delete a[e].BSDName;e&&e(a),r(a)}));else{for(let e=0;e<a.length;e++)delete a[e].BSDName;e&&e(a),r(a)}})),p)try{i.wmic("diskdrive get /value").then((t,n)=>{if(n)e&&e(a),r(a);else{t.toString().split(/\n\s*\n/).forEach((function(e){let t=e.split("\r\n");const r=i.getValue(t,"Size","=").trim(),n=i.getValue(t,"Status","=").trim().toLowerCase();r&&a.push({device:"",type:e.indexOf("SSD")>-1?"SSD":"HD",name:i.getValue(t,"Caption","="),vendor:i.getValue(t,"Manufacturer","="),size:parseInt(r),bytesPerSector:parseInt(i.getValue(t,"BytesPerSector","=")),totalCylinders:parseInt(i.getValue(t,"TotalCylinders","=")),totalHeads:parseInt(i.getValue(t,"TotalHeads","=")),totalSectors:parseInt(i.getValue(t,"TotalSectors","=")),totalTracks:parseInt(i.getValue(t,"TotalTracks","=")),tracksPerCylinder:parseInt(i.getValue(t,"TracksPerCylinder","=")),sectorsPerTrack:parseInt(i.getValue(t,"SectorsPerTrack","=")),firmwareRevision:i.getValue(t,"FirmwareRevision","=").trim(),serialNum:i.getValue(t,"SerialNumber","=").trim(),interfaceType:i.getValue(t,"InterfaceType","=").trim(),smartStatus:"ok"===n?"Ok":"degraded"===n?"Degraded":"pred fail"===n?"Predicted Failure":"Unknown"})})),i.powerShell("Get-PhysicalDisk | Format-List").then(t=>{t.split(/\n\s*\n/).forEach((function(e){let t=e.split("\r\n");const r=i.getValue(t,"SerialNumber",":").trim(),n=i.getValue(t,"FriendlyName",":").trim(),s=i.getValue(t,"Size",":").trim(),o=i.getValue(t,"BusType",":").trim();let l=i.getValue(t,"MediaType",":").trim();if("3"!==l&&"HDD"!==l||(l="HD"),"4"===l&&(l="SSD"),"5"===l&&(l="SCM"),s){let e=i.findObjectByKey(a,"serialNum",r);-1===e&&(e=i.findObjectByKey(a,"name",n)),-1!=e&&(a[e].type=l,a[e].interfaceType=o)}})),e&&e(a),r(a)}).catch(()=>{e&&e(a),r(a)})}})}catch(t){e&&e(a),r(a)}})})}},function(e,t,r){"use strict";const n=r(3),s=r(0).exec,i=r(0).execSync,o=r(2),a=r(1);let l=process.platform;const c="linux"===l,p="darwin"===l,u="win32"===l,d="freebsd"===l,m="openbsd"===l,f="netbsd"===l,g="sunos"===l;let h,y={},v="",x={},w=[],S=[],O={};function _(){let e=n.networkInterfaces(),t="",r="",s=9999;for(let n in e)({}).hasOwnProperty.call(e,n)&&e[n].forEach((function(e){e&&!1===e.internal&&(r=r||n,e.scopeid&&e.scopeid<s&&(t=n,s=e.scopeid))}));t=t||r||"";try{if(u){let r="";const s=i("netstat -r");if(s.toString().split(n.EOL).forEach(e=>{if((e=e.replace(/\s+/g," ").trim()).indexOf("0.0.0.0 0.0.0.0")>-1&&!/[a-zA-Z]/.test(e)){const t=e.split(" ");t.length>=5&&(r=t[t.length-2])}}),r)for(let n in e)({}).hasOwnProperty.call(e,n)&&e[n].forEach((function(e){e&&e.address&&e.address===r&&(t=n)}))}if(c){let e=i("ip route 2> /dev/null | grep default").toString().split("\n")[0].split(/\s+/);"none"===e[0]&&e[5]?t=e[5]:e[4]&&(t=e[4]),t.indexOf(":")>-1&&(t=t.split(":")[1].trim())}if(p||d||m||f||g){let e="";c&&(e="ip route 2> /dev/null | grep default | awk '{print $5}'"),p&&(e="route get 0.0.0.0 2>/dev/null | grep interface: | awk '{print $2}'"),(d||m||f||g)&&(e="route get 0.0.0.0 | grep interface:");let r=i(e);t=r.toString().split("\n")[0],t.indexOf(":")>-1&&(t=t.split(":")[1].trim())}}catch(e){a.noop()}return t&&(v=t),v}function b(){let e="",t="",r={};if(c||d||m||f){if(void 0===h)try{const e=i("which ip").toString().split("\n");h=e.length&&-1===e[0].indexOf(":")&&0===e[0].indexOf("/")?e[0]:""}catch(e){h=""}try{const n=i("export LC_ALL=C; "+(h?h+" link show up":"/sbin/ifconfig")+"; unset LC_ALL").toString().split("\n");for(let s=0;s<n.length;s++)if(n[s]&&" "!==n[s][0]){if(h){let r=n[s+1].trim().split(" ");"link/ether"===r[0]&&(e=n[s].split(" ")[1],e=e.slice(0,e.length-1),t=r[1])}else e=n[s].split(" ")[0],t=n[s].split("HWaddr ")[1];e&&t&&(r[e]=t.trim(),e="",t="")}}catch(e){a.noop()}}if(p)try{const n=i("/sbin/ifconfig").toString().split("\n");for(let s=0;s<n.length;s++)n[s]&&"\t"!==n[s][0]&&n[s].indexOf(":")>0?e=n[s].split(":")[0]:0===n[s].indexOf("\tether ")&&(t=n[s].split("\tether ")[1],e&&t&&(r[e]=t.trim(),e="",t=""))}catch(e){a.noop()}return r}function I(){const e=a.getWmic()+" nic get MACAddress, name, NetEnabled, Speed, NetConnectionStatus, AdapterTypeId /value",t=a.getWmic()+" nicconfig get dhcpEnabled /value";try{const r=i(e,a.execOptsWin).split(/\n\s*\n/);return function(e,t){let r=[];for(let n in e)if({}.hasOwnProperty.call(e,n)&&""!==e[n].trim()){let s=e[n].trim().split("\r\n"),i=t[n].trim().split("\r\n"),o=a.getValue(s,"NetEnabled","=");if(""!==o){const e=parseInt(a.getValue(s,"speed","=").trim(),10)/1e6;r.push({mac:a.getValue(s,"MACAddress","=").toLowerCase(),dhcp:a.getValue(i,"dhcpEnabled","=").toLowerCase(),name:a.getValue(s,"Name","=").replace(/\]/g,")").replace(/\[/g,"("),netEnabled:"TRUE"===o,speed:isNaN(e)?-1:e,operstate:"2"===a.getValue(s,"NetConnectionStatus","=")?"up":"down",type:"9"===a.getValue(s,"AdapterTypeID","=")?"wireless":"wired"})}}return r}(r,i(t,a.execOptsWin).split(/\n\s*\n/))}catch(e){return[]}}function C(e,t){let r="";const n=t+".";try{const t=e.filter(e=>n.includes(e.name+".")).map(e=>e.dnsSuffix);return t[0]&&(r=t[0]),r||(r=""),r}catch(e){return"Unknown"}}function L(e,t,r){let n={state:"Unknown",protocol:"Unknown"};if("Disabled"===r)return n.state="Disabled",n.protocol="Not defined",n;if("wired"==e&&r.length>0)try{const e=r.find(e=>e.includes(t+"\r\n")).split("\r\n"),s=e.find(e=>e.includes("802.1x"));if(s.includes("Disabled"))n.state="Disabled",n.protocol="Not defined";else if(s.includes("Enabled")){const t=e.find(e=>e.includes("EAP"));n.protocol=t.split(":").pop(),n.state="Enabled"}}catch(e){return n}else if("wireless"==e){let e="",r="";try{const s=function(e){try{const t=i(`netsh wlan show  interface name="${e}" | findstr "SSID"`,a.execOptsWin).split("\r\n").shift();return t.split(":").pop()}catch(e){return"Unknown"}}(t);"Unknown"!==s&&(e=i(`netsh wlan show profiles "${s}" | findstr "802.1X"`,a.execOptsWin),r=i(`netsh wlan show profiles "${s}" | findstr "EAP"`,a.execOptsWin)),e.includes(":")&&r.includes(":")&&(n.state=e.split(":").pop(),n.protocol=r.split(":").pop())}catch(e){return 1===e.status&&e.stdout.includes("AutoConfig")&&(n.state="Disabled",n.protocol="Not defined"),n}}return n}function V(e){const t=[];let r=[];return e.forEach((function(e){e.startsWith("\t")||e.startsWith(" ")||r.length&&(t.push(r),r=[]),r.push(e)})),r.length&&t.push(r),t}function E(){try{const e=i("/sbin/ifconfig -v",{maxBuffer:2048e4}).toString().split("\n");return function(e){let t=[];return e.forEach(e=>{let r={iface:"",mtu:-1,mac:"",ip6:"",ip4:"",speed:-1,type:"",operstate:"",duplex:"",internal:!1};const n=e[0];r.iface=n.split(":")[0].trim();let s=n.split("> mtu");r.mtu=s.length>1?parseInt(s[1],10):-1,isNaN(r.mtu)&&(r.mtu=-1),r.internal=s[0].indexOf("LOOPBACK")>-1,e.forEach(e=>{e.trim().startsWith("ether ")&&(r.mac=e.split("ether ")[1].toLowerCase().trim()),e.trim().startsWith("inet6 ")&&!r.ip6&&(r.ip6=e.split("inet6 ")[1].toLowerCase().split("%")[0].split(" ")[0]),e.trim().startsWith("inet ")&&!r.ip4&&(r.ip4=e.split("inet ")[1].toLowerCase().split(" ")[0])});let i=a.getValue(e,"link rate");r.speed=i?parseFloat(i):-1,-1===r.speed?(i=a.getValue(e,"uplink rate"),r.speed=i?parseFloat(i):-1,r.speed>-1&&i.toLowerCase().indexOf("gbps")>=0&&(r.speed=1e3*r.speed)):i.toLowerCase().indexOf("gbps")>=0&&(r.speed=1e3*r.speed),r.type=a.getValue(e,"type").toLowerCase().indexOf("wi-fi")>-1?"wireless":"wired",r.operstate=a.getValue(e,"status").toLowerCase().indexOf("active")>-1?"up":"down",r.duplex=a.getValue(e,"media").toLowerCase().indexOf("half-duplex")>-1?"half":"full",(r.ip6||r.ip4||r.mac)&&t.push(r)}),t}(V(e))}catch(e){return[]}}function k(e){const t="nmcli device status 2>/dev/null | grep "+e;try{const e=i(t).toString().replace(/\s+/g," ").trim(),r=e.split(" ").slice(3).join(" ");return"--"!=r?r:""}catch(e){return""}}function P(){let e=[];try{const t=i("ip a 2> /dev/null",{maxBuffer:2048e4}).toString().split("\n");e=function(e){const t=[];e&&e.length&&e.forEach(e=>{if(e&&e.length){if(e[0].split(":").length>2)for(let r of e)if(r.indexOf(" inet ")>=0&&r.indexOf(" dynamic ")>=0){const e=r.split(" "),n=e[e.length-1].trim();t.push(n);break}}});return t}(V(t))}catch(e){a.noop()}try{e=function e(t){let r=[];try{let n=`cat ${t} 2> /dev/null | grep 'iface\\|source'`;i(n,{maxBuffer:2048e4}).toString().split("\n").forEach(t=>{const n=t.replace(/\s+/g," ").trim().split(" ");if(n.length>=4&&t.toLowerCase().indexOf(" inet ")>=0&&t.toLowerCase().indexOf("dhcp")>=0&&r.push(n[1]),t.toLowerCase().includes("source")){let n=t.split(" ")[1];r=r.concat(e(n))}})}catch(e){a.noop()}return r}("/etc/network/interfaces")}catch(e){a.noop()}return e}function T(e,t,r){let n=!1;if(!t)return r.indexOf(e)>=0;{const s=`nmcli connection show "${t}" 2>/dev/null | grep ipv4.method;`;try{const e=i(s).toString();switch(e.replace(/\s+/g," ").trim().split(" ").slice(1).toString()){case"auto":n=!0;break;default:n=!1}return n}catch(t){return r.indexOf(e)>=0}}}function D(e){let t=!1;const r=`ipconfig getpacket "${e}" 2>/dev/null | grep lease_time;`;try{const e=i(r).toString().split("\n");e.length&&e[0].startsWith("lease_time")&&(t=!0)}catch(e){a.noop()}return t}function A(e){if(!e)return"Unknown";{const t=`nmcli connection show "${e}" 2>/dev/null | grep ipv4.dns-search;`;try{const e=i(t).toString(),r=e.replace(/\s+/g," ").trim().split(" ").slice(1).toString();return"--"==r?"Not defined":r}catch(e){return"Unknown"}}}function N(e){if(!e)return"Not defined";{const t=`nmcli connection show "${e}" 2>/dev/null | grep 802-1x.eap;`;try{const e=i(t).toString(),r=e.replace(/\s+/g," ").trim().split(" ").slice(1).toString();return"--"==r?"":r}catch(e){return"Not defined"}}}function R(e,t,r){return!!r&&(["00:00:00:00:00:00","00:03:FF","00:05:69","00:0C:29","00:0F:4B","00:0F:4B","00:13:07","00:13:BE","00:15:5d","00:16:3E","00:1C:42","00:21:F6","00:21:F6","00:24:0B","00:24:0B","00:50:56","00:A0:B1","00:E0:C8","08:00:27","0A:00:27","18:92:2C","16:DF:49","3C:F3:92","54:52:00","FC:15:97"].filter(e=>r.toUpperCase().toUpperCase().startsWith(e.substr(0,r.length))).length>0||e.toLowerCase().indexOf(" virtual ")>-1||t.toLowerCase().indexOf(" virtual ")>-1||e.toLowerCase().indexOf("vethernet ")>-1||t.toLowerCase().indexOf("vethernet ")>-1||e.toLowerCase().startsWith("veth")||t.toLowerCase().startsWith("veth")||e.toLowerCase().startsWith("vboxnet")||t.toLowerCase().startsWith("vboxnet"))}function M(e,t=!0){return"boolean"==typeof e&&(t=e,e=null),new Promise(r=>{process.nextTick(()=>{let s=n.networkInterfaces(),o=[],l=[],g=[],h=[];if(p||d||m||f)l=E(),l.forEach(e=>{({}).hasOwnProperty.call(s,e.iface)&&s[e.iface].forEach((function(t){"IPv4"===t.family&&(e.ip4subnet=t.netmask),"IPv6"===t.family&&(e.ip6subnet=t.netmask)})),o.push({iface:e.iface,ifaceName:e.iface,ip4:e.ip4,ip4subnet:e.ip4subnet||"",ip6:e.ip6,ip6subnet:e.ip6subnet||"",mac:e.mac,internal:e.internal,virtual:!e.internal&&R(e.iface,e.iface,e.mac),operstate:e.operstate,type:e.type,duplex:e.duplex,mtu:e.mtu,speed:e.speed,dhcp:D(e.iface),dnsSuffix:"",ieee8021xAuth:"",ieee8021xState:"",carrierChanges:0})}),S=o,e&&e(o),r(o);else if(JSON.stringify(s)!==JSON.stringify(x)||t){x=Object.assign({},s),u&&(I().forEach(e=>{let t=!1;Object.keys(s).forEach(r=>{t||s[r].forEach(r=>{Object.keys(r).indexOf("mac")>=0&&(t=r.mac===e.mac)})}),t||(s[e.name]=[{mac:e.mac}])}),h=function(){try{const e=i("netsh lan show profiles",a.execOptsWin);return e.split("\r\nProfile on interface")}catch(e){return 1===e.status&&e.stdout.includes("AutoConfig")?"Disabled":[]}}(),l=I(),g=function(){let e={},t={primaryDNS:"",exitCode:0,ifaces:[]};try{const r=i("ipconfig /all",a.execOptsWin);return r.split("\r\n\r\n").forEach((r,n)=>{if(1==n){const e=r.split("\r\n").filter(e=>e.toUpperCase().includes("DNS")),n=e[0].substring(e[0].lastIndexOf(":")+1);t.primaryDNS=n.trim(),t.primaryDNS||(t.primaryDNS="Not defined")}if(n>1)if(n%2==0){const t=r.substring(r.lastIndexOf(" ")+1).replace(":","");e.name=t}else{const n=r.split("\r\n").filter(e=>e.toUpperCase().includes("DNS")),s=n[0].substring(n[0].lastIndexOf(":")+1);e.dnsSuffix=s.trim(),t.ifaces.push(e),e={}}}),t}catch(e){return{primaryDNS:"",exitCode:0,ifaces:[]}}}()),c&&(w=P());for(let e in s){let t="",r="",n="",d="",m="",f="",v="",x=-1,S=0,_="down",I=!1,V="",E="",P="",D="";if({}.hasOwnProperty.call(s,e)){let M=e;if(s[e].forEach((function(s){"IPv4"===s.family&&(t=s.address,r=s.netmask),"IPv6"===s.family&&(n&&!n.match(/^fe80::/i)||(n=s.address,d=s.netmask)),m=s.mac,m.indexOf("00:00:0")>-1&&(c||p)&&8===parseInt(process.versions.node.split("."),10)&&(0===Object.keys(O).length&&(O=b()),m=O[e]||"")})),c){let t=e.split(":")[0].trim().toLowerCase();const r=`echo -n "addr_assign_type: "; cat /sys/class/net/${t}/addr_assign_type 2>/dev/null; echo;\n            echo -n "address: "; cat /sys/class/net/${t}/address 2>/dev/null; echo;\n            echo -n "addr_len: "; cat /sys/class/net/${t}/addr_len 2>/dev/null; echo;\n            echo -n "broadcast: "; cat /sys/class/net/${t}/broadcast 2>/dev/null; echo;\n            echo -n "carrier: "; cat /sys/class/net/${t}/carrier 2>/dev/null; echo;\n            echo -n "carrier_changes: "; cat /sys/class/net/${t}/carrier_changes 2>/dev/null; echo;\n            echo -n "dev_id: "; cat /sys/class/net/${t}/dev_id 2>/dev/null; echo;\n            echo -n "dev_port: "; cat /sys/class/net/${t}/dev_port 2>/dev/null; echo;\n            echo -n "dormant: "; cat /sys/class/net/${t}/dormant 2>/dev/null; echo;\n            echo -n "duplex: "; cat /sys/class/net/${t}/duplex 2>/dev/null; echo;\n            echo -n "flags: "; cat /sys/class/net/${t}/flags 2>/dev/null; echo;\n            echo -n "gro_flush_timeout: "; cat /sys/class/net/${t}/gro_flush_timeout 2>/dev/null; echo;\n            echo -n "ifalias: "; cat /sys/class/net/${t}/ifalias 2>/dev/null; echo;\n            echo -n "ifindex: "; cat /sys/class/net/${t}/ifindex 2>/dev/null; echo;\n            echo -n "iflink: "; cat /sys/class/net/${t}/iflink 2>/dev/null; echo;\n            echo -n "link_mode: "; cat /sys/class/net/${t}/link_mode 2>/dev/null; echo;\n            echo -n "mtu: "; cat /sys/class/net/${t}/mtu 2>/dev/null; echo;\n            echo -n "netdev_group: "; cat /sys/class/net/${t}/netdev_group 2>/dev/null; echo;\n            echo -n "operstate: "; cat /sys/class/net/${t}/operstate 2>/dev/null; echo;\n            echo -n "proto_down: "; cat /sys/class/net/${t}/proto_down 2>/dev/null; echo;\n            echo -n "speed: "; cat /sys/class/net/${t}/speed 2>/dev/null; echo;\n            echo -n "tx_queue_len: "; cat /sys/class/net/${t}/tx_queue_len 2>/dev/null; echo;\n            echo -n "type: "; cat /sys/class/net/${t}/type 2>/dev/null; echo;\n            echo -n "wireless: "; cat /proc/net/wireless 2>/dev/null | grep ${t}; echo;\n            echo -n "wirelessspeed: "; iw dev ${t} link 2>&1 | grep bitrate; echo;`;let n=[];try{n=i(r).toString().split("\n");const e=k(t);I=T(t,e,w),V=A(e),E=N(e),P=(y=E)?"Not defined"==y?"Disabled":"Enabled":"Unknown"}catch(e){a.noop()}f=a.getValue(n,"duplex"),f=f.startsWith("cat")?"":f,v=parseInt(a.getValue(n,"mtu"),10);let s=parseInt(a.getValue(n,"speed"),10);x=isNaN(s)?-1:s;let o=a.getValue(n,"wirelessspeed").split("tx bitrate: ");-1===x&&2===o.length&&(s=parseFloat(o[1]),x=isNaN(s)?-1:s),S=parseInt(a.getValue(n,"carrier_changes"),10),_=a.getValue(n,"operstate"),D="up"===_?a.getValue(n,"wireless").trim()?"wireless":"wired":"unknown",("lo"===t||t.startsWith("bond"))&&(D="virtual")}if(u){V=C(g.ifaces,e),l.forEach(e=>{e.mac===m&&(M=e.name,I=e.dhcp,_=e.operstate,x=e.speed,D=e.type)}),(e.toLowerCase().indexOf("wlan")>=0||M.toLowerCase().indexOf("wlan")>=0||M.toLowerCase().indexOf("802.11n")>=0||M.toLowerCase().indexOf("wireless")>=0||M.toLowerCase().indexOf("wi-fi")>=0||M.toLowerCase().indexOf("wifi")>=0)&&(D="wireless");const t=L(D,e,h);E=t.protocol,P=t.state}let F=s[e]&&s[e][0]?s[e][0].internal:null;const B=!F&&R(e,M,m);o.push({iface:e,ifaceName:M,ip4:t,ip4subnet:r,ip6:n,ip6subnet:d,mac:m,internal:F,virtual:B,operstate:_,type:D,duplex:f,mtu:v,speed:x,dhcp:I,dnsSuffix:V,ieee8021xAuth:E,ieee8021xState:P,carrierChanges:S})}}S=o,e&&e(o),r(o)}else o=S,e&&e(o),r(o);var y})})}function F(e,t,r,n,s,i,o,a){let l={iface:e,operstate:n,rx_bytes:t,rx_dropped:s,rx_errors:i,tx_bytes:r,tx_dropped:o,tx_errors:a,rx_sec:-1,tx_sec:-1,ms:0};return y[e]&&y[e].ms?(l.ms=Date.now()-y[e].ms,l.rx_sec=t-y[e].rx_bytes>=0?(t-y[e].rx_bytes)/(l.ms/1e3):0,l.tx_sec=r-y[e].tx_bytes>=0?(r-y[e].tx_bytes)/(l.ms/1e3):0,y[e].rx_bytes=t,y[e].tx_bytes=r,y[e].rx_sec=l.rx_sec,y[e].tx_sec=l.tx_sec,y[e].ms=Date.now(),y[e].last_ms=l.ms,y[e].operstate=n):(y[e]||(y[e]={}),y[e].rx_bytes=t,y[e].tx_bytes=r,y[e].rx_sec=-1,y[e].tx_sec=-1,y[e].ms=Date.now(),y[e].last_ms=0,y[e].operstate=n),l}function B(e){return new Promise(t=>{process.nextTick(()=>{const r=a.sanitizeShellString(e);let n,i,l,g={iface:r,operstate:"unknown",rx_bytes:0,rx_dropped:0,rx_errors:0,tx_bytes:0,tx_dropped:0,tx_errors:0,rx_sec:-1,tx_sec:-1,ms:0},h="unknown",v=0,x=0,w=0,S=0,O=0,_=0;if(!y[r]||y[r]&&!y[r].ms||y[r]&&y[r].ms&&Date.now()-y[r].ms>=500){if(c&&(o.existsSync("/sys/class/net/"+r)?(n="cat /sys/class/net/"+r+"/operstate; cat /sys/class/net/"+r+"/statistics/rx_bytes; cat /sys/class/net/"+r+"/statistics/tx_bytes; cat /sys/class/net/"+r+"/statistics/rx_dropped; cat /sys/class/net/"+r+"/statistics/rx_errors; cat /sys/class/net/"+r+"/statistics/rx_dropped; cat /sys/class/net/"+r+"/statistics/tx_errors; ",s(n,(function(e,n){e||(i=n.toString().split("\n"),h=i[0].trim(),v=parseInt(i[1],10),x=parseInt(i[2],10),w=parseInt(i[3],10),S=parseInt(i[4],10),O=parseInt(i[5],10),_=parseInt(i[6],10),g=F(r,v,x,h,w,S,O,_)),t(g)}))):t(g)),(d||m||f)&&(n="netstat -ibndI "+r,s(n,(function(e,n){if(!e){i=n.toString().split("\n");for(let e=1;e<i.length;e++){const t=i[e].replace(/ +/g," ").split(" ");t&&t[0]&&t[7]&&t[10]&&(v+=parseInt(t[7]),"-"!==t[6].trim()&&(w+=parseInt(t[6])),"-"!==t[5].trim()&&(S+=parseInt(t[5])),x+=parseInt(t[10]),"-"!==t[12].trim()&&(O+=parseInt(t[12])),"-"!==t[9].trim()&&(_+=parseInt(t[9])),h="up")}g=F(r,v,x,h,w,S,O,_)}t(g)}))),p&&(n="ifconfig "+r+' | grep "status"',s(n,(function(e,o){g.operstate=(o.toString().split(":")[1]||"").trim(),g.operstate=(g.operstate||"").toLowerCase(),g.operstate="active"===g.operstate?"up":"inactive"===g.operstate?"down":"unknown",n="netstat -bdI "+r,s(n,(function(e,n){e||(i=n.toString().split("\n"),i.length>1&&""!==i[1].trim()&&(l=i[1].replace(/ +/g," ").split(" "),v=parseInt(l[6]),w=parseInt(l[11]),S=parseInt(l[5]),x=parseInt(l[9]),O=parseInt(l[11]),_=parseInt(l[8]),g=F(r,v,x,g.operstate,w,S,O,_))),t(g)}))}))),u){let e=[],n=r;a.wmic("path Win32_PerfRawData_Tcpip_NetworkInterface Get name,BytesReceivedPersec,BytesSentPersec,BytesTotalPersec,PacketsOutboundDiscarded,PacketsOutboundErrors,PacketsReceivedDiscarded,PacketsReceivedErrors /value").then((s,i)=>{if(!i){const t=s.toString().split(/\n\s*\n/);e=function(e){let t=[];for(let r in e)if({}.hasOwnProperty.call(e,r)&&""!==e[r].trim()){let n=e[r].trim().split("\r\n");t.push({name:a.getValue(n,"Name","=").replace(/[()\[\] ]+/g,"").replace("#","_").toLowerCase(),rx_bytes:parseInt(a.getValue(n,"BytesReceivedPersec","="),10),rx_errors:parseInt(a.getValue(n,"PacketsReceivedErrors","="),10),rx_dropped:parseInt(a.getValue(n,"PacketsReceivedDiscarded","="),10),tx_bytes:parseInt(a.getValue(n,"BytesSentPersec","="),10),tx_errors:parseInt(a.getValue(n,"PacketsOutboundErrors","="),10),tx_dropped:parseInt(a.getValue(n,"PacketsOutboundDiscarded","="),10)})}return t}(t)}M(!1).then(s=>{v=0,x=0,e.forEach(e=>{s.forEach(t=>{t.iface.toLowerCase()!==r.toLowerCase()&&t.mac.toLowerCase()!==r.toLowerCase()&&t.ip4.toLowerCase()!==r.toLowerCase()&&t.ip6.toLowerCase()!==r.toLowerCase()&&t.ifaceName.replace(/[()\[\] ]+/g,"").replace("#","_").toLowerCase()!==r.replace(/[()\[\] ]+/g,"").replace("#","_").toLowerCase()||t.ifaceName.replace(/[()\[\] ]+/g,"").replace("#","_").toLowerCase()!==e.name||(n=t.iface,v=e.rx_bytes,w=e.rx_dropped,S=e.rx_errors,x=e.tx_bytes,O=e.tx_dropped,_=e.tx_errors,h=t.operstate)})}),v&&x&&(g=F(n,parseInt(v),parseInt(x),h,w,S,O,_)),t(g)})})}}else g.rx_bytes=y[r].rx_bytes,g.tx_bytes=y[r].tx_bytes,g.rx_sec=y[r].rx_sec,g.tx_sec=y[r].tx_sec,g.ms=y[r].last_ms,g.operstate=y[r].operstate,t(g)})})}t.getDefaultNetworkInterface=_,t.networkInterfaceDefault=function(e){return new Promise(t=>{process.nextTick(()=>{let r=_();e&&e(r),t(r)})})},t.networkInterfaces=M,t.networkStats=function e(t,r){let n=[];return a.isFunction(t)&&!r?(r=t,n=[_()]):(t=(t=t||_()).trim().toLowerCase().replace(/,+/g,"|"),n=t.split("|")),new Promise(t=>{process.nextTick(()=>{const s=[],i=[];if(n.length&&"*"===n[0].trim())n=[],M(!1).then(s=>{for(let e of s)n.push(e.iface);e(n.join(",")).then(e=>{r&&r(e),t(e)})});else{for(let e of n)i.push(B(e.trim()));i.length?Promise.all(i).then(e=>{r&&r(e),t(e)}):(r&&r(s),t(s))}})})},t.networkConnections=function(e){return new Promise(t=>{process.nextTick(()=>{let r=[];if(c||d||m||f){let n='export LC_ALL=C; netstat -tunap | grep "ESTABLISHED\\|SYN_SENT\\|SYN_RECV\\|FIN_WAIT1\\|FIN_WAIT2\\|TIME_WAIT\\|CLOSE\\|CLOSE_WAIT\\|LAST_ACK\\|LISTEN\\|CLOSING\\|UNKNOWN"; unset LC_ALL';(d||m||f)&&(n='export LC_ALL=C; netstat -na | grep "ESTABLISHED\\|SYN_SENT\\|SYN_RECV\\|FIN_WAIT1\\|FIN_WAIT2\\|TIME_WAIT\\|CLOSE\\|CLOSE_WAIT\\|LAST_ACK\\|LISTEN\\|CLOSING\\|UNKNOWN"; unset LC_ALL'),s(n,{maxBuffer:2048e4},(function(i,o){let a=o.toString().split("\n");!i&&(a.length>1||""!=a[0])?(a.forEach((function(e){if((e=e.replace(/ +/g," ").split(" ")).length>=7){let t=e[3],n="",s=e[3].split(":");s.length>1&&(n=s[s.length-1],s.pop(),t=s.join(":"));let i=e[4],o="",a=e[4].split(":");a.length>1&&(o=a[a.length-1],a.pop(),i=a.join(":"));let l=e[5],c=e[6].split("/");l&&r.push({protocol:e[0],localaddress:t,localport:n,peeraddress:i,peerport:o,state:l,pid:c[0]&&"-"!==c[0]?parseInt(c[0],10):-1,process:c[1]?c[1].split(" ")[0]:""})}})),e&&e(r),t(r)):(n='ss -tunap | grep "ESTAB\\|SYN-SENT\\|SYN-RECV\\|FIN-WAIT1\\|FIN-WAIT2\\|TIME-WAIT\\|CLOSE\\|CLOSE-WAIT\\|LAST-ACK\\|LISTEN\\|CLOSING"',s(n,{maxBuffer:2048e4},(function(n,s){if(!n){s.toString().split("\n").forEach((function(e){if((e=e.replace(/ +/g," ").split(" ")).length>=6){let t=e[4],n="",s=e[4].split(":");s.length>1&&(n=s[s.length-1],s.pop(),t=s.join(":"));let i=e[5],o="",a=e[5].split(":");a.length>1&&(o=a[a.length-1],a.pop(),i=a.join(":"));let l=e[1];"ESTAB"===l&&(l="ESTABLISHED"),"TIME-WAIT"===l&&(l="TIME_WAIT");let c=-1,p="";if(e.length>=7&&e[6].indexOf("users:")>-1){let t=e[6].replace('users:(("',"").replace(/"/g,"").split(",");t.length>2&&(p=t[0].split(" ")[0],c=parseInt(t[1],10))}l&&r.push({protocol:e[0],localaddress:t,localport:n,peeraddress:i,peerport:o,state:l,pid:c,process:p})}}))}e&&e(r),t(r)})))}))}if(p){s('netstat -natv | grep "ESTABLISHED\\|SYN_SENT\\|SYN_RECV\\|FIN_WAIT1\\|FIN_WAIT2\\|TIME_WAIT\\|CLOSE\\|CLOSE_WAIT\\|LAST_ACK\\|LISTEN\\|CLOSING\\|UNKNOWN"',{maxBuffer:2048e4},(function(n,s){if(!n){s.toString().split("\n").forEach((function(e){if((e=e.replace(/ +/g," ").split(" ")).length>=8){let t=e[3],n="",s=e[3].split(".");s.length>1&&(n=s[s.length-1],s.pop(),t=s.join("."));let i=e[4],o="",a=e[4].split(".");a.length>1&&(o=a[a.length-1],a.pop(),i=a.join("."));let l=e[5],c=parseInt(e[8],10);l&&r.push({protocol:e[0],localaddress:t,localport:n,peeraddress:i,peerport:o,state:l,pid:c,process:""})}})),e&&e(r),t(r)}}))}if(u){let n="netstat -nao";try{s(n,a.execOptsWin,(function(n,s){if(!n){s.toString().split("\r\n").forEach((function(e){if((e=e.trim().replace(/ +/g," ").split(" ")).length>=4){let t=e[1],n="",s=e[1].split(":");s.length>1&&(n=s[s.length-1],s.pop(),t=s.join(":"));let i=e[2],o="",a=e[2].split(":");a.length>1&&(o=a[a.length-1],a.pop(),i=a.join(":"));let l=e[4],c=e[3];"HERGESTELLT"===c&&(c="ESTABLISHED"),c.startsWith("ABH")&&(c="LISTEN"),"SCHLIESSEN_WARTEN"===c&&(c="CLOSE_WAIT"),"WARTEND"===c&&(c="TIME_WAIT"),"SYN_GESENDET"===c&&(c="SYN_SENT"),"LISTENING"===c&&(c="LISTEN"),"SYN_RECEIVED"===c&&(c="SYN_RECV"),"FIN_WAIT_1"===c&&(c="FIN_WAIT1"),"FIN_WAIT_2"===c&&(c="FIN_WAIT2"),c&&r.push({protocol:e[0].toLowerCase(),localaddress:t,localport:n,peeraddress:i,peerport:o,state:c,pid:l,process:""})}})),e&&e(r),t(r)}}))}catch(n){e&&e(r),t(r)}}})})},t.networkGatewayDefault=function(e){return new Promise(t=>{process.nextTick(()=>{let r="";if(c||d||m||f){let n="ip route get 1";try{s(n,{maxBuffer:2048e4},(function(n,s){if(n)e&&e(r),t(r);else{let n=s.toString().split("\n");let i=(n&&n[0]?n[0]:"").split(" via ");i&&i[1]&&(i=i[1].split(" "),r=i[0]),e&&e(r),t(r)}}))}catch(n){e&&e(r),t(r)}}if(p){let n="route -n get default";try{s(n,{maxBuffer:2048e4},(function(n,s){if(n)e&&e(r),t(r);else{let n=s.toString().split("\n").map(e=>e.trim());r=a.getValue(n,"gateway"),e&&e(r),t(r)}}))}catch(n){e&&e(r),t(r)}}if(u)try{s("netstat -r",a.execOptsWin,(function(s,i){i.toString().split(n.EOL).forEach(e=>{if((e=e.replace(/\s+/g," ").trim()).indexOf("0.0.0.0 0.0.0.0")>-1&&!/[a-zA-Z]/.test(e)){const t=e.split(" ");t.length>=5&&t[t.length-3].indexOf(".")>-1&&(r=t[t.length-3])}}),r?(e&&e(r),t(r)):a.powerShell("Get-CimInstance -ClassName Win32_IP4RouteTable | Where-Object { $_.Destination -eq '0.0.0.0' -and $_.Mask -eq '0.0.0.0' }").then(n=>{let s=n.toString().split("\r\n");s.length>1&&!r&&(r=a.getValue(s,"NextHop"),e&&e(r),t(r))})}))}catch(n){e&&e(r),t(r)}})})}},function(e,t,r){"use strict";const n=r(3),s=r(0).exec,i=r(1);let o=process.platform;const a="linux"===o,l="darwin"===o,c="win32"===o;function p(e){return parseFloat(e)/2-100}function u(e){const t=2*(parseFloat(e)+100);return t<=100?t:100}function d(e){const t={1:2412,2:2417,3:2422,4:2427,5:2432,6:2437,7:2442,8:2447,9:2452,10:2457,11:2462,12:2467,13:2472,14:2484,32:5160,34:5170,36:5180,38:5190,40:5200,42:5210,44:5220,46:5230,48:5240,50:5250,52:5260,54:5270,56:5280,58:5290,60:5300,62:5310,64:5320,68:5340,96:5480,100:5500,102:5510,104:5520,106:5530,108:5540,110:5550,112:5560,114:5570,116:5580,118:5590,120:5600,122:5610,124:5620,126:5630,128:5640,132:5660,134:5670,136:5680,138:5690,140:5700,142:5710,144:5720,149:5745,151:5755,153:5765,155:5775,157:5785,159:5795,161:5805,165:5825,169:5845,173:5865,183:4915,184:4920,185:4925,187:4935,188:4940,189:4945,192:4960,196:4980};return{}.hasOwnProperty.call(t,e)?t[e]:-1}t.wifiNetworks=function(e){return new Promise(t=>{process.nextTick(()=>{let r=[];if(a){s("nmcli --terse --fields active,ssid,bssid,mode,chan,freq,signal,security,wpa-flags,rsn-flags device wifi list 2>/dev/null",{maxBuffer:2048e4},(function(s,o){const a=o.toString().split("ACTIVE:");a.shift(),a.forEach(e=>{const t=(e="ACTIVE:"+e).split(n.EOL),s=i.getValue(t,"CHAN"),o=i.getValue(t,"FREQ").toLowerCase().replace("mhz","").trim(),a=i.getValue(t,"SECURITY").replace("(","").replace(")",""),l=i.getValue(t,"WPA-FLAGS").replace("(","").replace(")",""),c=i.getValue(t,"RSN-FLAGS").replace("(","").replace(")","");r.push({ssid:i.getValue(t,"SSID"),bssid:i.getValue(t,"BSSID"),mode:i.getValue(t,"MODE"),channel:s?parseInt(s,10):-1,frequency:o?parseInt(o,10):-1,signalLevel:p(i.getValue(t,"SIGNAL")),quality:parseFloat(i.getValue(t,"SIGNAL")),security:a&&"none"!==a?a.split(" "):[],wpaFlags:l&&"none"!==l?l.split(" "):[],rsnFlags:c&&"none"!==c?c.split(" "):[]})}),e&&e(r),t(r)}))}else if(l){s("/System/Library/PrivateFrameworks/Apple80211.framework/Versions/Current/Resources/airport -s",{maxBuffer:2048e4},(function(s,o){const a=o.toString().split(n.EOL);if(a&&a.length>1){const e=i.parseHead(a[0],1);e.length>=7&&(a.shift(),a.forEach(t=>{if(t.trim()){const n=t.substring(e[3].from,e[3].to).trim(),s=n?parseInt(n,10):-1,i=t.substring(e[2].from,e[2].to).trim(),o=t.substring(e[6].from,1e3).trim().split(" ");let a=[],l=[];o.forEach(e=>{if(e.indexOf("(")>0){const t=e.split("(");a.push(t[0]),l=l.concat(t[1].replace(")","").split(","))}}),l=Array.from(new Set(l)),r.push({ssid:t.substring(e[0].from,e[0].to).trim(),bssid:t.substring(e[1].from,e[1].to).trim(),mode:"",channel:s,frequency:d(s),signalLevel:i?parseInt(i,10):-1,quality:u(i),security:a,wpaFlags:l,rsnFlags:[]})}}))}e&&e(r),t(r)}))}else if(c){s("chcp 65001 && netsh wlan show networks mode=Bssid",i.execOptsWin,(function(s,i){const o=i.toString("utf8").split(n.EOL+n.EOL+"SSID ");o.shift(),o.forEach(e=>{const t=e.split(n.EOL);if(t&&t.length>=8&&t[0].indexOf(":")>=0){let e=t[4].split(":");e.shift(),e=e.join(":").trim();const n=t[7].split(":").pop().trim(),s=t[5].split(":").pop().trim();r.push({ssid:t[0].split(":").pop().trim(),bssid:e,mode:"",channel:n?parseInt(n,10):-1,frequency:d(n),signalLevel:p(s),quality:s?parseInt(s,10):-1,security:[t[2].split(":").pop().trim()],wpaFlags:[t[3].split(":").pop().trim()],rsnFlags:[]})}}),e&&e(r),t(r)}))}else e&&e(r),t(r)})})}},function(e,t,r){"use strict";const n=r(3),s=r(2),i=r(23),o=r(0).exec,a=r(0).execSync,l=r(1);let c=process.platform;const p="linux"===c,u="darwin"===c,d="win32"===c,m="freebsd"===c,f="openbsd"===c,g="netbsd"===c,h="sunos"===c,y={all:0,list:{},ms:0,result:{}},v={all:0,list:{},ms:0,result:{}},x={all:0,list:{},ms:0,result:{}},w={0:"unknown",1:"other",2:"ready",3:"running",4:"blocked",5:"suspended blocked",6:"suspended ready",7:"terminated",8:"stopped",9:"growing"};function S(e){let t=e.replace(/ +/g," ").split(" ");return(t.length>=2?parseInt(t[1]):0)+(t.length>=3?parseInt(t[2]):0)+(t.length>=4?parseInt(t[3]):0)+(t.length>=5?parseInt(t[4]):0)+(t.length>=6?parseInt(t[5]):0)+(t.length>=7?parseInt(t[6]):0)+(t.length>=8?parseInt(t[7]):0)+(t.length>=9?parseInt(t[8]):0)+(t.length>=10?parseInt(t[9]):0)+(t.length>=11?parseInt(t[10]):0)}function O(e,t,r){let n=e.replace(/ +/g," ").split(")");if(n.length>=2){let e=n[1].split(" ");if(e.length>=16){let s=parseInt(n[0].split(" ")[0]),i=parseInt(e[12]),o=parseInt(e[13]),a=parseInt(e[14]),l=parseInt(e[15]),c=0,p=0;return r.all>0&&r.list[s]?(c=(i+a-r.list[s].utime-r.list[s].cutime)/(t-r.all)*100,p=(o+l-r.list[s].stime-r.list[s].cstime)/(t-r.all)*100):(c=(i+a)/t*100,p=(o+l)/t*100),{pid:s,utime:i,stime:o,cutime:a,cstime:l,pcpuu:c,pcpus:p}}return{pid:0,utime:0,stime:0,cutime:0,cstime:0,pcpuu:0,pcpus:0}}return{pid:0,utime:0,stime:0,cutime:0,cstime:0,pcpuu:0,pcpus:0}}function _(e,t,r){let n=0,s=0;return r.all>0&&r.list[e.pid]?(n=(e.utime-r.list[e.pid].utime)/(t-r.all)*100,s=(e.stime-r.list[e.pid].stime)/(t-r.all)*100):(n=e.utime/t*100,s=e.stime/t*100),{pid:e.pid,utime:e.utime,stime:e.stime,pcpuu:n,pcpus:s}}t.services=function(e,t){return l.isFunction(e)&&!t&&(t=e,e=""),new Promise(r=>{process.nextTick(()=>{if(e){let n=l.sanitizeShellString(e);n=n.trim().toLowerCase().replace(/,+/g," ").replace(/  +/g," ").replace(/ +/g,"|"),""===n&&(n="*");let s=n.split("|"),i=[],c=[],h=[];if(p||m||f||g||u){if((p||m||f||g)&&"*"===n){n="";let e=a("service --status-all 2> /dev/null").toString().split("\n");for(const t of e){const e=t.split("]");2===e.length&&(n+=(""!==n?"|":"")+e[1].trim(),h.push({name:e[1].trim(),running:e[0].indexOf("+")>0}))}s=n.split("|")}let e=u?"ps -caxo pcpu,pmem,pid,command":"ps -axo pcpu,pmem,pid,command";""!==n&&s.length>0?o(e+' | grep -v grep | grep -iE "'+n+'"',{maxBuffer:2048e4},(function(e,a){if(e)o('ps -o comm | grep -v grep | egrep "'+n+'"',{maxBuffer:2048e4},(function(e,n){if(e)s.forEach((function(e){i.push({name:e,running:!1,startmode:"",pcpu:0,pmem:0})})),t&&t(i),r(i);else{let e=n.toString().replace(/ +/g," ").replace(/,+/g,".").split("\n");s.forEach((function(t){let r=e.filter((function(e){return-1!==e.indexOf(t)}));i.push({name:t,running:r.length>0,startmode:"",pcpu:0,pmem:0})})),t&&t(i),r(i)}}));else{let e=a.toString().replace(/ +/g," ").replace(/,+/g,".").split("\n");if(s.forEach((function(t){let r;r=u?e.filter((function(e){return-1!==e.toLowerCase().indexOf(t)})):e.filter((function(e){return-1!==e.toLowerCase().indexOf(" "+t+":")||-1!==e.toLowerCase().indexOf("/"+t)}));let n=h.filter(e=>e.name===t);const s=[];for(const e of r){const t=e.trim().split(" ")[2];t&&s.push(parseInt(t,10))}i.push({name:t,running:h.length&&n.length?n[0].running:r.length>0,startmode:"",pids:s,pcpu:parseFloat(r.reduce((function(e,t){return e+parseFloat(t.trim().split(" ")[0])}),0).toFixed(2)),pmem:parseFloat(r.reduce((function(e,t){return e+parseFloat(t.trim().split(" ")[1])}),0).toFixed(2))})})),p){let e='cat /proc/stat | grep "cpu "';for(let t in i)for(let r in i[t].pids)e+=";cat /proc/"+i[t].pids[r]+"/stat";o(e,{maxBuffer:2048e4},(function(e,n){let s=n.toString().split("\n"),o=S(s.shift()),a={},l={};for(let e=0;e<s.length;e++)if(l=O(s[e],o,v),l.pid){let e=-1;for(let t in i)for(let r in i[t].pids)parseInt(i[t].pids[r])===parseInt(l.pid)&&(e=t);e>=0&&(i[e].pcpu+=l.pcpuu+l.pcpus),a[l.pid]={pcpuu:l.pcpuu,pcpus:l.pcpus,utime:l.utime,stime:l.stime,cutime:l.cutime,cstime:l.cstime}}v.all=o,v.list=Object.assign({},a),v.ms=Date.now()-v.ms,v.result=Object.assign({},i),t&&t(i),r(i)}))}else t&&t(i),r(i)}})):(t&&t(i),r(i))}if(d)try{l.wmic("service get /value").then((e,o)=>{if(o)s.forEach((function(e){i.push({name:e,running:!1,startmode:"",pcpu:0,pmem:0})})),t&&t(i),r(i);else{let o=e.split(/\n\s*\n/);for(let e=0;e<o.length;e++)if(""!==o[e].trim()){let t=o[e].trim().split("\r\n"),r=l.getValue(t,"Name","=",!0).toLowerCase(),a=l.getValue(t,"Started","=",!0),p=l.getValue(t,"StartMode","=",!0),u=l.getValue(t,"ProcessId","=",!0);("*"===n||s.indexOf(r)>=0)&&(i.push({name:r,running:"TRUE"===a,startmode:p,pids:[u],pcpu:0,pmem:0}),c.push(r))}if("*"!==n){s.filter((function(e){return-1===c.indexOf(e)})).forEach((function(e){i.push({name:e,running:!1,startmode:"",pids:[],pcpu:0,pmem:0})}))}t&&t(i),r(i)}})}catch(e){t&&t(i),r(i)}}else t&&t({}),r({})})})},t.processes=function(e){let t=[];function r(e){let t=(e=e||"").split(" ")[0];if(":"===t.substr(-1)&&(t=t.substr(0,t.length-1)),"["!==t.substr(0,1)){let e=t.split("/");t=isNaN(parseInt(e[e.length-1]))?e[e.length-1]:e[0]}return t}function a(e){let n=[];if(e.length>1){let o=e[0];t=l.parseHead(o,8),e.shift(),e.forEach((function(e){""!==e.trim()&&n.push(function(e){let n=0,o=0;function a(r){n=o,o=e.substring(t[r].to+n,1e3).indexOf(" ")}a(0);const l=parseInt(e.substring(t[0].from+n,t[0].to+o));a(1);const c=parseInt(e.substring(t[1].from+n,t[1].to+o));a(2);const u=parseFloat(e.substring(t[2].from+n,t[2].to+o).replace(/,/g,"."));a(3);const d=parseFloat(e.substring(t[3].from+n,t[3].to+o).replace(/,/g,"."));a(4);const m=parseInt(e.substring(t[4].from+n,t[4].to+o));a(5);const f=parseInt(e.substring(t[5].from+n,t[5].to+o));a(6);const g=parseInt(e.substring(t[6].from+n,t[6].to+o));a(7);const h=parseInt(e.substring(t[7].from+n,t[7].to+o))||0;a(8);const y=function(e){let t=e,r=e.replace(/ +/g," ").split(" ");return 5===r.length&&(t=r[4]+"-"+("0"+("JANFEBMARAPRMAYJUNJULAUGSEPOCTNOVDEC".indexOf(r[1].toUpperCase())/3+1)).slice(-2)+"-"+("0"+r[2]).slice(-2)+" "+r[3]),t}(e.substring(t[8].from+n,t[8].to+o).trim());a(9);let v=e.substring(t[9].from+n,t[9].to+o).trim();v="R"===v[0]?"running":"S"===v[0]?"sleeping":"T"===v[0]?"stopped":"W"===v[0]?"paging":"X"===v[0]?"dead":"Z"===v[0]?"zombie":"D"===v[0]||"U"===v[0]?"blocked":"unknown",a(10);let x=e.substring(t[10].from+n,t[10].to+o).trim();"?"!==x&&"??"!==x||(x=""),a(11);const w=e.substring(t[11].from+n,t[11].to+o).trim();a(12);const S=e.substring(t[12].from+n,t[12].to+o).trim().replace(/\[/g,"").replace(/]/g,"");let O="",_="",b="",I=S.indexOf(" -"),C=S.indexOf(" /");I=I>=0?I:1e4,C=C>=0?C:1e4;const L=Math.min(I,C);let V=S.substr(0,L);const E=S.substr(L),k=V.lastIndexOf("/");if(k>=0&&(O=V.substr(0,k),V=V.substr(k+1)),1e4===L&&V.indexOf(" ")>-1){const e=V.split(" ");s.existsSync(i.join(O,e[0]))?(_=e.shift(),b=(e.join(" ")+" "+E).trim()):(_=V.trim(),b=E.trim())}else _=V.trim(),b=E.trim();return{pid:l,parentPid:c,name:p?r(_):_,pcpu:u,pcpuu:0,pcpus:0,pmem:d,priority:m,mem_vsz:f,mem_rss:g,nice:h,started:y,state:v,tty:x,user:w,command:_,params:b,path:O}}(e))}))}return n}return new Promise(t=>{process.nextTick(()=>{let s={all:0,running:0,blocked:0,sleeping:0,unknown:0,list:[]},i="";if(y.ms&&Date.now()-y.ms>=500||0===y.ms)if(p||m||f||g||u||h)p&&(i="export LC_ALL=C; ps -axo pid:11,ppid:11,pcpu:6,pmem:6,pri:5,vsz:11,rss:11,ni:5,lstart:30,state:5,tty:15,user:20,command; unset LC_ALL"),(m||f||g)&&(i="export LC_ALL=C; ps -axo pid,ppid,pcpu,pmem,pri,vsz,rss,ni,lstart,state,tty,user,command; unset LC_ALL"),u&&(i="export LC_ALL=C; ps -axo pid,ppid,pcpu,pmem,pri,vsz,rss,nice,lstart,state,tty,user,command -r; unset LC_ALL"),h&&(i="ps -Ao pid,ppid,pcpu,pmem,pri,vsz,rss,nice,stime,s,tty,user,comm"),o(i,{maxBuffer:2048e4},(function(l,c){if(l)i="ps -o pid,ppid,vsz,rss,nice,etime,stat,tty,user,comm",h&&(i="ps -o pid,ppid,vsz,rss,nice,etime,s,tty,user,comm"),o(i,{maxBuffer:2048e4},(function(i,o){if(i)e&&e(s),t(s);else{let i=o.toString().split("\n");i.shift(),s.list=function(e){let t=[];return e.forEach((function(e){if(""!==e.trim()){const s=(e=e.trim().replace(/ +/g," ").replace(/,+/g,".")).split(" "),i=s.slice(9).join(" "),o=parseFloat((1*parseInt(s[3])*1024/n.totalmem()).toFixed(1)),a=s[5].split(":"),l=function(e){const t=("0"+(e.getMonth()+1).toString()).substr(-2);return e.getFullYear().toString()+"-"+t+"-"+("0"+e.getDay().toString()).substr(-2)+" "+e.getHours().toString()+":"+e.getMinutes().toString()+":"+("0"+e.getSeconds().toString()).substr(-2)}(new Date(Date.now()-(a.length>1?1e3*(60*a[0]+a[1]):1e3*a[0])));t.push({pid:parseInt(s[0]),parentPid:parseInt(s[1]),name:r(i),pcpu:0,pcpuu:0,pcpus:0,pmem:o,priority:0,mem_vsz:parseInt(s[2]),mem_rss:parseInt(s[3]),nice:parseInt(s[4]),started:l,state:"R"===s[6]?"running":"S"===s[6]?"sleeping":"T"===s[6]?"stopped":"W"===s[6]?"paging":"X"===s[6]?"dead":"Z"===s[6]?"zombie":"D"===s[6]||"U"===s[6]?"blocked":"unknown",tty:s[7],user:s[8],command:i})}})),t}(i).slice(),s.all=s.list.length,s.running=s.list.filter((function(e){return"running"===e.state})).length,s.blocked=s.list.filter((function(e){return"blocked"===e.state})).length,s.sleeping=s.list.filter((function(e){return"sleeping"===e.state})).length,e&&e(s),t(s)}}));else if(s.list=a(c.toString().split("\n")).slice(),s.all=s.list.length,s.running=s.list.filter((function(e){return"running"===e.state})).length,s.blocked=s.list.filter((function(e){return"blocked"===e.state})).length,s.sleeping=s.list.filter((function(e){return"sleeping"===e.state})).length,p){i='cat /proc/stat | grep "cpu "';for(let e=0;e<s.list.length;e++)i+=";cat /proc/"+s.list[e].pid+"/stat";o(i,{maxBuffer:2048e4},(function(r,n){let i=n.toString().split("\n"),o=S(i.shift()),a={},l={};for(let e=0;e<i.length;e++)if(l=O(i[e],o,y),l.pid){let e=s.list.map((function(e){return e.pid})).indexOf(l.pid);e>=0&&(s.list[e].pcpu=l.pcpuu+l.pcpus,s.list[e].pcpuu=l.pcpuu,s.list[e].pcpus=l.pcpus),a[l.pid]={pcpuu:l.pcpuu,pcpus:l.pcpus,utime:l.utime,stime:l.stime,cutime:l.cutime,cstime:l.cstime}}y.all=o,y.list=Object.assign({},a),y.ms=Date.now()-y.ms,y.result=Object.assign({},s),e&&e(s),t(s)}))}else e&&e(s),t(s)}));else if(d)try{l.wmic("process get /value").then((r,i)=>{if(!i){let e=r.split(/\n\s*\n/),t=[],i=[],a={},c=0,p=0;for(let r=0;r<e.length;r++)if(""!==e[r].trim()){let a=e[r].trim().split("\r\n"),u=parseInt(l.getValue(a,"ProcessId","=",!0),10),d=parseInt(l.getValue(a,"ParentProcessId","=",!0),10),m=l.getValue(a,"ExecutionState","="),f=l.getValue(a,"Caption","=",!0),g=l.getValue(a,"CommandLine","=",!0),h=l.getValue(a,"ExecutablePath","=",!0),y=parseInt(l.getValue(a,"UserModeTime","=",!0),10),v=parseInt(l.getValue(a,"KernelModeTime","=",!0),10),x=parseInt(l.getValue(a,"WorkingSetSize","=",!0),10);c+=y,p+=v,s.all++,m||s.unknown++,"3"===m&&s.running++,"4"!==m&&"5"!==m||s.blocked++,i.push({pid:u,utime:y,stime:v,pcpu:0,pcpuu:0,pcpus:0}),t.push({pid:u,parentPid:d,name:f,pcpu:0,pcpuu:0,pcpus:0,pmem:x/n.totalmem()*100,priority:parseInt(l.getValue(a,"Priority","=",!0),10),mem_vsz:parseInt(l.getValue(a,"PageFileUsage","=",!0),10),mem_rss:Math.floor(parseInt(l.getValue(a,"WorkingSetSize","=",!0),10)/1024),nice:0,started:(o=l.getValue(a,"CreationDate","=",!0),(o=o||"")?o.substr(0,4)+"-"+o.substr(4,2)+"-"+o.substr(6,2)+" "+o.substr(8,2)+":"+o.substr(10,2)+":"+o.substr(12,2):""),state:m?w[m]:w[0],tty:"",user:"",command:g||f,path:h,params:""})}s.sleeping=s.all-s.running-s.blocked-s.unknown,s.list=t;for(let e=0;e<i.length;e++){let t=_(i[e],c+p,y),r=s.list.map((function(e){return e.pid})).indexOf(t.pid);r>=0&&(s.list[r].pcpu=t.pcpuu+t.pcpus,s.list[r].pcpuu=t.pcpuu,s.list[r].pcpus=t.pcpus),a[t.pid]={pcpuu:t.pcpuu,pcpus:t.pcpus,utime:t.utime,stime:t.stime}}y.all=c+p,y.list=Object.assign({},a),y.ms=Date.now()-y.ms,y.result=Object.assign({},s)}var o;e&&e(s),t(s)})}catch(r){e&&e(s),t(s)}else e&&e(s),t(s);else e&&e(y.result),t(y.result)})})},t.processLoad=function(e,t){return l.isFunction(e)&&!t&&(t=e,e=""),new Promise(r=>{process.nextTick(()=>{const s=l.sanitizeShellString(e);let i={proc:s,pid:-1,cpu:0,mem:0};if(s){if(d)try{l.wmic("process get /value").then((e,o)=>{if(!o){let o=e.split(/\n\s*\n/),a=[],c={},p=0,u=0;for(let e=0;e<o.length;e++)if(""!==o[e].trim()){let t=o[e].trim().split("\r\n"),r=parseInt(l.getValue(t,"ProcessId","=",!0),10),c=l.getValue(t,"Caption","=",!0),d=parseInt(l.getValue(t,"UserModeTime","=",!0),10),m=parseInt(l.getValue(t,"KernelModeTime","=",!0),10),f=parseInt(l.getValue(t,"WorkingSetSize","=",!0),10);p+=d,u+=m,a.push({pid:r,utime:d,stime:m,pcpu:0,pcpuu:0,pcpus:0}),c.toLowerCase().indexOf(s.toLowerCase())>=0&&(-1===i.pid?i={proc:c,pid:r,pids:[r],cpu:0,mem:f/n.totalmem()*100}:(i.pids.push(r),i.mem+=f/n.totalmem()*100))}for(let e=0;e<a.length;e++){let t=_(a[e],p+u,x);if(i&&i.pids&&i.pids.length>0){i.pids.indexOf(t.pid)>=0&&(i.cpu=t.pcpuu+t.pcpus)}c[t.pid]={pcpuu:t.pcpuu,pcpus:t.pcpus,utime:t.utime,stime:t.stime}}x.all=p+u,x.list=Object.assign({},c),x.ms=Date.now()-x.ms,x.result=Object.assign({},i),t&&t(i),r(i)}})}catch(e){t&&t(i),r(i)}(u||p)&&o("ps -axo pid,pcpu,pmem,comm | grep -i "+s+" | grep -v grep",{maxBuffer:2048e4},(function(e,n){if(e)t&&t(i),r(i);else{let e=n.toString().split("\n"),a=0,l=[],c=0,u=0;if(e.forEach((function(e){let t=e.trim().replace(/ +/g," ").split(" ");t.length>3&&(a=a?0:parseInt(t[0]),l.push(parseInt(t[0],10)),c+=parseFloat(t[1].replace(",",".")),u+=parseFloat(t[2].replace(",",".")))})),i={proc:s,pid:a,pids:l,cpu:parseFloat((c/e.length).toFixed(2)),mem:parseFloat((u/e.length).toFixed(2))},p){let e='cat /proc/stat | grep "cpu "';for(let t=0;t<i.pids.length;t++)e+=";cat /proc/"+i.pids[t]+"/stat";o(e,{maxBuffer:2048e4},(function(e,n){let s=n.toString().split("\n"),o=S(s.shift()),a={},l={};i.cpu=0;for(let e=0;e<s.length;e++)l=O(s[e],o,x),l.pid&&(i.cpu+=l.pcpuu+l.pcpus,a[l.pid]={pcpuu:l.pcpuu,pcpus:l.pcpus,utime:l.utime,stime:l.stime,cutime:l.cutime,cstime:l.cstime});i.cpu=Math.round(100*i.cpu)/100,x.all=o,x.list=Object.assign({},a),x.ms=Date.now()-x.ms,x.result=Object.assign({},i),t&&t(i),r(i)}))}else t&&t(i),r(i)}}))}})})}},function(e,t){e.exports=require("path")},function(e,t,r){"use strict";const n=r(0).exec,s=r(1);let i=process.platform;const o="linux"===i,a="darwin"===i,l="win32"===i,c="freebsd"===i,p="openbsd"===i,u="netbsd"===i,d="sunos"===i;let m={dateFormat:"",dateSeperator:"",timeFormat:"",timeSeperator:"",amDesignator:"",pmDesignator:""};function f(e,t){let r=[],n=[],s={},i=!0,o=[],a=[],l={},c=!0;return e.forEach((function(e){if("---"===e)c=!1;else{let t=e.replace(/ +/g," ").split(" ");c?n.push({user:t[0],tty:t[1],date:t[2],time:t[3],ip:t&&t.length>4?t[4].replace(/\(/g,"").replace(/\)/g,""):""}):i?(o=t,o.forEach((function(t){a.push(e.indexOf(t))})),i=!1):(s.user=e.substring(a[0],a[1]-1).trim(),s.tty=e.substring(a[1],a[2]-1).trim(),s.ip=e.substring(a[2],a[3]-1).replace(/\(/g,"").replace(/\)/g,"").trim(),s.command=e.substring(a[7],1e3).trim(),l=n.filter((function(e){return e.user.substring(0,8).trim()===s.user&&e.tty===s.tty})),1===l.length&&r.push({user:l[0].user,tty:l[0].tty,date:l[0].date,time:l[0].time,ip:l[0].ip,command:s.command}))}})),0===r.length&&2===t?n:r}function g(e){let t=[],r=[],n={},s={},i=!0;return e.forEach((function(e){if("---"===e)i=!1;else{let o=e.replace(/ +/g," ").split(" ");i?r.push({user:o[0],tty:o[1],date:(new Date).getFullYear()+"-"+("0"+("JANFEBMARAPRMAYJUNJULAUGSEPOCTNOVDEC".indexOf(o[2].toUpperCase())/3+1)).slice(-2)+"-"+("0"+o[3]).slice(-2),time:o[4]}):(n.user=o[0],n.tty=o[1],n.ip="-"!==o[2]?o[2]:"",n.command=o.slice(5,1e3).join(" "),s=r.filter((function(e){return e.user===n.user&&(e.tty.substring(3,1e3)===n.tty||e.tty===n.tty)})),1===s.length&&t.push({user:s[0].user,tty:s[0].tty,date:s[0].date,time:s[0].time,ip:n.ip,command:n.command}))}})),t}t.users=function(e){return new Promise(t=>{process.nextTick(()=>{let r=[];if(o&&n('who --ips; echo "---"; w | tail -n +2',(function(s,i){if(s)e&&e(r),t(r);else{let s=i.toString().split("\n");r=f(s,1),0===r.length?n('who; echo "---"; w | tail -n +2',(function(n,i){n||(s=i.toString().split("\n"),r=f(s,2)),e&&e(r),t(r)})):(e&&e(r),t(r))}})),(c||p||u)&&n('who; echo "---"; w -ih',(function(n,s){if(!n){let e=s.toString().split("\n");r=g(e)}e&&e(r),t(r)})),d&&n('who; echo "---"; w -h',(function(n,s){if(!n){let e=s.toString().split("\n");r=g(e)}e&&e(r),t(r)})),a&&n('who; echo "---"; w -ih',(function(n,s){if(!n){let e=s.toString().split("\n");r=g(e)}e&&e(r),t(r)})),l)try{n("query user",s.execOptsWin,(function(n,i){if(i){let n=i.toString().split("\r\n");new Promise(e=>{process.nextTick(()=>{m.dateFormat?e(m):s.powerShell("(get-culture).DateTimeFormat").then(t=>{let r=t.toString().split("\r\n");m.dateFormat=s.getValue(r,"ShortDatePattern",":"),m.dateSeperator=s.getValue(r,"DateSeparator",":"),m.timeFormat=s.getValue(r,"ShortTimePattern",":"),m.timeSeperator=s.getValue(r,"TimeSeparator",":"),m.amDesignator=s.getValue(r,"AMDesignator",":"),m.pmDesignator=s.getValue(r,"PMDesignator",":"),e(m)}).catch(()=>{e(m)})})}).then(i=>{r=function(e,t){let r=[];const n=e[0],i=[];if(n){const o=" "===n[0]?1:0;i.push(o-1);let a=0;for(let e=o+1;e<n.length;e++)" "!==n[e]||" "!==n[e-1]&&"."!==n[e-1]?a&&(i.push(a),a=0):a=e;for(let n=1;n<e.length;n++)if(e[n].trim()){const o=e[n].substring(i[0]+1,i[1]).trim()||"",a=e[n].substring(i[1]+1,i[2]-2).trim()||"",l=s.parseDateTime(e[n].substring(i[5]+1,2e3).trim(),t)||"";r.push({user:o,tty:a,date:l.date,time:l.time,ip:"",command:""})}}return r}(n,i),e&&e(r),t(r)})}else e&&e(r),t(r)}))}catch(n){e&&e(r),t(r)}})})}},function(e,t,r){"use strict";const n=r(0).exec,s=r(1);let i=process.platform;const o="linux"===i,a="darwin"===i,l="win32"===i,c="freebsd"===i,p="openbsd"===i,u="netbsd"===i,d="sunos"===i;t.inetChecksite=function(e,t){return new Promise(i=>{process.nextTick(()=>{const m=s.sanitizeShellString(e).toLowerCase();let f={url:m,ok:!1,status:404,ms:-1};if(m){let e=Date.now();if(o||c||p||u||a||d){n("curl"+(" -I --connect-timeout 5 -m 5 "+m+' 2>/dev/null | head -n 1 | cut -d " " -f2'),(function(r,n){let s=parseInt(n.toString());f.status=s||404,f.ok=!r&&(200===s||301===s||302===s||304===s),f.ms=f.ok?Date.now()-e:-1,t&&t(f),i(f)}))}if(l){const n=m.startsWith("https:")?r(26):r(27);try{n.get(m,r=>{const n=r.statusCode;f.status=n||404,f.ok=200===n||301===n||302===n||304===n,200!==n?(r.resume(),f.ms=f.ok?Date.now()-e:-1,t&&t(f),i(f)):(r.on("data",()=>{}),r.on("end",()=>{f.ms=f.ok?Date.now()-e:-1,t&&t(f),i(f)}))}).on("error",()=>{t&&t(f),i(f)})}catch(e){t&&t(f),i(f)}}}else t&&t(f),i(f)})})},t.inetLatency=function(e,t){s.isFunction(e)&&!t&&(t=e,e=""),e=e||"8.8.8.8";const r=s.sanitizeShellString(e);return new Promise(e=>{process.nextTick(()=>{let i;if((o||c||p||u||a)&&(o&&(i="ping -c 2 -w 3 "+r+" | grep rtt"),(c||p||u)&&(i="ping -c 2 -t 3 "+r+" | grep round-trip"),a&&(i="ping -c 2 -t 3 "+r+" | grep avg"),n(i,(function(r,n){let s=-1;if(!r){const e=n.toString().split("=");if(e.length>1){const t=e[1].split("/");t.length>1&&(s=parseFloat(t[1]))}}t&&t(s),e(s)}))),d&&n("ping -s -a "+r+" 56 2 | grep avg",{timeout:3e3},(function(r,n){let s=-1;if(!r){const e=n.toString().split("=");if(e.length>1){const t=e[1].split("/");t.length>1&&(s=parseFloat(t[1].replace(",",".")))}}t&&t(s),e(s)})),l){let i=-1;try{n("ping "+r+" -n 1",s.execOptsWin,(function(r,n){if(!r){let e=n.toString().split("\r\n");e.shift(),e.forEach((function(e){if(3===(e.toLowerCase().match(/ms/g)||[]).length){let t=e.replace(/ +/g," ").split(" ");t.length>6&&(i=parseFloat(t[t.length-1]))}}))}t&&t(i),e(i)}))}catch(r){t&&t(i),e(i)}}})})}},function(e,t){e.exports=require("https")},function(e,t){e.exports=require("http")},function(e,t,r){"use strict";const n=r(1),s=r(29);const i="win32"===process.platform;let o,a={},l=0;function c(e,t){function r(e,t){return e.filter(e=>e.Id&&e.Id===t).length>0}n.isFunction(e)&&!t&&(t=e,e=!1),e=e||!1;let i=[];return new Promise(n=>{process.nextTick(()=>{o||(o=new s);const l=[];o.listContainers(e,e=>{let c={};try{if(c=e,c&&"[object Array]"===Object.prototype.toString.call(c)&&c.length>0){for(let e in a)({}).hasOwnProperty.call(a,e)&&(r(c,e)||delete a[e]);c.forEach((function(e){var t,r;e.Names&&"[object Array]"===Object.prototype.toString.call(e.Names)&&e.Names.length>0&&(e.Name=e.Names[0].replace(/^\/|\/$/g,"")),l.push((t=e.Id.trim(),r=e,t=t||"",new Promise(e=>{process.nextTick(()=>{t?(o||(o=new s),o.getInspect(t.trim(),t=>{try{e({id:r.Id,name:r.Name,image:r.Image,imageID:r.ImageID,command:r.Command,created:r.Created,started:t.State&&t.State.StartedAt?Math.round(new Date(t.State.StartedAt).getTime()/1e3):0,finished:t.State&&t.State.FinishedAt&&!t.State.FinishedAt.startsWith("0001-01-01")?Math.round(new Date(t.State.FinishedAt).getTime()/1e3):0,createdAt:t.Created?t.Created:"",startedAt:t.State&&t.State.StartedAt?t.State.StartedAt:"",finishedAt:t.State&&t.State.FinishedAt&&!t.State.FinishedAt.startsWith("0001-01-01")?t.State.FinishedAt:"",state:r.State,restartCount:t.RestartCount||0,platform:t.Platform||"",driver:t.Driver||"",ports:r.Ports,mounts:r.Mounts})}catch(t){e()}})):e()})})))})),l.length?Promise.all(l).then(e=>{t&&t(e),n(e)}):(t&&t(i),n(i))}}catch(e){for(let e in a)({}).hasOwnProperty.call(a,e)&&(r(c,e)||delete a[e]);t&&t(i),n(i)}})})})}function p(e,t){let r=[];return n.isFunction(e)&&!t?(t=e,r=["*"]):(e=(e=e||"*").trim().toLowerCase().replace(/,+/g,"|"),r=e.split("|")),new Promise(e=>{process.nextTick(()=>{const n=[],s=[];if(r.length&&"*"===r[0].trim())r=[],c().then(n=>{for(let e of n)r.push(e.id);p(r.join(",")).then(r=>{t&&t(r),e(r)})});else{for(let e of r)s.push(u(e.trim()));s.length?Promise.all(s).then(r=>{t&&t(r),e(r)}):(t&&t(n),e(n))}})})}function u(e){let t={id:e=e||"",mem_usage:0,mem_limit:0,mem_percent:0,cpu_percent:0,pids:0,netIO:{rx:0,wx:0},blockIO:{r:0,w:0}};return new Promise(r=>{process.nextTick(()=>{e?(o||(o=new s),o.getInspect(e,s=>{try{o.getStats(e,e=>{try{let r=e;r.message||(t.mem_usage=r.memory_stats&&r.memory_stats.usage?r.memory_stats.usage:0,t.mem_limit=r.memory_stats&&r.memory_stats.limit?r.memory_stats.limit:0,t.mem_percent=r.memory_stats&&r.memory_stats.usage&&r.memory_stats.limit?r.memory_stats.usage/r.memory_stats.limit*100:0,t.cpu_percent=r.cpu_stats&&r.precpu_stats?function(e,t){if(i){let r=n.nanoSeconds(),s=0;if(l>0){let n=r-l,i=e.cpu_usage.total_usage-t.cpu_usage.total_usage;n>0&&(s=100*i/n)}return l=r,s}{let r=0,n=e.cpu_usage.total_usage-t.cpu_usage.total_usage,s=e.system_cpu_usage-t.system_cpu_usage;return s>0&&n>0&&(r=n/s*e.cpu_usage.percpu_usage.length*100),r}}(r.cpu_stats,r.precpu_stats):0,t.pids=r.pids_stats&&r.pids_stats.current?r.pids_stats.current:0,t.restartCount=s.RestartCount?s.RestartCount:0,r.networks&&(t.netIO=function(e){let t,r;for(let n in e){if(!{}.hasOwnProperty.call(e,n))continue;let s=e[n];t=+s.rx_bytes,r=+s.tx_bytes}return{rx:t,tx:r}}(r.networks)),r.blkio_stats&&(t.blockIO=function(e){let t={r:0,w:0};return e&&e.io_service_bytes_recursive&&"[object Array]"===Object.prototype.toString.call(e.io_service_bytes_recursive)&&e.io_service_bytes_recursive.length>0&&e.io_service_bytes_recursive.forEach((function(e){e.op&&"read"===e.op.toLowerCase()&&e.value&&(t.r+=e.value),e.op&&"write"===e.op.toLowerCase()&&e.value&&(t.w+=e.value)})),t}(r.blkio_stats)),t.cpu_stats=r.cpu_stats?r.cpu_stats:{},t.precpu_stats=r.precpu_stats?r.precpu_stats:{},t.memory_stats=r.memory_stats?r.memory_stats:{},t.networks=r.networks?r.networks:{})}catch(e){n.noop()}r(t)})}catch(e){n.noop()}})):r(t)})})}function d(e,t){e=e||"";let r=[];return new Promise(i=>{process.nextTick(()=>{e?(o||(o=new s),o.getProcesses(e,e=>{try{if(e&&e.Titles&&e.Processes){let t=e.Titles.map((function(e){return e.toUpperCase()})),n=t.indexOf("PID"),s=t.indexOf("PPID"),i=t.indexOf("PGID"),o=t.indexOf("VSZ"),a=t.indexOf("TIME"),l=t.indexOf("ELAPSED"),c=t.indexOf("NI"),p=t.indexOf("RUSER"),u=t.indexOf("USER"),d=t.indexOf("RGROUP"),m=t.indexOf("GROUP"),f=t.indexOf("STAT"),g=t.indexOf("RSS"),h=t.indexOf("COMMAND");e.Processes.forEach(e=>{r.push({pid_host:n>=0?e[n]:"",ppid:s>=0?e[s]:"",pgid:i>=0?e[i]:"",user:u>=0?e[u]:"",ruser:p>=0?e[p]:"",group:m>=0?e[m]:"",rgroup:d>=0?e[d]:"",stat:f>=0?e[f]:"",time:a>=0?e[a]:"",elapsed:l>=0?e[l]:"",nice:c>=0?e[c]:"",rss:g>=0?e[g]:"",vsz:o>=0?e[o]:"",command:h>=0?e[h]:""})})}}catch(e){n.noop()}t&&t(r),i(r)})):(t&&t(r),i(r))})})}t.dockerInfo=function(e){return new Promise(t=>{process.nextTick(()=>{o||(o=new s);const r={};o.getInfo(n=>{r.id=n.ID,r.containers=n.Containers,r.containersRunning=n.ContainersRunning,r.containersPaused=n.ContainersPaused,r.containersStopped=n.ContainersStopped,r.images=n.Images,r.driver=n.Driver,r.memoryLimit=n.MemoryLimit,r.swapLimit=n.SwapLimit,r.kernelMemory=n.KernelMemory,r.cpuCfsPeriod=n.CpuCfsPeriod,r.cpuCfsQuota=n.CpuCfsQuota,r.cpuShares=n.CPUShares,r.cpuSet=n.CPUSet,r.ipv4Forwarding=n.IPv4Forwarding,r.bridgeNfIptables=n.BridgeNfIptables,r.bridgeNfIp6tables=n.BridgeNfIp6tables,r.debug=n.Debug,r.nfd=n.NFd,r.oomKillDisable=n.OomKillDisable,r.ngoroutines=n.NGoroutines,r.systemTime=n.SystemTime,r.loggingDriver=n.LoggingDriver,r.cgroupDriver=n.CgroupDriver,r.nEventsListener=n.NEventsListener,r.kernelVersion=n.KernelVersion,r.pperatingSystem=n.OperatingSystem,r.osType=n.OSType,r.architecture=n.Architecture,r.ncpu=n.NCPU,r.memTotal=n.MemTotal,r.dockerRootDir=n.DockerRootDir,r.httpProxy=n.HttpProxy,r.httpsProxy=n.HttpsProxy,r.noProxy=n.NoProxy,r.name=n.Name,r.labels=n.Labels,r.experimentalBuild=n.ExperimentalBuild,r.serverVersion=n.ServerVersion,r.clusterStore=n.ClusterStore,r.clusterAdvertise=n.ClusterAdvertise,r.defaultRuntime=n.DefaultRuntime,r.liveRestoreEnabled=n.LiveRestoreEnabled,r.isolation=n.Isolation,r.initBinary=n.InitBinary,r.productLicense=n.ProductLicense,e&&e(r),t(r)})})})},t.dockerContainers=c,t.dockerContainerStats=p,t.dockerContainerProcesses=d,t.dockerAll=function(e){return new Promise(t=>{process.nextTick(()=>{c(!0).then(r=>{if(r&&"[object Array]"===Object.prototype.toString.call(r)&&r.length>0){let n=r.length;r.forEach((function(s){p(s.id).then(i=>{s.mem_usage=i[0].mem_usage,s.mem_limit=i[0].mem_limit,s.mem_percent=i[0].mem_percent,s.cpu_percent=i[0].cpu_percent,s.pids=i[0].pids,s.netIO=i[0].netIO,s.blockIO=i[0].blockIO,s.cpu_stats=i[0].cpu_stats,s.precpu_stats=i[0].precpu_stats,s.memory_stats=i[0].memory_stats,s.networks=i[0].networks,d(s.id).then(i=>{s.processes=i,n-=1,0===n&&(e&&e(r),t(r))})})}))}else e&&e(r),t(r)})})})}},function(e,t,r){"use strict";const n=r(30),s="Windows_NT"===r(3).type()?"//./pipe/docker_engine":"/var/run/docker.sock";e.exports=class{getInfo(e){try{let t,r=n.createConnection({path:s}),i="";r.on("connect",()=>{r.write("GET http:/info HTTP/1.0\r\n\r\n")}),r.on("data",e=>{i+=e.toString()}),r.on("error",()=>{r=!1,e({})}),r.on("end",()=>{let n=i.indexOf("\r\n\r\n");i=i.substring(n+4),r=!1;try{t=JSON.parse(i),e(t)}catch(t){e({})}})}catch(t){e({})}}listContainers(e,t){try{let r,i=n.createConnection({path:s}),o="";i.on("connect",()=>{i.write("GET http:/containers/json"+(e?"?all=1":"")+" HTTP/1.0\r\n\r\n")}),i.on("data",e=>{o+=e.toString()}),i.on("error",()=>{i=!1,t({})}),i.on("end",()=>{let e=o.indexOf("\r\n\r\n");o=o.substring(e+4),i=!1;try{r=JSON.parse(o),t(r)}catch(e){t({})}})}catch(e){t({})}}getStats(e,t){if(e=e||"")try{let r,i=n.createConnection({path:s}),o="";i.on("connect",()=>{i.write("GET http:/containers/"+e+"/stats?stream=0 HTTP/1.0\r\n\r\n")}),i.on("data",e=>{o+=e.toString()}),i.on("error",()=>{i=!1,t({})}),i.on("end",()=>{let e=o.indexOf("\r\n\r\n");o=o.substring(e+4),i=!1;try{r=JSON.parse(o),t(r)}catch(e){t({})}})}catch(e){t({})}else t({})}getInspect(e,t){if(e=e||"")try{let r,i=n.createConnection({path:s}),o="";i.on("connect",()=>{i.write("GET http:/containers/"+e+"/json?stream=0 HTTP/1.0\r\n\r\n")}),i.on("data",e=>{o+=e.toString()}),i.on("error",()=>{i=!1,t({})}),i.on("end",()=>{let e=o.indexOf("\r\n\r\n");o=o.substring(e+4),i=!1;try{r=JSON.parse(o),t(r)}catch(e){t({})}})}catch(e){t({})}else t({})}getProcesses(e,t){if(e=e||"")try{let r,i=n.createConnection({path:s}),o="";i.on("connect",()=>{i.write("GET http:/containers/"+e+"/top?ps_args=-opid,ppid,pgid,vsz,time,etime,nice,ruser,user,rgroup,group,stat,rss,args HTTP/1.0\r\n\r\n")}),i.on("data",e=>{o+=e.toString()}),i.on("error",()=>{i=!1,t({})}),i.on("end",()=>{let e=o.indexOf("\r\n\r\n");o=o.substring(e+4),i=!1;try{r=JSON.parse(o),t(r)}catch(e){t({})}})}catch(e){t({})}else t({})}}},function(e,t){e.exports=require("net")},function(e,t,r){"use strict";const n=r(3),s=r(0).exec,i=r(1);t.vboxInfo=function(e){let t=[];return new Promise(r=>{process.nextTick(()=>{try{s(i.getVboxmanage()+" list vms --long",(function(s,o){let a=(n.EOL+o.toString()).split(n.EOL+"Name:");a.shift(),a.forEach(e=>{const r=("Name:"+e).split(n.EOL),s=i.getValue(r,"State"),o=s.startsWith("running"),a=o?s.replace("running (since ","").replace(")","").trim():"";let l=0;try{if(o){const e=new Date(a),t=e.getTimezoneOffset();l=Math.round((Date.now()-Date.parse(e))/1e3)+60*t}}catch(e){i.noop()}const c=o?"":s.replace("powered off (since","").replace(")","").trim();let p=0;try{if(!o){const e=new Date(c),t=e.getTimezoneOffset();p=Math.round((Date.now()-Date.parse(e))/1e3)+60*t}}catch(e){i.noop()}t.push({id:i.getValue(r,"UUID"),name:i.getValue(r,"Name"),running:o,started:a,runningSince:l,stopped:c,stoppedSince:p,guestOS:i.getValue(r,"Guest OS"),hardwareUUID:i.getValue(r,"Hardware UUID"),memory:parseInt(i.getValue(r,"Memory size","     "),10),vram:parseInt(i.getValue(r,"VRAM size"),10),cpus:parseInt(i.getValue(r,"Number of CPUs"),10),cpuExepCap:i.getValue(r,"CPU exec cap"),cpuProfile:i.getValue(r,"CPUProfile"),chipset:i.getValue(r,"Chipset"),firmware:i.getValue(r,"Firmware"),pageFusion:"enabled"===i.getValue(r,"Page Fusion"),configFile:i.getValue(r,"Config file"),snapshotFolder:i.getValue(r,"Snapshot folder"),logFolder:i.getValue(r,"Log folder"),HPET:"enabled"===i.getValue(r,"HPET"),PAE:"enabled"===i.getValue(r,"PAE"),longMode:"enabled"===i.getValue(r,"Long Mode"),tripleFaultReset:"enabled"===i.getValue(r,"Triple Fault Reset"),APIC:"enabled"===i.getValue(r,"APIC"),X2APIC:"enabled"===i.getValue(r,"X2APIC"),ACPI:"enabled"===i.getValue(r,"ACPI"),IOAPIC:"enabled"===i.getValue(r,"IOAPIC"),biosAPICmode:i.getValue(r,"BIOS APIC mode"),bootMenuMode:i.getValue(r,"Boot menu mode"),bootDevice1:i.getValue(r,"Boot Device 1"),bootDevice2:i.getValue(r,"Boot Device 2"),bootDevice3:i.getValue(r,"Boot Device 3"),bootDevice4:i.getValue(r,"Boot Device 4"),timeOffset:i.getValue(r,"Time offset"),RTC:i.getValue(r,"RTC")})}),e&&e(t),r(t)}))}catch(n){e&&e(t),r(t)}})})}},function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),s=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||t.hasOwnProperty(r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),s(r(5),t),s(r(7),t),s(r(35),t)},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.STDNULL=t.STYLES=t.COLORS=void 0;const n=r(34);t.COLORS={BACKGROUND:{black:"[40m",blue:"[44m",cyan:"[46m",green:"[42m",magenta:"[45m",red:"[41m",white:"[47m",yellow:"[43m"},FONT:{black:"[30m",blue:"[34m",cyan:"[36m",green:"[32m",magenta:"[35m",red:"[31m",white:"[37m",yellow:"[33m"},CONSOLE:{backLine:"[1A",bold:"[1m",cleanLine:"[K",dim:"[2m",italic:"[3m",reset:"[0m",reverse:"[7m",strikethrough:"[9m",underscore:"[4m"}},t.STYLES={ASSERT:{TRUE:{name:"ASSERT",background:t.COLORS.BACKGROUND.cyan,font:t.COLORS.FONT.cyan},FALSE:{name:"ASSERT",background:t.COLORS.BACKGROUND.red,font:t.COLORS.FONT.red}},DEBUG:{name:"DEBUG ",background:t.COLORS.BACKGROUND.blue,font:t.COLORS.FONT.blue},INFO:{name:" INFO ",background:t.COLORS.BACKGROUND.green,font:t.COLORS.FONT.green},WARN:{name:" WARN ",background:t.COLORS.BACKGROUND.yellow,font:t.COLORS.FONT.yellow},ERROR:{name:"ERROR ",background:t.COLORS.BACKGROUND.red,font:t.COLORS.FONT.red}},t.STDNULL=new n.Writable({write(){}})},function(e,t){e.exports=require("stream")},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.logger=t.Logger=void 0;const n=r(36),s=r(2),i=r(5),o=r(7);class a extends n.Console{constructor(e){"string"==typeof e?(super({stdout:process.stdout,stderr:process.stderr,colorMode:!0}),this.colorful=!0,this.level=i.Level.ALL,this.name=e,this.stdout=process.stdout,this.stderr=process.stderr):(super({stdout:e.stdout||i.STDNULL,stderr:e.stderr,colorMode:e.colorful}),this.colorful="boolean"!=typeof e.colorful||e.colorful,this.level=e.level||i.Level.ALL,this.name=e.name,this.fileout=e.fileout?s.createWriteStream(e.fileout,{flags:"a"}):void 0,this.fileerr=e.fileerr?s.createWriteStream(e.fileerr,{flags:"a"}):void 0,this.stdout=e.stdout,this.stderr=e.stderr),a.map.set(this.name,this)}static getLogger(e="default"){return a.map.get(e)}static setLogger(e){a.map.set(e.name,e)}getTime(e,t=this.colorful){const r=new Date,n=`${r.getFullYear()}-${(""+(r.getMonth()+1)).padStart(2,"0")}-${(""+r.getDate()).padStart(2,"0")} ${(""+r.getHours()).padStart(2,"0")}:${(""+r.getMinutes()).padStart(2,"0")}:${(""+r.getSeconds()).padStart(2,"0")}`;return t?o.color(e.font,n)+" "+o.color(e.background,o.color(i.COLORS.FONT.black,`[${e.name}]`))+" ":`${n} [${e.name}]`}assert(e,t,r){return e?(this.stdout&&this.stdout.write(`${this.getTime(i.STYLES.ASSERT.TRUE)} ${t}\n`),this.fileout&&this.fileout.write(`${this.getTime(i.STYLES.ASSERT.TRUE,!1)} ${t}\n`),!0):(this.stderr&&this.stderr.write(`${this.getTime(i.STYLES.ASSERT.FALSE)} ${r}\n`),this.fileerr&&this.fileerr.write(`${this.getTime(i.STYLES.ASSERT.FALSE,!1)} ${r}\n`),!1)}debug(...e){i.Level.DEBUG>=this.level&&i.Level.DEBUG>=a.LEVEL&&(this.stdout&&this.stdout.write(`${this.getTime(i.STYLES.DEBUG)} ${e.join(" ")}\n`),this.fileout&&this.fileout.write(`${this.getTime(i.STYLES.DEBUG,!1)} ${e.join(" ")}\n`))}info(...e){i.Level.INFO>=this.level&&i.Level.INFO>=a.LEVEL&&(this.stdout&&this.stdout.write(`${this.getTime(i.STYLES.INFO)} ${e.join(" ")}\n`),this.fileout&&this.fileout.write(`${this.getTime(i.STYLES.INFO,!1)} ${e.join(" ")}\n`))}warn(...e){i.Level.WARN>=this.level&&i.Level.WARN>=a.LEVEL&&(this.stderr&&this.stderr.write(`${this.getTime(i.STYLES.WARN)} ${e.join(" ")}\n`),this.fileerr&&this.fileerr.write(`${this.getTime(i.STYLES.WARN,!1)} ${e.join(" ")}\n`))}error(...e){i.Level.ERROR>=this.level&&i.Level.ERROR>=a.LEVEL&&(this.stderr&&this.stderr.write(`${this.getTime(i.STYLES.ERROR)} ${e.join(" ")}\n`),this.fileerr&&this.fileerr.write(`${this.getTime(i.STYLES.ERROR,!1)} ${e.join(" ")}\n`))}setLevel(e){return this.level=e}toString(){return`Logger name: ${this.name}. Log to file: ${this.fileout&&this.fileerr}.`}}t.Logger=a,a.LEVEL=i.Level.ALL,a.map=new Map,t.logger=new a("default")},function(e,t){e.exports=require("console")},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.NetworkMonitor=void 0;const n=r(0),s=r(6),i=r(4);t.NetworkMonitor=class{constructor(e={maxError:3,maxRestart:3,host:"192.168.0.1",interval:10}){this.MAXERROR=e.maxError||3,this.MAXRESTART=e.maxRestart||3,this.HOST=e.host||"192.168.0.1",this.INTERVAL=e.interval||10,this.times={total:0,error:0,restart:0}}async handle(e){this.times.total++;const t=e[0];if("6"!==t&&"P"!==t?(i.logger.warn(`Host reply error for the ${++this.times.error} times.`),this.times.error>this.MAXERROR&&this.times.restart<this.MAXRESTART?(this.times.error=0,i.logger.warn(`Restart networking service for the ${++this.times.restart} times.`),i.logger.debug("Restarting network service...\n"),n.exec("sudo systemctl restart networking")):this.times.error>this.MAXERROR&&(i.logger.error("Not able to restart service, try to solve it with yourself."),setTimeout(()=>process.exit(1),1e3))):this.times.error=0,!(this.times.total%60)){const e=await s.networkInterfaces();e.forEach((t,r)=>i.logger.info(`Network interfaces report, ${r+1} in ${e.length}\n            iface: ${t.ifaceName}\n            IPv4: ${t.ip4}\n            IPv6: ${t.ip6}\n            Internal: ${t.internal}\n            Virtual: ${t.virtual}\n            State: ${t.operstate}\n            Type: ${t.type}`)),i.logger.info("Network interfaces report over.")}}run(){i.logger.info("Network monitor starting...");const e=n.exec(`ping -i ${this.INTERVAL} ${this.HOST}`).stdout;null==e||e.on("data",e=>this.handle(e)),null==e||e.on("error",e=>i.logger.error("exec error:",e)),i.logger.info("Network monitor started.")}}}]);